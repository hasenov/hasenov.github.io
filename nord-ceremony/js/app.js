/*! For license information please see app.js.LICENSE.txt */
!function(){var t={40:function(t,e,n){var i=n(404),o=n(524).each;function a(t,e){this.query=t,this.isUnconditional=e,this.handlers=[],this.mql=window.matchMedia(t);var n=this;this.listener=function(t){n.mql=t.currentTarget||t,n.assess()},this.mql.addListener(this.listener)}a.prototype={constuctor:a,addHandler:function(t){var e=new i(t);this.handlers.push(e),this.matches()&&e.on()},removeHandler:function(t){var e=this.handlers;o(e,(function(n,i){if(n.equals(t))return n.destroy(),!e.splice(i,1)}))},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){o(this.handlers,(function(t){t.destroy()})),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var t=this.matches()?"on":"off";o(this.handlers,(function(e){e[t]()}))}},t.exports=a},98:function(t,e,n){var i=n(40),o=n(524),a=o.each,r=o.isFunction,s=o.isArray;function l(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}l.prototype={constructor:l,register:function(t,e,n){var o=this.queries,l=n&&this.browserIsIncapable;return o[t]||(o[t]=new i(t,l)),r(e)&&(e={match:e}),s(e)||(e=[e]),a(e,(function(e){r(e)&&(e={match:e}),o[t].addHandler(e)})),this},unregister:function(t,e){var n=this.queries[t];return n&&(e?n.removeHandler(e):(n.clear(),delete this.queries[t])),this}},t.exports=l},338:function(t,e){var n,i;i=this,void 0===(n=function(){return i.svg4everybody=function(){function t(t,e,n){if(n){var i=document.createDocumentFragment(),o=!e.hasAttribute("viewBox")&&n.getAttribute("viewBox");o&&e.setAttribute("viewBox",o);for(var a=n.cloneNode(!0);a.childNodes.length;)i.appendChild(a.firstChild);t.appendChild(i)}}function e(e){e.onreadystatechange=function(){if(4===e.readyState){var n=e._cachedDocument;n||((n=e._cachedDocument=document.implementation.createHTMLDocument("")).body.innerHTML=e.responseText,e._cachedTarget={}),e._embeds.splice(0).map((function(i){var o=e._cachedTarget[i.id];o||(o=e._cachedTarget[i.id]=n.getElementById(i.id)),t(i.parent,i.svg,o)}))}},e.onreadystatechange()}function n(t){for(var e=t;"svg"!==e.nodeName.toLowerCase()&&(e=e.parentNode););return e}return function(i){var o,a=Object(i),r=window.top!==window.self;o="polyfill"in a?a.polyfill:/\bTrident\/[567]\b|\bMSIE (?:9|10)\.0\b/.test(navigator.userAgent)||(navigator.userAgent.match(/\bEdge\/12\.(\d+)\b/)||[])[1]<10547||(navigator.userAgent.match(/\bAppleWebKit\/(\d+)\b/)||[])[1]<537||/\bEdge\/.(\d+)\b/.test(navigator.userAgent)&&r;var s={},l=window.requestAnimationFrame||setTimeout,c=document.getElementsByTagName("use"),d=0;o&&function i(){for(var r=0;r<c.length;){var u=c[r],h=u.parentNode,g=n(h),p=u.getAttribute("xlink:href")||u.getAttribute("href");if(!p&&a.attributeName&&(p=u.getAttribute(a.attributeName)),g&&p){if(o)if(!a.validate||a.validate(p,g,u)){h.removeChild(u);var f=p.split("#"),m=f.shift(),v=f.join("#");if(m.length){var y=s[m];y||((y=s[m]=new XMLHttpRequest).open("GET",m),y.send(),y._embeds=[]),y._embeds.push({parent:h,svg:g,id:v}),e(y)}else t(h,g,document.getElementById(v))}else++r,++d}else++r}(!c.length||c.length-d>0)&&l(i,67)}()}}()}.apply(e,[]))||(t.exports=n)},386:function(t,e,n){var i=n(98);t.exports=new i},404:function(t){function e(t){this.options=t,!t.deferSetup&&this.setup()}e.prototype={constructor:e,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(t){return this.options===t||this.options.match===t}},t.exports=e},524:function(t){t.exports={isFunction:function(t){return"function"==typeof t},isArray:function(t){return"[object Array]"===Object.prototype.toString.apply(t)},each:function(t,e){for(var n=0,i=t.length;n<i&&!1!==e(t[n],n);n++);}}}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var a=e[i]={exports:{}};return t[i].call(a.exports,a,a.exports,n),a.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){"use strict";var t=n(338),e=n.n(t),i=n(386),o=n.n(i),a={elements:{html:document.documentElement},breakpoints:{max:{sm:575.98,md:767.98,lg:991.98,xl:1199.98},min:{sm:576,md:768,lg:992}},get media(){var t=this.breakpoints;return{max:{sm:"(max-width: ".concat(t.max.sm,"px)"),md:"(max-width: ".concat(t.max.md,"px)"),lg:"(max-width: ".concat(t.max.lg,"px)"),xl:"(max-width: ".concat(t.max.xl,"px)")},min:{md:"(min-width: ".concat(t.min.md,"px)"),lg:"(min-width: ".concat(t.min.lg,"px)")}}}},r=document.querySelector(".rent-hero"),s=document.querySelector(".rent-hero__btn"),l=s?s.parentElement:null,c=document.querySelector(".add-to-cart__prices"),d=document.querySelector(".content-product__title"),u=document.querySelector(".content-product__inner"),h=document.querySelector(".details-add-to-cart"),g=document.querySelector(".product__actions"),p=document.querySelector(".product__top-line"),f=document.querySelector(".header__nav-controls");function m(t){return function(t){if(Array.isArray(t))return v(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}o().register(a.media.max.xl,{match:function(){r&&s&&r.insertAdjacentElement("beforeend",s)},unmatch:function(){r&&s&&l.insertAdjacentElement("beforeend",s)}}).register(a.media.max.lg,{match:function(){if(c&&d&&d.insertAdjacentElement("afterend",c.cloneNode(!0)),h){var t=h.cloneNode(!0);t.classList.remove("add-to-cart__details"),u.insertAdjacentElement("beforeend",t)}},unmatch:function(){var t=document.querySelector(".content-product__inner .add-to-cart__prices");if(t&&t.remove(),u){var e=u.querySelector(".details-add-to-cart");e&&e.remove()}}}).register(a.media.max.md,{match:function(){document.querySelectorAll(".product-cart").forEach((function(t){var e=t.querySelector(".product-cart__content"),n=t.querySelector(".product-cart__mobile-actions"),i=t.querySelector(".product-cart__prices"),o=t.querySelector(".product-cart__quantity"),a=t.querySelector(".product-cart__actions-wrap");i&&e.insertAdjacentElement("afterbegin",i),o&&n&&n.insertAdjacentElement("beforeend",o),a&&n&&n.insertAdjacentElement("beforeend",a)}))},unmatch:function(){document.querySelectorAll(".product-cart").forEach((function(t){var e=t.querySelector(".product-cart__inner"),n=t.querySelector(".product-cart__content"),i=t.querySelector(".product-cart__prices"),o=t.querySelector(".product-cart__quantity"),a=t.querySelector(".product-cart__actions-wrap");a&&n.insertAdjacentElement("beforeend",a),i&&e.insertAdjacentElement("beforeend",i),o&&e.insertAdjacentElement("beforeend",o)}))}}).register(a.media.max.sm,{match:function(){g&&f&&f.insertAdjacentElement("beforeend",g)},unmatch:function(){g&&f&&p.insertAdjacentElement("beforeend",g)}});var y,b,w,x,T,E=(y=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],b=function(){function t(e){var n=e.targetModal,i=e.triggers,o=void 0===i?[]:i,a=e.onShow,r=void 0===a?function(){}:a,s=e.onClose,l=void 0===s?function(){}:s,c=e.openTrigger,d=void 0===c?"data-micromodal-trigger":c,u=e.closeTrigger,h=void 0===u?"data-micromodal-close":u,g=e.openClass,p=void 0===g?"is-open":g,f=e.disableScroll,v=void 0!==f&&f,y=e.disableFocus,b=void 0!==y&&y,w=e.awaitCloseAnimation,x=void 0!==w&&w,T=e.awaitOpenAnimation,E=void 0!==T&&T,M=e.debugMode,D=void 0!==M&&M;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.modal=document.getElementById(n),this.config={debugMode:D,disableScroll:v,openTrigger:d,closeTrigger:h,openClass:p,onShow:r,onClose:l,awaitCloseAnimation:x,awaitOpenAnimation:E,disableFocus:b},o.length>0&&this.registerTriggers.apply(this,m(o)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var e;return(e=[{key:"registerTriggers",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];n.filter(Boolean).forEach((function(e){e.addEventListener("click",(function(e){return t.showModal(e)}))}))}},{key:"showModal",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation?this.modal.addEventListener("animationend",(function e(){t.modal.removeEventListener("animationend",e,!1),t.setFocusToFirstNode()}),!1):this.setFocusToFirstNode(),this.config.onShow(this.modal,this.activeElement,e)}},{key:"closeModal",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,t),this.config.awaitCloseAnimation){var n=this.config.openClass;this.modal.addEventListener("animationend",(function t(){e.classList.remove(n),e.removeEventListener("animationend",t,!1)}),!1)}else e.classList.remove(this.config.openClass)}},{key:"closeModalById",value:function(t){this.modal=document.getElementById(t),this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(t){if(this.config.disableScroll){var e=document.querySelector("body");switch(t){case"enable":Object.assign(e.style,{overflow:""});break;case"disable":Object.assign(e.style,{overflow:"hidden"})}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(t){(t.target.hasAttribute(this.config.closeTrigger)||t.target.parentNode.hasAttribute(this.config.closeTrigger))&&(t.preventDefault(),t.stopPropagation(),this.closeModal(t))}},{key:"onKeydown",value:function(t){27===t.keyCode&&this.closeModal(t),9===t.keyCode&&this.retainFocus(t)}},{key:"getFocusableNodes",value:function(){var t=this.modal.querySelectorAll(y);return Array.apply(void 0,m(t))}},{key:"setFocusToFirstNode",value:function(){var t=this;if(!this.config.disableFocus){var e=this.getFocusableNodes();if(0!==e.length){var n=e.filter((function(e){return!e.hasAttribute(t.config.closeTrigger)}));n.length>0&&n[0].focus(),0===n.length&&e[0].focus()}}}},{key:"retainFocus",value:function(t){var e=this.getFocusableNodes();if(0!==e.length)if(e=e.filter((function(t){return null!==t.offsetParent})),this.modal.contains(document.activeElement)){var n=e.indexOf(document.activeElement);t.shiftKey&&0===n&&(e[e.length-1].focus(),t.preventDefault()),!t.shiftKey&&e.length>0&&n===e.length-1&&(e[0].focus(),t.preventDefault())}else e[0].focus()}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}(),w=null,x=function(t){if(!document.getElementById(t))return console.warn("MicroModal: ❗Seems like you have missed %c'".concat(t,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(t,'"></div>')),!1},T=function(t,e){if(function(t){t.length<=0&&(console.warn("MicroModal: ❗Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'))}(t),!e)return!0;for(var n in e)x(n);return!0},{init:function(t){var e=Object.assign({},{openTrigger:"data-micromodal-trigger"},t),n=m(document.querySelectorAll("[".concat(e.openTrigger,"]"))),i=function(t,e){var n=[];return t.forEach((function(t){var i=t.attributes[e].value;void 0===n[i]&&(n[i]=[]),n[i].push(t)})),n}(n,e.openTrigger);if(!0!==e.debugMode||!1!==T(n,i))for(var o in i){var a=i[o];e.targetModal=o,e.triggers=m(a),w=new b(e)}},show:function(t,e){var n=e||{};n.targetModal=t,!0===n.debugMode&&!1===x(t)||(w&&w.removeEventListeners(),(w=new b(n)).showModal())},close:function(t){t?w.closeModalById(t):w.closeModal()}});"undefined"!=typeof window&&(window.MicroModal=E);var M,D,S=E;function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function k(){k=function(){return e};var t,e={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function d(t,e,n,i){var a=e&&e.prototype instanceof v?e:v,r=Object.create(a.prototype),s=new L(i||[]);return o(r,"_invoke",{value:S(t,n,s)}),r}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var h="suspendedStart",g="suspendedYield",p="executing",f="completed",m={};function v(){}function y(){}function b(){}var w={};c(w,r,(function(){return this}));var x=Object.getPrototypeOf,T=x&&x(x(I([])));T&&T!==n&&i.call(T,r)&&(w=T);var E=b.prototype=v.prototype=Object.create(w);function M(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function D(t,e){function n(o,a,r,s){var l=u(t[o],t,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==_(d)&&i.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,r,s)}),(function(t){n("throw",t,r,s)})):e.resolve(d).then((function(t){c.value=t,r(c)}),(function(t){return n("throw",t,r,s)}))}s(l.arg)}var a;o(this,"_invoke",{value:function(t,i){function o(){return new e((function(e,o){n(t,i,e,o)}))}return a=a?a.then(o,o):o()}})}function S(e,n,i){var o=h;return function(a,r){if(o===p)throw Error("Generator is already running");if(o===f){if("throw"===a)throw r;return{value:t,done:!0}}for(i.method=a,i.arg=r;;){var s=i.delegate;if(s){var l=A(s,i);if(l){if(l===m)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(o===h)throw o=f,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o=p;var c=u(e,n,i);if("normal"===c.type){if(o=i.done?f:g,c.arg===m)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(o=f,i.method="throw",i.arg=c.arg)}}}function A(e,n){var i=n.method,o=e.iterator[i];if(o===t)return n.delegate=null,"throw"===i&&e.iterator.return&&(n.method="return",n.arg=t,A(e,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),m;var a=u(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var r=a.arg;return r?r.done?(n[e.resultName]=r.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[r];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(i.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(_(e)+" is not iterable")}return y.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,l,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},M(D.prototype),c(D.prototype,s,(function(){return this})),e.AsyncIterator=D,e.async=function(t,n,i,o,a){void 0===a&&(a=Promise);var r=new D(d(t,n,i,o),a);return e.isGeneratorFunction(n)?r:r.next().then((function(t){return t.done?t.value:r.next()}))},M(E),c(E,l,"Generator"),c(E,r,(function(){return this})),c(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},e.values=I,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(i,o){return s.type="throw",s.arg=e,n.next=i,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],s=r.completion;if("root"===r.tryLoc)return o("end");if(r.tryLoc<=this.prev){var l=i.call(r,"catchLoc"),c=i.call(r,"finallyLoc");if(l&&c){if(this.prev<r.catchLoc)return o(r.catchLoc,!0);if(this.prev<r.finallyLoc)return o(r.finallyLoc)}else if(l){if(this.prev<r.catchLoc)return o(r.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return o(r.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=t,r.arg=e,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;C(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:I(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),m}},e}function A(t,e,n,i,o,a,r){try{var s=t[a](r),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(i,o)}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}var C,L,I={lat:61.8422786,lng:9.4076847};function N(t){var e,n=t.classes,i=void 0===n?[]:n,o=t.title,a=t.svgId,r=t.onClick,s=document.createElement("button");return s.type="button",(e=s.classList).add.apply(e,["map-button"].concat(function(t){return function(t){if(Array.isArray(t))return O(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return O(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(i))),s.innerHTML='<svg aria-hidden="true" class="map-control__icon">\n                                <use href="images/icons/sprite.svg#'.concat(a,'"></use>\n                              </svg>'),s.title=o,s.addEventListener("click",r),s}function P(){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){var e={lat:t.coords.latitude,lng:t.coords.longitude};D.setPosition(e),D.setContent("Your location"),D.open(M),M.setCenter(e)}),(function(){j(!0,M.getCenter())})):j(!1,M.getCenter())}function q(){return q=function(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var a=t.apply(e,n);function r(t){A(a,i,o,r,s,"next",t)}function s(t){A(a,i,o,r,s,"throw",t)}r(void 0)}))}}(k().mark((function t(){var e,n,i,r,s,l,c,d,u,h;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!M){t.next=2;break}return t.abrupt("return");case 2:if(e=document.querySelector(".address-modal"),n=document.getElementById("map")){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,google.maps.importLibrary("maps");case 8:i=t.sent,r=i.Map,M=new r(n,{zoom:14,center:I,zoomControl:!1,streetViewControl:!1,cameraControl:!1,fullscreenControl:!1,mapTypeControl:!1}),D=new google.maps.InfoWindow,(C=document.createElement("div")).classList.add("map-buttons-container","map-buttons-container--zoom"),s=N({classes:["map-button--plus"],title:"Zoom in",svgId:"plus",onClick:function(){return M.setZoom(M.getZoom()+1)}}),l=N({classes:["map-button--minus"],title:"Zoom out",svgId:"minus",onClick:function(){return M.setZoom(M.getZoom()-1)}}),C.append(s,l),(L=document.createElement("div")).classList.add("map-buttons-container","map-buttons-container--nav"),c=N({classes:["map-button--location"],title:"Determine location",svgId:"navigation",onClick:P}),d=N({classes:["map-button--search"],title:"Search address",svgId:"search",onClick:function(t){t.preventDefault(),e.classList.add("show-search")}}),L.append(c,d),o().register(a.media.max.md,{match:function(){H(!0)},unmatch:function(){H(!1)}}),H(window.matchMedia(a.media.max.md).matches),(u=document.querySelector(".address-modal__locate"))&&u.addEventListener("click",(function(){P()})),(h=document.querySelector(".address-modal__close"))&&h.addEventListener("click",(function(){document.querySelector(".address-modal").classList.remove("show-search")}));case 27:case"end":return t.stop()}}),t)}))),q.apply(this,arguments)}function j(t,e){D.setPosition(e),D.setContent(t?"Error: Failed to get location.":"Error: Your browser does not support geolocation."),D.open(M)}function F(t){[google.maps.ControlPosition.LEFT_BOTTOM,google.maps.ControlPosition.RIGHT_BOTTOM].forEach((function(e){for(var n=M.controls[e],i=0,o=n.getLength();i<o;i++)if(n.getAt(i)===t){n.removeAt(i);break}}))}function H(t){F(C),F(L),t?(M.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(L),M.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(C)):(M.controls[google.maps.ControlPosition.LEFT_BOTTOM].push(L),M.controls[google.maps.ControlPosition.LEFT_BOTTOM].push(C))}var $=document.querySelector(".share-cart-modal__products"),Y=document.querySelector(".cart__products");function W(t,e){a.elements.html.style.overflowY=t,a.elements.html.style.marginRight=e}var R={disableFocus:!0,disableScroll:!0,awaitCloseAnimation:!0,onShow:function(t){var e=function(){var t=document.createElement("div");t.style.visibility="hidden",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",document.body.appendChild(t);var e=document.createElement("div");t.appendChild(e);var n=t.offsetWidth-e.offsetWidth;return t.parentNode.removeChild(t),n}();W("hidden","".concat(e,"px")),"modal-address"===t.id&&function(){q.apply(this,arguments)}(),"modal-share-cart"===t.id&&function(){$.innerHTML="";var t=Y.querySelectorAll(".product-cart__checkbox .checkbox__input:checked");t.forEach((function(t){var e=t.closest(".cart__product");if(e){var n=e.cloneNode(!0);n.classList.replace("cart__product","share-cart-modal__product"),$.appendChild(n)}}));var e=document.getElementById("totalShare");e&&(e.textContent=t.length)}()},onClose:function(){document.querySelectorAll(".modal.is-open").length<=1&&setTimeout((function(){W("visible","0")}),300)}};function B(t){t.dataset.animationFrameId&&(cancelAnimationFrame(+t.dataset.animationFrameId),delete t.dataset.animationFrameId)}function V(){var t=document.querySelector(".catalog-menu");if(t){var e=window.matchMedia(a.media.max.md).matches,n=a.elements.html,i=document.querySelector(".header__catalog-wrap"),r=document.querySelector(".catalog-btn"),s=document.querySelector(".backdrop"),l=t.querySelector(".catalog-menu__header"),c=l?l.querySelector(".catalog-menu__back"):null,d=l?l.querySelector(".catalog-menu__title"):null,u=d?d.textContent.trim():"Catalog",h=document.querySelector(".catalog-menu__list"),g=document.querySelectorAll(".catalog-menu__list li.has-child > a"),p=document.querySelectorAll(".catalog-menu__item"),f=[],m=null,v=null,y=function(){g.forEach((function(t){return t.classList.remove("is-active")})),p.forEach((function(t){return t.classList.remove("is-active")})),c&&c.classList.remove("is-active"),d&&(d.textContent=u),h.classList.remove("is-hidden")},b=function(t){y();var e=t.getAttribute("data-tab-target"),n=document.querySelector('[data-tab="'.concat(e,'"]'));if(n){if(n.classList.add("is-active"),t.classList.add("is-active"),c&&c.classList.add("is-active"),d){var i=t.getAttribute("data-title")||t.textContent.trim();d.textContent=i}h.classList.add("is-hidden")}},w=function(){f=t.querySelectorAll('a, button, input, select, textarea, [tabindex]:not([tabindex="-1"])'),f=Array.prototype.slice.call(f).filter((function(t){return!t.hasAttribute("disabled")&&null!==t.offsetParent})),m=f[0],v=f[f.length-1]},x=function(t){"Tab"===t.key&&(w(),0!==f.length&&(t.shiftKey?document.activeElement===m&&(t.preventDefault(),v.focus()):document.activeElement===v&&(t.preventDefault(),m.focus())))},T=function(){t.classList.remove("is-active"),r.classList.remove("is-active"),r.setAttribute("aria-expanded","false"),t.setAttribute("aria-hidden","true"),e?(n.classList.remove("lock"),i.classList.remove("show-overlay"),t.addEventListener("transitionend",(function e(n){y(),t.removeEventListener("transitionend",e)}))):(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;new Promise((function(n){if(B(t),t.style.display&&"none"!==t.style.display){t.style.opacity=1;var i=performance.now(),o=function(a){var r=Math.min((a-i)/e,1);t.style.opacity=1-r,r<1?t.dataset.animationFrameId=requestAnimationFrame(o):(delete t.dataset.animationFrameId,t.style.opacity=0,t.style.display="none",n())};t.dataset.animationFrameId=requestAnimationFrame(o)}else n()}))}(t,250),s.classList.remove("is-active")),document.removeEventListener("keydown",x),r.focus()},E=function(t){t.preventDefault(),b(t.currentTarget)},M=function(t){t.preventDefault(),b(t.currentTarget)},D=function(){g.forEach((function(t){t.removeEventListener("mouseenter",E)}))},S=function(){g.forEach((function(t){t.removeEventListener("click",M)}))};document.addEventListener("click",(function(o){o.target.closest(".catalog-btn")&&(t.classList.contains("is-active")?T():(t.classList.add("is-active"),r.classList.add("is-active"),r.setAttribute("aria-expanded","true"),t.setAttribute("aria-hidden","false"),e?(n.classList.add("lock"),i.classList.add("show-overlay")):(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"block";new Promise((function(i){B(t),t.dataset.originalDisplay||(t.dataset.originalDisplay=n),t.style.opacity=0,t.style.display=t.dataset.originalDisplay;var o=performance.now(),a=function(n){var r=Math.min((n-o)/e,1);t.style.opacity=r,r<1?t.dataset.animationFrameId=requestAnimationFrame(a):(delete t.dataset.animationFrameId,t.style.opacity=1,i())};t.dataset.animationFrameId=requestAnimationFrame(a)}))}(t,250),s.classList.add("is-active")),w(),m&&m.focus(),document.addEventListener("keydown",x))),!t.classList.contains("is-active")||o.target.closest(".catalog-menu")||o.target.closest(".catalog-btn")||T(),o.target.closest(".catalog-menu__close")&&T(),o.target.closest(".catalog-menu__back")&&(y(),d?d.focus():m&&m.focus())})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&t.classList.contains("is-active")&&T()})),o().register(a.media.min.lg,{match:function(){S(),g.forEach((function(t){t.addEventListener("mouseenter",E)})),g.length>0&&b(g[0])},unmatch:function(){D()}}),o().register(a.media.max.lg,{match:function(){D(),g.forEach((function(t){t.addEventListener("click",M)})),y(),y()},unmatch:function(){S()}}).register(a.media.max.md,{match:function(){e=!0,t.classList.contains("is-active")&&i.classList.add("show-overlay")},unmatch:function(){e=!1,t.classList.contains("is-active")&&i.classList.remove("show-overlay")}}),r&&r.setAttribute("aria-expanded","false"),t&&(t.setAttribute("aria-hidden","true"),t.setAttribute("role","navigation"))}}function z(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var K="(prefers-reduced-motion: reduce)";function U(t){t.length=0}function G(t,e,n){return Array.prototype.slice.call(t,e,n)}function X(t){return t.bind.apply(t,[null].concat(G(arguments,1)))}var Z=setTimeout,J=function(){};function Q(t){return requestAnimationFrame(t)}function tt(t,e){return typeof e===t}function et(t){return!rt(t)&&tt("object",t)}var nt=Array.isArray,it=X(tt,"function"),ot=X(tt,"string"),at=X(tt,"undefined");function rt(t){return null===t}function st(t){try{return t instanceof(t.ownerDocument.defaultView||window).HTMLElement}catch(t){return!1}}function lt(t){return nt(t)?t:[t]}function ct(t,e){lt(t).forEach(e)}function dt(t,e){return t.indexOf(e)>-1}function ut(t,e){return t.push.apply(t,lt(e)),t}function ht(t,e,n){t&&ct(e,(function(e){e&&t.classList[n?"add":"remove"](e)}))}function gt(t,e){ht(t,ot(e)?e.split(" "):e,!0)}function pt(t,e){ct(e,t.appendChild.bind(t))}function ft(t,e){ct(t,(function(t){var n=(e||t).parentNode;n&&n.insertBefore(t,e)}))}function mt(t,e){return st(t)&&(t.msMatchesSelector||t.matches).call(t,e)}function vt(t,e){var n=t?G(t.children):[];return e?n.filter((function(t){return mt(t,e)})):n}function yt(t,e){return e?vt(t,e)[0]:t.firstElementChild}var bt=Object.keys;function wt(t,e,n){return t&&(n?bt(t).reverse():bt(t)).forEach((function(n){"__proto__"!==n&&e(t[n],n)})),t}function xt(t){return G(arguments,1).forEach((function(e){wt(e,(function(n,i){t[i]=e[i]}))})),t}function Tt(t){return G(arguments,1).forEach((function(e){wt(e,(function(e,n){nt(e)?t[n]=e.slice():et(e)?t[n]=Tt({},et(t[n])?t[n]:{},e):t[n]=e}))})),t}function Et(t,e){ct(e||bt(t),(function(e){delete t[e]}))}function Mt(t,e){ct(t,(function(t){ct(e,(function(e){t&&t.removeAttribute(e)}))}))}function Dt(t,e,n){et(e)?wt(e,(function(e,n){Dt(t,n,e)})):ct(t,(function(t){rt(n)||""===n?Mt(t,e):t.setAttribute(e,String(n))}))}function St(t,e,n){var i=document.createElement(t);return e&&(ot(e)?gt(i,e):Dt(i,e)),n&&pt(n,i),i}function _t(t,e,n){if(at(n))return getComputedStyle(t)[e];rt(n)||(t.style[e]=""+n)}function kt(t,e){_t(t,"display",e)}function At(t){t.setActive&&t.setActive()||t.focus({preventScroll:!0})}function Ot(t,e){return t.getAttribute(e)}function Ct(t,e){return t&&t.classList.contains(e)}function Lt(t){return t.getBoundingClientRect()}function It(t){ct(t,(function(t){t&&t.parentNode&&t.parentNode.removeChild(t)}))}function Nt(t){return yt((new DOMParser).parseFromString(t,"text/html").body)}function Pt(t,e){t.preventDefault(),e&&(t.stopPropagation(),t.stopImmediatePropagation())}function qt(t,e){return t&&t.querySelector(e)}function jt(t,e){return e?G(t.querySelectorAll(e)):[]}function Ft(t,e){ht(t,e,!1)}function Ht(t){return t.timeStamp}function $t(t){return ot(t)?t:t?t+"px":""}var Yt="splide",Wt="data-"+Yt;function Rt(t,e){if(!t)throw new Error("["+Yt+"] "+(e||""))}var Bt=Math.min,Vt=Math.max,zt=Math.floor,Kt=Math.ceil,Ut=Math.abs;function Gt(t,e,n){return Ut(t-e)<n}function Xt(t,e,n,i){var o=Bt(e,n),a=Vt(e,n);return i?o<t&&t<a:o<=t&&t<=a}function Zt(t,e,n){var i=Bt(e,n),o=Vt(e,n);return Bt(Vt(i,t),o)}function Jt(t){return+(t>0)-+(t<0)}function Qt(t,e){return ct(e,(function(e){t=t.replace("%s",""+e)})),t}function te(t){return t<10?"0"+t:""+t}var ee={};function ne(){var t=[];function e(t,e,n){ct(t,(function(t){t&&ct(e,(function(e){e.split(" ").forEach((function(e){var i=e.split(".");n(t,i[0],i[1])}))}))}))}return{bind:function(n,i,o,a){e(n,i,(function(e,n,i){var r="addEventListener"in e,s=r?e.removeEventListener.bind(e,n,o,a):e.removeListener.bind(e,o);r?e.addEventListener(n,o,a):e.addListener(o),t.push([e,n,i,o,s])}))},unbind:function(n,i,o){e(n,i,(function(e,n,i){t=t.filter((function(t){return!!(t[0]!==e||t[1]!==n||t[2]!==i||o&&t[3]!==o)||(t[4](),!1)}))}))},dispatch:function(t,e,n){var i,o=!0;return"function"==typeof CustomEvent?i=new CustomEvent(e,{bubbles:o,detail:n}):(i=document.createEvent("CustomEvent")).initCustomEvent(e,o,!1,n),t.dispatchEvent(i),i},destroy:function(){t.forEach((function(t){t[4]()})),U(t)}}}var ie="mounted",oe="ready",ae="move",re="moved",se="click",le="refresh",ce="updated",de="resize",ue="resized",he="scroll",ge="scrolled",pe="destroy",fe="navigation:mounted",me="autoplay:play",ve="autoplay:pause",ye="lazyload:loaded",be="ei";function we(t){var e=t?t.event.bus:document.createDocumentFragment(),n=ne();return t&&t.event.on(pe,n.destroy),xt(n,{bus:e,on:function(t,i){n.bind(e,lt(t).join(" "),(function(t){i.apply(i,nt(t.detail)?t.detail:[])}))},off:X(n.unbind,e),emit:function(t){n.dispatch(e,t,G(arguments,1))}})}function xe(t,e,n,i){var o,a,r=Date.now,s=0,l=!0,c=0;function d(){if(!l){if(s=t?Bt((r()-o)/t,1):1,n&&n(s),s>=1&&(e(),o=r(),i&&++c>=i))return u();a=Q(d)}}function u(){l=!0}function h(){a&&cancelAnimationFrame(a),s=0,a=0,l=!0}return{start:function(e){e||h(),o=r()-(e?s*t:0),l=!1,a=Q(d)},rewind:function(){o=r(),s=0,n&&n(s)},pause:u,cancel:h,set:function(e){t=e},isPaused:function(){return l}}}var Te="Arrow",Ee=Te+"Left",Me=Te+"Right",De=Te+"Up",Se=Te+"Down",_e="ttb",ke={width:["height"],left:["top","right"],right:["bottom","left"],x:["y"],X:["Y"],Y:["X"],ArrowLeft:[De,Me],ArrowRight:[Se,Ee]};var Ae="role",Oe="tabindex",Ce="aria-",Le=Ce+"controls",Ie=Ce+"current",Ne=Ce+"selected",Pe=Ce+"label",qe=Ce+"labelledby",je=Ce+"hidden",Fe=Ce+"orientation",He=Ce+"roledescription",$e=Ce+"live",Ye=Ce+"busy",We=Ce+"atomic",Re=[Ae,Oe,"disabled",Le,Ie,Pe,qe,je,Fe,He],Be=Yt+"__",Ve="is-",ze=Yt,Ke=Be+"track",Ue=Be+"list",Ge=Be+"slide",Xe=Ge+"--clone",Ze=Ge+"__container",Je=Be+"arrows",Qe=Be+"arrow",tn=Qe+"--prev",en=Qe+"--next",nn=Be+"pagination",on=nn+"__page",an=Be+"progress__bar",rn=Be+"toggle",sn=Be+"sr",ln=Ve+"initialized",cn=Ve+"active",dn=Ve+"prev",un=Ve+"next",hn=Ve+"visible",gn=Ve+"loading",pn=Ve+"focus-in",fn=Ve+"overflow",mn=[cn,hn,dn,un,gn,pn,fn],vn={slide:Ge,clone:Xe,arrows:Je,arrow:Qe,prev:tn,next:en,pagination:nn,page:on,spinner:Be+"spinner"},yn="touchstart mousedown",bn="touchmove mousemove",wn="touchend touchcancel mouseup click",xn="slide",Tn="loop",En="fade";var Mn=Wt+"-interval",Dn={passive:!1,capture:!0},Sn={Spacebar:" ",Right:Me,Left:Ee,Up:De,Down:Se};function _n(t){return t=ot(t)?t:t.key,Sn[t]||t}var kn="keydown",An=Wt+"-lazy",On=An+"-srcset",Cn="["+An+"], ["+On+"]",Ln=[" ","Enter"],In=Object.freeze({__proto__:null,Media:function(t,e,n){var i=t.state,o=n.breakpoints||{},a=n.reducedMotion||{},r=ne(),s=[];function l(t){t&&r.destroy()}function c(t,e){var n=matchMedia(e);r.bind(n,"change",d),s.push([t,n])}function d(){var e=i.is(7),o=n.direction,a=s.reduce((function(t,e){return Tt(t,e[1].matches?e[0]:{})}),{});Et(n),u(a),n.destroy?t.destroy("completely"===n.destroy):e?(l(!0),t.mount()):o!==n.direction&&t.refresh()}function u(e,o,a){Tt(n,e),o&&Tt(Object.getPrototypeOf(n),e),!a&&i.is(1)||t.emit(ce,n)}return{setup:function(){var t="min"===n.mediaQuery;bt(o).sort((function(e,n){return t?+e-+n:+n-+e})).forEach((function(e){c(o[e],"("+(t?"min":"max")+"-width:"+e+"px)")})),c(a,K),d()},destroy:l,reduce:function(t){matchMedia(K).matches&&(t?Tt(n,a):Et(n,bt(a)))},set:u}},Direction:function(t,e,n){return{resolve:function(t,e,i){var o="rtl"!==(i=i||n.direction)||e?i===_e?0:-1:1;return ke[t]&&ke[t][o]||t.replace(/width|left|right/i,(function(t,e){var n=ke[t.toLowerCase()][o]||t;return e>0?n.charAt(0).toUpperCase()+n.slice(1):n}))},orient:function(t){return t*("rtl"===n.direction?1:-1)}}},Elements:function(t,e,n){var i,o,a,r=we(t),s=r.on,l=r.bind,c=t.root,d=n.i18n,u={},h=[],g=[],p=[];function f(){var t,e,a;i=y("."+Ke),o=yt(i,"."+Ue),Rt(i&&o,"A track/list element is missing."),ut(h,vt(o,"."+Ge+":not(."+Xe+")")),wt({arrows:Je,pagination:nn,prev:tn,next:en,bar:an,toggle:rn},(function(t,e){u[e]=y("."+t)})),xt(u,{root:c,track:i,list:o,slides:h}),e=c.id||""+(t=Yt)+te(ee[t]=(ee[t]||0)+1),a=n.role,c.id=e,i.id=i.id||e+"-track",o.id=o.id||e+"-list",!Ot(c,Ae)&&"SECTION"!==c.tagName&&a&&Dt(c,Ae,a),Dt(c,He,d.carousel),Dt(o,Ae,"presentation"),v()}function m(t){var e=Re.concat("style");U(h),Ft(c,g),Ft(i,p),Mt([i,o],e),Mt(c,t?e:["style",He])}function v(){Ft(c,g),Ft(i,p),g=b(ze),p=b(Ke),gt(c,g),gt(i,p),Dt(c,Pe,n.label),Dt(c,qe,n.labelledby)}function y(t){var e=qt(c,t);return e&&function(t,e){if(it(t.closest))return t.closest(e);for(var n=t;n&&1===n.nodeType&&!mt(n,e);)n=n.parentElement;return n}(e,"."+ze)===c?e:void 0}function b(t){return[t+"--"+n.type,t+"--"+n.direction,n.drag&&t+"--draggable",n.isNavigation&&t+"--nav",t===ze&&cn]}return xt(u,{setup:f,mount:function(){s(le,m),s(le,f),s(ce,v),l(document,yn+" keydown",(function(t){a="keydown"===t.type}),{capture:!0}),l(c,"focusin",(function(){ht(c,pn,!!a)}))},destroy:m})},Slides:function(t,e,n){var i=we(t),o=i.on,a=i.emit,r=i.bind,s=e.Elements,l=s.slides,c=s.list,d=[];function u(){l.forEach((function(t,e){g(t,e,-1)}))}function h(){f((function(t){t.destroy()})),U(d)}function g(e,n,i){var o=function(t,e,n,i){var o,a=we(t),r=a.on,s=a.emit,l=a.bind,c=t.Components,d=t.root,u=t.options,h=u.isNavigation,g=u.updateOnMove,p=u.i18n,f=u.pagination,m=u.slideFocus,v=c.Direction.resolve,y=Ot(i,"style"),b=Ot(i,Pe),w=n>-1,x=yt(i,"."+Ze);function T(){var o=t.splides.map((function(t){var n=t.splide.Components.Slides.getAt(e);return n?n.slide.id:""})).join(" ");Dt(i,Pe,Qt(p.slideX,(w?n:e)+1)),Dt(i,Le,o),Dt(i,Ae,m?"button":""),m&&Mt(i,He)}function E(){o||M()}function M(){if(!o){var n=t.index;(a=D())!==Ct(i,cn)&&(ht(i,cn,a),Dt(i,Ie,h&&a||""),s(a?"active":"inactive",S)),function(){var e=function(){if(t.is(En))return D();var e=Lt(c.Elements.track),n=Lt(i),o=v("left",!0),a=v("right",!0);return zt(e[o])<=Kt(n[o])&&zt(n[a])<=Kt(e[a])}(),n=!e&&(!D()||w);if(t.state.is([4,5])||Dt(i,je,n||""),Dt(jt(i,u.focusableNodes||""),Oe,n?-1:""),m&&Dt(i,Oe,n?-1:0),e!==Ct(i,hn)&&(ht(i,hn,e),s(e?"visible":"hidden",S)),!e&&document.activeElement===i){var o=c.Slides.getAt(t.index);o&&At(o.slide)}}(),ht(i,dn,e===n-1),ht(i,un,e===n+1)}var a}function D(){var i=t.index;return i===e||u.cloneStatus&&i===n}var S={index:e,slideIndex:n,slide:i,container:x,isClone:w,mount:function(){w||(i.id=d.id+"-slide"+te(e+1),Dt(i,Ae,f?"tabpanel":"group"),Dt(i,He,p.slide),Dt(i,Pe,b||Qt(p.slideLabel,[e+1,t.length]))),l(i,"click",X(s,se,S)),l(i,"keydown",X(s,"sk",S)),r([re,"sh",ge],M),r(fe,T),g&&r(ae,E)},destroy:function(){o=!0,a.destroy(),Ft(i,mn),Mt(i,Re),Dt(i,"style",y),Dt(i,Pe,b||"")},update:M,style:function(t,e,n){_t(n&&x||i,t,e)},isWithin:function(n,i){var o=Ut(n-e);return w||!u.rewind&&!t.is(Tn)||(o=Bt(o,t.length-o)),o<=i}};return S}(t,n,i,e);o.mount(),d.push(o),d.sort((function(t,e){return t.index-e.index}))}function p(t){return t?m((function(t){return!t.isClone})):d}function f(t,e){p(e).forEach(t)}function m(t){return d.filter(it(t)?t:function(e){return ot(t)?mt(e.slide,t):dt(lt(t),e.index)})}return{mount:function(){u(),o(le,h),o(le,u)},destroy:h,update:function(){f((function(t){t.update()}))},register:g,get:p,getIn:function(t){var i=e.Controller,o=i.toIndex(t),a=i.hasFocus()?1:n.perPage;return m((function(t){return Xt(t.index,o,o+a-1)}))},getAt:function(t){return m(t)[0]},add:function(t,e){ct(t,(function(t){if(ot(t)&&(t=Nt(t)),st(t)){var i=l[e];i?ft(t,i):pt(c,t),gt(t,n.classes.slide),o=t,s=X(a,de),d=jt(o,"img"),(u=d.length)?d.forEach((function(t){r(t,"load error",(function(){--u||s()}))})):s()}var o,s,d,u})),a(le)},remove:function(t){It(m(t).map((function(t){return t.slide}))),a(le)},forEach:f,filter:m,style:function(t,e,n){f((function(i){i.style(t,e,n)}))},getLength:function(t){return t?l.length:d.length},isEnough:function(){return d.length>n.perPage}}},Layout:function(t,e,n){var i,o,a,r=we(t),s=r.on,l=r.bind,c=r.emit,d=e.Slides,u=e.Direction.resolve,h=e.Elements,g=h.root,p=h.track,f=h.list,m=d.getAt,v=d.style;function y(){i=n.direction===_e,_t(g,"maxWidth",$t(n.width)),_t(p,u("paddingLeft"),w(!1)),_t(p,u("paddingRight"),w(!0)),b(!0)}function b(t){var e,r=Lt(g);(t||o.width!==r.width||o.height!==r.height)&&(_t(p,"height",(e="",i&&(Rt(e=x(),"height or heightRatio is missing."),e="calc("+e+" - "+w(!1)+" - "+w(!0)+")"),e)),v(u("marginRight"),$t(n.gap)),v("width",n.autoWidth?null:$t(n.fixedWidth)||(i?"":T())),v("height",$t(n.fixedHeight)||(i?n.autoHeight?null:T():x()),!0),o=r,c(ue),a!==(a=k())&&(ht(g,fn,a),c("overflow",a)))}function w(t){var e=n.padding,i=u(t?"right":"left");return e&&$t(e[i]||(et(e)?0:e))||"0px"}function x(){return $t(n.height||Lt(f).width*n.heightRatio)}function T(){var t=$t(n.gap);return"calc((100%"+(t&&" + "+t)+")/"+(n.perPage||1)+(t&&" - "+t)+")"}function E(){return Lt(f)[u("width")]}function M(t,e){var n=m(t||0);return n?Lt(n.slide)[u("width")]+(e?0:_()):0}function D(t,e){var n=m(t);if(n){var i=Lt(n.slide)[u("right")],o=Lt(f)[u("left")];return Ut(i-o)+(e?0:_())}return 0}function S(e){return D(t.length-1)-D(0)+M(0,e)}function _(){var t=m(0);return t&&parseFloat(_t(t.slide,u("marginRight")))||0}function k(){return t.is(En)||S(!0)>E()}return{mount:function(){var t,e;y(),l(window,"resize load",(t=X(c,de),e=xe(0,t,null,1),function(){e.isPaused()&&e.start()})),s([ce,le],y),s(de,b)},resize:b,listSize:E,slideSize:M,sliderSize:S,totalSize:D,getPadding:function(t){return parseFloat(_t(p,u("padding"+(t?"Right":"Left"))))||0},isOverflow:k}},Clones:function(t,e,n){var i,o=we(t),a=o.on,r=e.Elements,s=e.Slides,l=e.Direction.resolve,c=[];function d(){a(le,u),a([ce,de],g),(i=p())&&(function(e){var i=s.get().slice(),o=i.length;if(o){for(;i.length<e;)ut(i,i);ut(i.slice(-e),i.slice(0,e)).forEach((function(a,l){var d=l<e,u=function(e,i){var o=e.cloneNode(!0);return gt(o,n.classes.clone),o.id=t.root.id+"-clone"+te(i+1),o}(a.slide,l);d?ft(u,i[0].slide):pt(r.list,u),ut(c,u),s.register(u,l-e+(d?0:o),a.index)}))}}(i),e.Layout.resize(!0))}function u(){h(),d()}function h(){It(c),U(c),o.destroy()}function g(){var t=p();i!==t&&(i<t||!t)&&o.emit(le)}function p(){var i=n.clones;if(t.is(Tn)){if(at(i)){var o=n[l("fixedWidth")]&&e.Layout.slideSize(0);i=o&&Kt(Lt(r.track)[l("width")]/o)||n[l("autoWidth")]&&t.length||2*n.perPage}}else i=0;return i}return{mount:d,destroy:h}},Move:function(t,e,n){var i,o=we(t),a=o.on,r=o.emit,s=t.state.set,l=e.Layout,c=l.slideSize,d=l.getPadding,u=l.totalSize,h=l.listSize,g=l.sliderSize,p=e.Direction,f=p.resolve,m=p.orient,v=e.Elements,y=v.list,b=v.track;function w(){e.Controller.isBusy()||(e.Scroll.cancel(),x(t.index),e.Slides.update())}function x(t){T(S(t,!0))}function T(n,i){if(!t.is(En)){var o=i?n:function(n){if(t.is(Tn)){var i=D(n),o=i>e.Controller.getEnd();(i<0||o)&&(n=E(n,o))}return n}(n);_t(y,"transform","translate"+f("X")+"("+o+"px)"),n!==o&&r("sh")}}function E(t,e){var n=t-k(e),i=g();return t-m(i*(Kt(Ut(n)/i)||1))*(e?1:-1)}function M(){T(_(),!0),i.cancel()}function D(t){for(var n=e.Slides.get(),i=0,o=1/0,a=0;a<n.length;a++){var r=n[a].index,s=Ut(S(r,!0)-t);if(!(s<=o))break;o=s,i=r}return i}function S(e,i){var o=m(u(e-1)-function(t){var e=n.focus;return"center"===e?(h()-c(t,!0))/2:+e*c(t)||0}(e));return i?function(e){return n.trimSpace&&t.is(xn)&&(e=Zt(e,0,m(g(!0)-h()))),e}(o):o}function _(){var t=f("left");return Lt(y)[t]-Lt(b)[t]+m(d(!1))}function k(t){return S(t?e.Controller.getEnd():0,!!n.trimSpace)}return{mount:function(){i=e.Transition,a([ie,ue,ce,le],w)},move:function(t,e,n,o){var a,l;t!==e&&(a=t>n,l=m(E(_(),a)),a?l>=0:l<=y[f("scrollWidth")]-Lt(b)[f("width")])&&(M(),T(E(_(),t>n),!0)),s(4),r(ae,e,n,t),i.start(e,(function(){s(3),r(re,e,n,t),o&&o()}))},jump:x,translate:T,shift:E,cancel:M,toIndex:D,toPosition:S,getPosition:_,getLimit:k,exceededLimit:function(t,e){e=at(e)?_():e;var n=!0!==t&&m(e)<m(k(!1)),i=!1!==t&&m(e)>m(k(!0));return n||i},reposition:w}},Controller:function(t,e,n){var i,o,a,r,s=we(t),l=s.on,c=s.emit,d=e.Move,u=d.getPosition,h=d.getLimit,g=d.toPosition,p=e.Slides,f=p.isEnough,m=p.getLength,v=n.omitEnd,y=t.is(Tn),b=t.is(xn),w=X(S,!1),x=X(S,!0),T=n.start||0,E=T;function M(){o=m(!0),a=n.perMove,r=n.perPage,i=A();var t=Zt(T,0,v?i:o-1);t!==T&&(T=t,d.reposition())}function D(){i!==A()&&c(be)}function S(t,e){var n=a||(I()?1:r),o=_(T+n*(t?-1:1),T,!(a||I()));return-1===o&&b&&!Gt(u(),h(!t),1)?t?0:i:e?o:k(o)}function _(e,s,l){if(f()||I()){var c=function(e){if(b&&"move"===n.trimSpace&&e!==T)for(var i=u();i===g(e,!0)&&Xt(e,0,t.length-1,!n.rewind);)e<T?--e:++e;return e}(e);c!==e&&(s=e,e=c,l=!1),e<0||e>i?e=a||!Xt(0,e,s,!0)&&!Xt(i,s,e,!0)?y?l?e<0?-(o%r||r):o:e:n.rewind?e<0?i:0:-1:O(C(e)):l&&e!==s&&(e=O(C(s)+(e<s?-1:1)))}else e=-1;return e}function k(t){return y?(t+o)%o||0:t}function A(){for(var t=o-(I()||y&&a?1:r);v&&t-- >0;)if(g(o-1,!0)!==g(t,!0)){t++;break}return Zt(t,0,o-1)}function O(t){return Zt(I()?t:r*t,0,i)}function C(t){return I()?Bt(t,i):zt((t>=i?o-1:t)/r)}function L(t){t!==T&&(E=T,T=t)}function I(){return!at(n.focus)||n.isNavigation}function N(){return t.state.is([4,5])&&!!n.waitForTransition}return{mount:function(){M(),l([ce,le,be],M),l(ue,D)},go:function(t,e,n){if(!N()){var o=function(t){var e=T;if(ot(t)){var n=t.match(/([+\-<>])(\d+)?/)||[],o=n[1],a=n[2];"+"===o||"-"===o?e=_(T+ +(""+o+(+a||1)),T):">"===o?e=a?O(+a):w(!0):"<"===o&&(e=x(!0))}else e=y?t:Zt(t,0,i);return e}(t),a=k(o);a>-1&&(e||a!==T)&&(L(a),d.move(o,a,E,n))}},scroll:function(t,n,o,a){e.Scroll.scroll(t,n,o,(function(){var t=k(d.toIndex(u()));L(v?Bt(t,i):t),a&&a()}))},getNext:w,getPrev:x,getAdjacent:S,getEnd:A,setIndex:L,getIndex:function(t){return t?E:T},toIndex:O,toPage:C,toDest:function(t){var e=d.toIndex(t);return b?Zt(e,0,i):e},hasFocus:I,isBusy:N}},Arrows:function(t,e,n){var i,o,a=we(t),r=a.on,s=a.bind,l=a.emit,c=n.classes,d=n.i18n,u=e.Elements,h=e.Controller,g=u.arrows,p=u.track,f=g,m=u.prev,v=u.next,y={};function b(){var t;!(t=n.arrows)||m&&v||(f=g||St("div",c.arrows),m=E(!0),v=E(!1),i=!0,pt(f,[m,v]),!g&&ft(f,p)),m&&v&&(xt(y,{prev:m,next:v}),kt(f,t?"":"none"),gt(f,o=Je+"--"+n.direction),t&&(r([ie,re,le,ge,be],M),s(v,"click",X(T,">")),s(m,"click",X(T,"<")),M(),Dt([m,v],Le,p.id),l("arrows:mounted",m,v))),r(ce,w)}function w(){x(),b()}function x(){a.destroy(),Ft(f,o),i?(It(g?[m,v]:f),m=v=null):Mt([m,v],Re)}function T(t){h.go(t,!0)}function E(t){return Nt('<button class="'+c.arrow+" "+(t?c.prev:c.next)+'" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" width="40" height="40" focusable="false"><path d="'+(n.arrowPath||"m15.5 0.932-4.3 4.38 14.5 14.6-14.5 14.5 4.3 4.4 14.6-14.6 4.4-4.3-4.4-4.4-14.6-14.6z")+'" />')}function M(){if(m&&v){var e=t.index,n=h.getPrev(),i=h.getNext(),o=n>-1&&e<n?d.last:d.prev,a=i>-1&&e>i?d.first:d.next;m.disabled=n<0,v.disabled=i<0,Dt(m,Pe,o),Dt(v,Pe,a),l("arrows:updated",m,v,n,i)}}return{arrows:y,mount:b,destroy:x,update:M}},Autoplay:function(t,e,n){var i,o,a=we(t),r=a.on,s=a.bind,l=a.emit,c=xe(n.interval,t.go.bind(t,">"),(function(t){var e=u.bar;e&&_t(e,"width",100*t+"%"),l("autoplay:playing",t)})),d=c.isPaused,u=e.Elements,h=e.Elements,g=h.root,p=h.toggle,f=n.autoplay,m="pause"===f;function v(){d()&&e.Slides.isEnough()&&(c.start(!n.resetProgress),o=i=m=!1,w(),l(me))}function y(t){void 0===t&&(t=!0),m=!!t,w(),d()||(c.pause(),l(ve))}function b(){m||(i||o?y(!1):v())}function w(){p&&(ht(p,cn,!m),Dt(p,Pe,n.i18n[m?"play":"pause"]))}function x(t){var i=e.Slides.getAt(t);c.set(i&&+Ot(i.slide,Mn)||n.interval)}return{mount:function(){f&&(n.pauseOnHover&&s(g,"mouseenter mouseleave",(function(t){i="mouseenter"===t.type,b()})),n.pauseOnFocus&&s(g,"focusin focusout",(function(t){o="focusin"===t.type,b()})),p&&s(p,"click",(function(){m?v():y(!0)})),r([ae,he,le],c.rewind),r(ae,x),p&&Dt(p,Le,u.track.id),m||v(),w())},destroy:c.cancel,play:v,pause:y,isPaused:d}},Cover:function(t,e,n){var i=we(t).on;function o(t){e.Slides.forEach((function(e){var n=yt(e.container||e.slide,"img");n&&n.src&&a(t,n,e)}))}function a(t,e,n){n.style("background",t?'center/cover no-repeat url("'+e.src+'")':"",!0),kt(e,t?"none":"")}return{mount:function(){n.cover&&(i(ye,X(a,!0)),i([ie,ce,le],X(o,!0)))},destroy:X(o,!1)}},Scroll:function(t,e,n){var i,o,a=we(t),r=a.on,s=a.emit,l=t.state.set,c=e.Move,d=c.getPosition,u=c.getLimit,h=c.exceededLimit,g=c.translate,p=t.is(xn),f=1;function m(t,n,a,r,u){var g=d();if(b(),a&&(!p||!h())){var m=e.Layout.sliderSize(),w=Jt(t)*m*zt(Ut(t)/m)||0;t=c.toPosition(e.Controller.toDest(t%m))+w}var x=Gt(g,t,1);f=1,n=x?0:n||Vt(Ut(t-g)/1.5,800),o=r,i=xe(n,v,X(y,g,t,u),1),l(5),s(he),i.start()}function v(){l(3),o&&o(),s(ge)}function y(t,e,i,a){var r=d(),s=t+(e-t)*function(t){var e=n.easingFunc;return e?e(t):1-Math.pow(1-t,4)}(a),l=(s-r)*f;g(r+l),p&&!i&&h()&&(f*=.6,Ut(l)<10&&m(u(h(!0)),600,!1,o,!0))}function b(){i&&i.cancel()}function w(){i&&!i.isPaused()&&(b(),v())}return{mount:function(){r(ae,b),r([ce,le],w)},destroy:b,scroll:m,cancel:w}},Drag:function(t,e,n){var i,o,a,r,s,l,c,d,u=we(t),h=u.on,g=u.emit,p=u.bind,f=u.unbind,m=t.state,v=e.Move,y=e.Scroll,b=e.Controller,w=e.Elements.track,x=e.Media.reduce,T=e.Direction,E=T.resolve,M=T.orient,D=v.getPosition,S=v.exceededLimit,_=!1;function k(){var t=n.drag;H(!t),r="free"===t}function A(t){if(l=!1,!c){var e=F(t);i=t.target,o=n.noDrag,mt(i,"."+on+", ."+Qe)||o&&mt(i,o)||!e&&t.button||(b.isBusy()?Pt(t,!0):(d=e?w:window,s=m.is([4,5]),a=null,p(d,bn,O,Dn),p(d,wn,C,Dn),v.cancel(),y.cancel(),I(t)))}var i,o}function O(e){if(m.is(6)||(m.set(6),g("drag")),e.cancelable)if(s){v.translate(i+N(e)/(_&&t.is(xn)?5:1));var o=P(e)>200,a=_!==(_=S());(o||a)&&I(e),l=!0,g("dragging"),Pt(e)}else(function(t){return Ut(N(t))>Ut(N(t,!0))})(e)&&(s=function(t){var e=n.dragMinThreshold,i=et(e),o=i&&e.mouse||0,a=(i?e.touch:+e)||10;return Ut(N(t))>(F(t)?a:o)}(e),Pt(e))}function C(i){m.is(6)&&(m.set(3),g("dragged")),s&&(function(i){var o=function(e){if(t.is(Tn)||!_){var n=P(e);if(n&&n<200)return N(e)/n}return 0}(i),a=function(t){return D()+Jt(t)*Bt(Ut(t)*(n.flickPower||600),r?1/0:e.Layout.listSize()*(n.flickMaxPages||1))}(o),s=n.rewind&&n.rewindByDrag;x(!1),r?b.scroll(a,0,n.snap):t.is(En)?b.go(M(Jt(o))<0?s?"<":"-":s?">":"+"):t.is(xn)&&_&&s?b.go(S(!0)?">":"<"):b.go(b.toDest(a),!0),x(!0)}(i),Pt(i)),f(d,bn,O),f(d,wn,C),s=!1}function L(t){!c&&l&&Pt(t,!0)}function I(t){a=o,o=t,i=D()}function N(t,e){return j(t,e)-j(q(t),e)}function P(t){return Ht(t)-Ht(q(t))}function q(t){return o===t&&a||o}function j(t,e){return(F(t)?t.changedTouches[0]:t)["page"+E(e?"Y":"X")]}function F(t){return"undefined"!=typeof TouchEvent&&t instanceof TouchEvent}function H(t){c=t}return{mount:function(){p(w,bn,J,Dn),p(w,wn,J,Dn),p(w,yn,A,Dn),p(w,"click",L,{capture:!0}),p(w,"dragstart",Pt),h([ie,ce],k)},disable:H,isDragging:function(){return s}}},Keyboard:function(t,e,n){var i,o,a=we(t),r=a.on,s=a.bind,l=a.unbind,c=t.root,d=e.Direction.resolve;function u(){var t=n.keyboard;t&&(i="global"===t?window:c,s(i,kn,p))}function h(){l(i,kn)}function g(){var t=o;o=!0,Z((function(){o=t}))}function p(e){if(!o){var n=_n(e);n===d(Ee)?t.go("<"):n===d(Me)&&t.go(">")}}return{mount:function(){u(),r(ce,h),r(ce,u),r(ae,g)},destroy:h,disable:function(t){o=t}}},LazyLoad:function(t,e,n){var i=we(t),o=i.on,a=i.off,r=i.bind,s=i.emit,l="sequential"===n.lazyLoad,c=[re,ge],d=[];function u(){U(d),e.Slides.forEach((function(t){jt(t.slide,Cn).forEach((function(e){var i=Ot(e,An),o=Ot(e,On);if(i!==e.src||o!==e.srcset){var a=n.classes.spinner,r=e.parentElement,s=yt(r,"."+a)||St("span",a,r);d.push([e,t,s]),e.src||kt(e,"none")}}))})),l?f():(a(c),o(c,h),h())}function h(){(d=d.filter((function(e){var i=n.perPage*((n.preloadPages||1)+1)-1;return!e[1].isWithin(t.index,i)||g(e)}))).length||a(c)}function g(t){var e=t[0];gt(t[1].slide,gn),r(e,"load error",X(p,t)),Dt(e,"src",Ot(e,An)),Dt(e,"srcset",Ot(e,On)),Mt(e,An),Mt(e,On)}function p(t,e){var n=t[0],i=t[1];Ft(i.slide,gn),"error"!==e.type&&(It(t[2]),kt(n,""),s(ye,n,i),s(de)),l&&f()}function f(){d.length&&g(d.shift())}return{mount:function(){n.lazyLoad&&(u(),o(le,u))},destroy:X(U,d),check:h}},Pagination:function(t,e,n){var i,o,a=we(t),r=a.on,s=a.emit,l=a.bind,c=e.Slides,d=e.Elements,u=e.Controller,h=u.hasFocus,g=u.getIndex,p=u.go,f=e.Direction.resolve,m=d.pagination,v=[];function y(){i&&(It(m?G(i.children):i),Ft(i,o),U(v),i=null),a.destroy()}function b(t){p(">"+t,!0)}function w(t,e){var n=v.length,i=_n(e),o=x(),a=-1;i===f(Me,!1,o)?a=++t%n:i===f(Ee,!1,o)?a=(--t+n)%n:"Home"===i?a=0:"End"===i&&(a=n-1);var r=v[a];r&&(At(r.button),p(">"+a),Pt(e,!0))}function x(){return n.paginationDirection||n.direction}function T(t){return v[u.toPage(t)]}function E(){var t=T(g(!0)),e=T(g());if(t){var n=t.button;Ft(n,cn),Mt(n,Ne),Dt(n,Oe,-1)}if(e){var o=e.button;gt(o,cn),Dt(o,Ne,!0),Dt(o,Oe,"")}s("pagination:updated",{list:i,items:v},t,e)}return{items:v,mount:function e(){y(),r([ce,le,be],e);var a=n.pagination;m&&kt(m,a?"":"none"),a&&(r([ae,he,ge],E),function(){var e=t.length,a=n.classes,r=n.i18n,s=n.perPage,g=h()?u.getEnd()+1:Kt(e/s);gt(i=m||St("ul",a.pagination,d.track.parentElement),o=nn+"--"+x()),Dt(i,Ae,"tablist"),Dt(i,Pe,r.select),Dt(i,Fe,x()===_e?"vertical":"");for(var p=0;p<g;p++){var f=St("li",null,i),y=St("button",{class:a.page,type:"button"},f),T=c.getIn(p).map((function(t){return t.slide.id})),E=!h()&&s>1?r.pageX:r.slideX;l(y,"click",X(b,p)),n.paginationKeyboard&&l(y,"keydown",X(w,p)),Dt(f,Ae,"presentation"),Dt(y,Ae,"tab"),Dt(y,Le,T.join(" ")),Dt(y,Pe,Qt(E,p+1)),Dt(y,Oe,-1),v.push({li:f,button:y,page:p})}}(),E(),s("pagination:mounted",{list:i,items:v},T(t.index)))},destroy:y,getAt:T,update:E}},Sync:function(t,e,n){var i=n.isNavigation,o=n.slideFocus,a=[];function r(){var e,n;t.splides.forEach((function(e){e.isParent||(l(t,e.splide),l(e.splide,t))})),i&&((n=(e=we(t)).on)(se,d),n("sk",u),n([ie,ce],c),a.push(e),e.emit(fe,t.splides))}function s(){a.forEach((function(t){t.destroy()})),U(a)}function l(t,e){var n=we(t);n.on(ae,(function(t,n,i){e.go(e.is(Tn)?i:t)})),a.push(n)}function c(){Dt(e.Elements.list,Fe,n.direction===_e?"vertical":"")}function d(e){t.go(e.index)}function u(t,e){dt(Ln,_n(e))&&(d(t),Pt(e))}return{setup:X(e.Media.set,{slideFocus:at(o)?i:o},!0),mount:r,destroy:s,remount:function(){s(),r()}}},Wheel:function(t,e,n){var i=we(t).bind,o=0;function a(i){if(i.cancelable){var a=i.deltaY,r=a<0,s=Ht(i),l=n.wheelMinThreshold||0,c=n.wheelSleep||0;Ut(a)>l&&s-o>c&&(t.go(r?"<":">"),o=s),function(i){return!n.releaseWheel||t.state.is(4)||-1!==e.Controller.getAdjacent(i)}(r)&&Pt(i)}}return{mount:function(){n.wheel&&i(e.Elements.track,"wheel",a,Dn)}}},Live:function(t,e,n){var i=we(t).on,o=e.Elements.track,a=n.live&&!n.isNavigation,r=St("span",sn),s=xe(90,X(l,!1));function l(t){Dt(o,Ye,t),t?(pt(o,r),s.start()):(It(r),s.cancel())}function c(t){a&&Dt(o,$e,t?"off":"polite")}return{mount:function(){a&&(c(!e.Autoplay.isPaused()),Dt(o,We,!0),r.textContent="…",i(me,X(c,!0)),i(ve,X(c,!1)),i([re,ge],X(l,!0)))},disable:c,destroy:function(){Mt(o,[$e,We,Ye]),It(r)}}}}),Nn={type:"slide",role:"region",speed:400,perPage:1,cloneStatus:!0,arrows:!0,pagination:!0,paginationKeyboard:!0,interval:5e3,pauseOnHover:!0,pauseOnFocus:!0,resetProgress:!0,easing:"cubic-bezier(0.25, 1, 0.5, 1)",drag:!0,direction:"ltr",trimSpace:!0,focusableNodes:"a, button, textarea, input, select, iframe",live:!0,classes:vn,i18n:{prev:"Previous slide",next:"Next slide",first:"Go to first slide",last:"Go to last slide",slideX:"Go to slide %s",pageX:"Go to page %s",play:"Start autoplay",pause:"Pause autoplay",carousel:"carousel",slide:"slide",select:"Select a slide to show",slideLabel:"%s of %s"},reducedMotion:{speed:0,rewindSpeed:0,autoplay:"pause"}};function Pn(t,e,n){var i=e.Slides;function o(){i.forEach((function(t){t.style("transform","translateX(-"+100*t.index+"%)")}))}return{mount:function(){we(t).on([ie,le],o)},start:function(t,e){i.style("transition","opacity "+n.speed+"ms "+n.easing),Z(e)},cancel:J}}function qn(t,e,n){var i,o=e.Move,a=e.Controller,r=e.Scroll,s=e.Elements.list,l=X(_t,s,"transition");function c(){l(""),r.cancel()}return{mount:function(){we(t).bind(s,"transitionend",(function(t){t.target===s&&i&&(c(),i())}))},start:function(e,s){var c=o.toPosition(e,!0),d=o.getPosition(),u=function(e){var i=n.rewindSpeed;if(t.is(xn)&&i){var o=a.getIndex(!0),r=a.getEnd();if(0===o&&e>=r||o>=r&&0===e)return i}return n.speed}(e);Ut(c-d)>=1&&u>=1?n.useScroll?r.scroll(c,u,!1,s):(l("transform "+u+"ms "+n.easing),o.translate(c,!0),i=s):(o.jump(e),s())},cancel:c}}var jn=function(){function t(e,n){this.event=we(),this.Components={},this.state=function(){var t=1;return{set:function(e){t=e},is:function(e){return dt(lt(e),t)}}}(),this.splides=[],this._o={},this._E={};var i=ot(e)?qt(document,e):e;Rt(i,i+" is invalid."),this.root=i,n=Tt({label:Ot(i,Pe)||"",labelledby:Ot(i,qe)||""},Nn,t.defaults,n||{});try{Tt(n,JSON.parse(Ot(i,Wt)))}catch(t){Rt(!1,"Invalid JSON")}this._o=Object.create(Tt({},n))}var e,n,i=t.prototype;return i.mount=function(t,e){var n=this,i=this.state,o=this.Components;return Rt(i.is([1,7]),"Already mounted!"),i.set(1),this._C=o,this._T=e||this._T||(this.is(En)?Pn:qn),this._E=t||this._E,wt(xt({},In,this._E,{Transition:this._T}),(function(t,e){var i=t(n,o,n._o);o[e]=i,i.setup&&i.setup()})),wt(o,(function(t){t.mount&&t.mount()})),this.emit(ie),gt(this.root,ln),i.set(3),this.emit(oe),this},i.sync=function(t){return this.splides.push({splide:t}),t.splides.push({splide:this,isParent:!0}),this.state.is(3)&&(this._C.Sync.remount(),t.Components.Sync.remount()),this},i.go=function(t){return this._C.Controller.go(t),this},i.on=function(t,e){return this.event.on(t,e),this},i.off=function(t){return this.event.off(t),this},i.emit=function(t){var e;return(e=this.event).emit.apply(e,[t].concat(G(arguments,1))),this},i.add=function(t,e){return this._C.Slides.add(t,e),this},i.remove=function(t){return this._C.Slides.remove(t),this},i.is=function(t){return this._o.type===t},i.refresh=function(){return this.emit(le),this},i.destroy=function(t){void 0===t&&(t=!0);var e=this.event,n=this.state;return n.is(1)?we(this).on(oe,this.destroy.bind(this,t)):(wt(this._C,(function(e){e.destroy&&e.destroy(t)}),!0),e.emit(pe),e.destroy(),t&&U(this.splides),n.set(7)),this},e=t,(n=[{key:"options",get:function(){return this._o},set:function(t){this._C.Media.set(t,!0,!0)}},{key:"length",get:function(){return this._C.Slides.getLength(!0)}},{key:"index",get:function(){return this._C.Controller.getIndex()}}])&&z(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Fn=jn;function Hn(t){return Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hn(t)}function $n(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Yn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$n(Object(n),!0).forEach((function(e){Wn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$n(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Wn(t,e,n){return(e=function(t){var e=function(t){if("object"!=Hn(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Hn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Hn(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Fn.defaults={},Fn.STATES={CREATED:1,MOUNTED:2,IDLE:3,MOVING:4,SCROLLING:5,DRAGGING:6,DESTROYED:7};var Rn,Bn,Vn=!1;function zn(){document.querySelectorAll(".slider-products").forEach((function(t){var e=t.classList.contains("slider-products--destroy-mobile"),n=new Fn(t,{gap:24,autoWidth:!0,pagination:!1,focus:0,omitEnd:!0,breakpoints:Wn(Wn({},a.breakpoints.max.lg,{gap:16}),a.breakpoints.max.sm,{gap:8})});n.on("overflow",(function(t){n.options={arrows:t,drag:t}}));var i=function(){n.state.is(Fn.STATES.IDLE)||n.mount()};window.matchMedia(a.media.max.sm).matches&&e||i(),o().register(a.media.max.sm,{match:function(){e&&n.state.is(Fn.STATES.IDLE)&&n.destroy(!0)},unmatch:function(){i()}})})),document.querySelectorAll(".slider-tips").forEach((function(t){var e=new Fn(t,{gap:20,autoWidth:!0,focus:0,omitEnd:!0,breakpoints:Wn({},a.breakpoints.max.lg,{gap:16})});e.on("overflow",(function(t){e.options={arrows:t,pagination:t,drag:t}})),e.mount()})),document.querySelectorAll(".slider-colors").forEach((function(t){var e=new Fn(t,{gap:8,pagination:!1,autoWidth:!0,focus:0,omitEnd:!0});e.on("overflow",(function(t){e.options={arrows:t,drag:t}})),e.mount()})),document.querySelectorAll(".slider-product").forEach((function(t){var e=t.querySelector(".slider-product-main"),n=t.querySelector(".slider-product-thumbs"),i=null,r=null,s=null,l=function(t){!function(t){if(S.show("modal-product",R),!Vn){var e=function(){var t=document.querySelector(".slider-product-modal"),e=t.querySelector(".slider-product-modal-main"),n=t.querySelector(".slider-product-modal-thumbs"),i=document.querySelectorAll(".product-img"),o=document.querySelectorAll(".product-thumb"),r=new Fn(e,{type:"fade",rewind:!0}),s=new Fn(n,{gap:8,autoHeight:!0,pagination:!1,direction:"ttb",height:"calc(100vh - 90px)",isNavigation:!0,breakpoints:Wn({},a.breakpoints.max.lg,{height:"calc(100vh - 72px)"})});return r.on("overflow",(function(t){r.options={arrows:t,pagination:t,drag:t}})),s.on("overflow",(function(t){s.options={arrows:t,drag:t}})),r.sync(s),r.mount(),s.mount(),i.forEach((function(t){var e=document.createElement("div");e.classList.add("slider-product-modal-main__slide","slider__slide","splide__slide");var n=t.cloneNode(!0),i=n.querySelector(".product-img__img");i&&n.dataset.imgModal&&(i.src=n.dataset.imgModal),e.appendChild(n),r.add(e)})),o.forEach((function(t){var e=document.createElement("div");e.classList.add("slider-product-modal-thumbs__slide","slider__slide","splide__slide"),e.appendChild(t.cloneNode(!0)),s.add(e)})),{main:r,thumbs:s}}(),n=e.main,i=e.thumbs;Rn=n,Bn=i,Vn=!0}Bn.options={speed:0},Rn.options={speed:0},Rn.go(t),Rn.options={speed:400},Bn.options={speed:400}}(t.index)},c=function(){i&&(i.off("click",l),window.matchMedia(a.media.min.md).matches&&i.on("click",l))},d=function(){i&&(i.destroy(),i=null),r&&(r.destroy(),r=null)},u={gap:20,arrows:!1,focus:0,omitEnd:!0},h=function(t,e){t.on("overflow",(function(n){return t.options=e(n)}))},g=function(){d(),i=new Fn(e,Yn(Yn({},u),{},{autoWidth:!0,gap:8,breakpoints:Wn({},a.breakpoints.max.sm,{gap:20})})),h(i,(function(t){return{pagination:t,drag:t}})),c(),i.mount()},p=function(){d(),r=new Fn(n,{gap:8,pagination:!1,autoHeight:!0,focus:0,omitEnd:!0,direction:"ttb",isNavigation:!0,height:589}),h(r,(function(t){return{arrows:t,drag:t}})),r.mount(),i=new Fn(e,u),h(i,(function(t){return{pagination:t,drag:t}})),c(),i.sync(r).mount()};o().register(a.media.max.lg,{setup:function(){window.matchMedia(a.media.max.lg).matches?(g(),s="mobile"):(p(),s="desktop")},match:function(){"mobile"!==s&&(g(),s="mobile")},unmatch:function(){"desktop"!==s&&(p(),s="desktop")}}).register(a.media.min.md,{match:c,unmatch:c})})),document.querySelectorAll(".slider-review-imgs").forEach((function(t){var e=new Fn(t,{gap:8,pagination:!1,arrows:!1,autoWidth:!0,focus:0,omitEnd:!0});e.on("overflow",(function(t){e.options={drag:t}})),e.mount()}))}function Kn(){var t,e;!function(){var t=document.querySelector(".add-to-cart__prices"),e=document.querySelector(".add-to-cart__details"),n=document.querySelector(".details-product-modal__add-to-cart");t&&e&&n&&(n.insertAdjacentElement("afterbegin",e.cloneNode(!0)),n.insertAdjacentElement("afterbegin",t.cloneNode(!0)))}(),t=document.querySelector(".variation__items--size"),e=document.querySelector(".size-modal"),t&&e&&e.insertAdjacentElement("beforeend",t.cloneNode(!0)),function(){var t=document.querySelector(".favorite-popup");if(t){var e=null,n=!1,i=!1,r=function(){n||i||(t.classList.add("is-active"),n=!0,document.addEventListener("keydown",c),document.addEventListener("click",d))},s=function(){n&&(t.classList.remove("is-active"),n=!1,document.removeEventListener("keydown",c),document.removeEventListener("click",d))},l=function(){clearTimeout(e),n||i||(e=setTimeout(r,5e3))},c=function(t){"Escape"!==t.key&&"Esc"!==t.key||(s(),i=!0,u())},d=function(e){n&&!t.contains(e.target)&&(s(),i=!0,u())},u=function(){["mousemove","keydown","scroll","click"].forEach((function(t){return document.removeEventListener(t,l,{passive:!0})})),clearTimeout(e)};o().register(a.media.min.md,{match:function(){i||(["mousemove","keydown","scroll","click"].forEach((function(t){return document.addEventListener(t,l,{passive:!0})})),l())},unmatch:function(){u(),s()}})}}(),document.querySelectorAll(".form-question").forEach((function(t){var e=t.querySelector(".form-question__textarea"),n=t.querySelector(".form-question__char-counter span"),i=t.querySelector(".form-question__char-counter"),o=t.querySelector(".form-question__cancel"),a=!1;e.addEventListener("focus",(function(){t.classList.add("is-active")})),o.addEventListener("click",(function(){a=!1,t.classList.remove("is-active","is-invalid"),e.classList.remove("is-invalid"),i.classList.remove("is-invalid"),e.value="",n.textContent="0"})),e.addEventListener("input",(function(){var o=e.value.length;n.textContent=o,a&&o>=10&&o<=1e3&&(t.classList.remove("is-invalid"),e.classList.remove("is-invalid"),i.classList.remove("is-invalid"),a=!1)})),t.addEventListener("submit",(function(o){o.preventDefault();var r=e.value.length;n.textContent=r,r>=10&&r<=1e3?(S.show("modal-question-feedback",R),a=!1,t.classList.remove("is-active"),e.value="",n.textContent="0"):(a=!0,t.classList.add("is-invalid"),e.classList.add("is-invalid"),i.classList.add("is-invalid"))}))}))}var Un=Object.defineProperty,Gn=Object.defineProperties,Xn=Object.getOwnPropertyDescriptors,Zn=Object.getOwnPropertySymbols,Jn=Object.prototype.hasOwnProperty,Qn=Object.prototype.propertyIsEnumerable,ti=(t,e,n)=>e in t?Un(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ei=(t,e)=>{for(var n in e||(e={}))Jn.call(e,n)&&ti(t,n,e[n]);if(Zn)for(var n of Zn(e))Qn.call(e,n)&&ti(t,n,e[n]);return t},ni=(t,e,n)=>(ti(t,"symbol"!=typeof e?e+"":e,n),n);const ii='The calendar has not been initialized, please initialize it using the "init()" method first.',oi="You specified an incorrect language label or did not specify the required number of values ​​for «locale.weekdays» or «locale.months».",ai="For the «multiple» calendar type, the «displayMonthsCount» parameter can have a value from 2 to 12, and for all others it cannot be greater than 1.",ri=(t,e,n)=>{t.context[e]=n},si=t=>{t.context.isShowInInputMode&&t.context.currentType&&(t.context.mainElement.dataset.vcCalendarHidden="",ri(t,"isShowInInputMode",!1),t.context.cleanupHandlers[0]&&(t.context.cleanupHandlers.forEach((t=>t())),ri(t,"cleanupHandlers",[])),t.onHide&&t.onHide(t))};function li(t){if(!t||!t.getBoundingClientRect)return{top:0,bottom:0,left:0,right:0};const e=t.getBoundingClientRect(),n=document.documentElement;return{bottom:e.bottom,right:e.right,top:e.top+window.scrollY-n.clientTop,left:e.left+window.scrollX-n.clientLeft}}function ci(){return{vw:Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),vh:Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)}}function di(t,e,n=5){const i={top:!0,bottom:!0,left:!0,right:!0},o=[];if(!e||!t)return{canShow:i,parentPositions:o};const{bottom:a,top:r}=function(t){const{top:e,left:n}={left:window.scrollX||document.documentElement.scrollLeft||0,top:window.scrollY||document.documentElement.scrollTop||0},{top:i,left:o}=li(t),{vh:a,vw:r}=ci(),s=i-e,l=o-n;return{top:s,bottom:a-(s+t.clientHeight),left:l,right:r-(l+t.clientWidth)}}(t),{top:s,left:l}=li(t),{height:c,width:d}=e.getBoundingClientRect(),{vh:u,vw:h}=ci(),g=h/2,p=u/2;return[{condition:s<p,position:"top"},{condition:s>p,position:"bottom"},{condition:l<g,position:"left"},{condition:l>g,position:"right"}].forEach((({condition:t,position:e})=>{t&&o.push(e)})),Object.assign(i,{top:c<=r-n,bottom:c<=a-n,left:d<=l,right:d<=h-l}),{canShow:i,parentPositions:o}}const ui=t=>new Date(`${t}T00:00:00`),hi=t=>`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`,gi=t=>t.reduce(((t,e)=>{if(e instanceof Date||"number"==typeof e){const n=e instanceof Date?e:new Date(e);t.push(n.toISOString().substring(0,10))}else e.match(/^(\d{4}-\d{2}-\d{2})$/g)?t.push(e):e.replace(/(\d{4}-\d{2}-\d{2}).*?(\d{4}-\d{2}-\d{2})/g,((e,n,i)=>{const o=ui(n),a=ui(i),r=new Date(o.getTime());for(;r<=a;r.setDate(r.getDate()+1))t.push(hi(r));return e}));return t}),[]),pi=(t,e,n,i="")=>{e?t.setAttribute(n,i):t.getAttribute(n)===i&&t.removeAttribute(n)},fi=(t,e,n,i,o,a,r)=>{var s,l,c,d;const u=ui(t.context.displayDateMin)>ui(a)||ui(t.context.displayDateMax)<ui(a)||(null==(s=t.context.disableDates)?void 0:s.includes(a))||!t.selectionMonthsMode&&"current"!==r||!t.selectionYearsMode&&ui(a).getFullYear()!==e;pi(n,u,"data-vc-date-disabled"),i&&pi(i,u,"aria-disabled","true"),i&&pi(i,u,"tabindex","-1"),pi(n,!t.disableToday&&t.context.dateToday===a,"data-vc-date-today"),pi(n,!t.disableToday&&t.context.dateToday===a,"aria-current","date"),pi(n,null==(l=t.selectedWeekends)?void 0:l.includes(o),"data-vc-date-weekend");const h=(null==(c=t.selectedHolidays)?void 0:c[0])?gi(t.selectedHolidays):[];if(pi(n,h.includes(a),"data-vc-date-holiday"),(null==(d=t.context.selectedDates)?void 0:d.includes(a))?(n.setAttribute("data-vc-date-selected",""),i&&i.setAttribute("aria-selected","true"),t.context.selectedDates.length>1&&"multiple-ranged"===t.selectionDatesMode&&(t.context.selectedDates[0]===a&&t.context.selectedDates[t.context.selectedDates.length-1]===a?n.setAttribute("data-vc-date-selected","first-and-last"):t.context.selectedDates[0]===a?n.setAttribute("data-vc-date-selected","first"):t.context.selectedDates[t.context.selectedDates.length-1]===a&&n.setAttribute("data-vc-date-selected","last"),t.context.selectedDates[0]!==a&&t.context.selectedDates[t.context.selectedDates.length-1]!==a&&n.setAttribute("data-vc-date-selected","middle"))):n.hasAttribute("data-vc-date-selected")&&(n.removeAttribute("data-vc-date-selected"),i&&i.removeAttribute("aria-selected")),!t.context.disableDates.includes(a)&&t.enableEdgeDatesOnly&&t.context.selectedDates.length>1&&"multiple-ranged"===t.selectionDatesMode){const e=ui(t.context.selectedDates[0]),i=ui(t.context.selectedDates[t.context.selectedDates.length-1]),o=ui(a);pi(n,o>e&&o<i,"data-vc-date-selected","middle")}},mi=(t,e)=>{const n=ui(t),i=(n.getDay()-e+7)%7;n.setDate(n.getDate()+4-i);const o=new Date(n.getFullYear(),0,1),a=Math.ceil(((+n-+o)/864e5+1)/7);return{year:n.getFullYear(),week:a}},vi=(t,e,n,i,o,a)=>{const r=ui(o).getDay(),s="string"==typeof t.locale&&t.locale.length?t.locale:"en",l=document.createElement("div");let c;l.className=t.styles.date,l.dataset.vcDate=o,l.dataset.vcDateMonth=a,l.dataset.vcDateWeekDay=String(r),("current"===a||t.displayDatesOutside)&&(c=document.createElement("button"),c.className=t.styles.dateBtn,c.type="button",c.role="gridcell",c.ariaLabel=((t,e)=>new Date(`${t}T00:00:00.000Z`).toLocaleString(e,{dateStyle:"long",timeZone:"UTC"}))(o,s),c.dataset.vcDateBtn="",c.innerText=String(i),l.appendChild(c)),t.enableWeekNumbers&&((t,e,n)=>{const i=mi(n,t.firstWeekday);i&&(e.dataset.vcDateWeekNumber=String(i.week))})(t,l,o),((t,e,n)=>{var i,o,a,r,s;const l=null==(i=t.disableWeekdays)?void 0:i.includes(n),c=t.disableAllDates&&!!(null==(o=t.context.enableDates)?void 0:o[0]);!l&&!c||(null==(a=t.context.enableDates)?void 0:a.includes(e))||(null==(r=t.context.disableDates)?void 0:r.includes(e))||(t.context.disableDates.push(e),null==(s=t.context.disableDates)||s.sort(((t,e)=>+new Date(t)-+new Date(e))))})(t,o,r),fi(t,e,l,c,r,o,a),n.appendChild(l),t.onCreateDateEls&&t.onCreateDateEls(t,l)},yi=t=>{const e=new Date(t.context.selectedYear,t.context.selectedMonth,1),n=t.context.mainElement.querySelectorAll('[data-vc="dates"]'),i=t.context.mainElement.querySelectorAll('[data-vc-week="numbers"]');n.forEach(((n,o)=>{t.selectionDatesMode||(n.dataset.vcDatesDisabled=""),n.textContent="";const a=new Date(e);a.setMonth(a.getMonth()+o);const r=a.getMonth(),s=a.getFullYear(),l=(new Date(s,r,1).getDay()-t.firstWeekday+7)%7,c=new Date(s,r+1,0).getDate();((t,e,n,i,o)=>{let a=new Date(n,i,0).getDate()-(o-1);const r=0===i?n-1:n,s=0===i?12:i<10?`0${i}`:i;for(let i=o;i>0;i--,a++)vi(t,n,e,a,`${r}-${s}-${a}`,"prev")})(t,n,s,r,l),((t,e,n,i,o)=>{for(let a=1;a<=n;a++){const n=new Date(i,o,a);vi(t,i,e,a,hi(n),"current")}})(t,n,c,s,r),((t,e,n,i,o,a)=>{const r=a+n,s=7*Math.ceil(r/7)-r,l=o+1===12?i+1:i,c=o+1===12?"01":o+2<10?`0${o+2}`:o+2;for(let n=1;n<=s;n++){const o=n<10?`0${n}`:String(n);vi(t,i,e,n,`${l}-${c}-${o}`,"next")}})(t,n,c,s,r,l),((t,e)=>{var n;t.popups&&(null==(n=Object.entries(t.popups))||n.forEach((([n,i])=>((t,e,n,i)=>{var o;const a=i.querySelector(`[data-vc-date="${e}"]`),r=null==a?void 0:a.querySelector("[data-vc-date-btn]");if(!a||!r)return;if((null==n?void 0:n.modifier)&&r.classList.add(...n.modifier.trim().split(" ")),!(null==n?void 0:n.html))return;const s=document.createElement("div");s.className=t.styles.datePopup,s.dataset.vcDatePopup="",s.innerHTML=t.sanitizerHTML(n.html),r.ariaExpanded="true",r.ariaLabel=`${r.ariaLabel}, ${null==(o=null==s?void 0:s.textContent)?void 0:o.replace(/^\s+|\s+(?=\s)|\s+$/g,"").replace(/&nbsp;/g," ")}`,a.appendChild(s),requestAnimationFrame((()=>{if(!s)return;const{canShow:t}=di(a,s),e=t.bottom?a.offsetHeight:-s.offsetHeight,n=t.left&&!t.right?a.offsetWidth-s.offsetWidth/2:!t.left&&t.right?s.offsetWidth/2:0;Object.assign(s.style,{left:`${n}px`,top:`${e}px`})}))})(t,n,i,e))))})(t,n),((t,e,n,i,o)=>{if(!t.enableWeekNumbers)return;i.textContent="";const a=document.createElement("b");a.className=t.styles.weekNumbersTitle,a.innerText="#",a.dataset.vcWeekNumbers="title",i.appendChild(a);const r=document.createElement("div");r.className=t.styles.weekNumbersContent,r.dataset.vcWeekNumbers="content",i.appendChild(r);const s=document.createElement("button");s.type="button",s.className=t.styles.weekNumber;const l=o.querySelectorAll("[data-vc-date]"),c=Math.ceil((e+n)/7);for(let e=0;e<c;e++){const n=l[0===e?6:7*e].dataset.vcDate,i=mi(n,t.firstWeekday);if(!i)return;const o=s.cloneNode(!0);o.innerText=String(i.week),o.dataset.vcWeekNumber=String(i.week),o.dataset.vcWeekYear=String(i.year),o.role="rowheader",o.ariaLabel=`${i.week}`,r.appendChild(o)}})(t,l,c,i[o],n)}))},bi=t=>`\n  <div class="${t.styles.header}" data-vc="header" role="toolbar" aria-label="${t.labels.navigation}">\n    <#ArrowPrev [month] />\n    <div class="${t.styles.headerContent}" data-vc-header="content">\n      <#Month />\n      <#Year />\n    </div>\n    <#ArrowNext [month] />\n  </div>\n  <div class="${t.styles.wrapper}" data-vc="wrapper">\n    <#WeekNumbers />\n    <div class="${t.styles.content}" data-vc="content">\n      <#Week />\n      <#Dates />\n      <#DateRangeTooltip />\n    </div>\n  </div>\n  <#ControlTime />\n`,wi=t=>`\n  <div class="${t.styles.header}" data-vc="header" role="toolbar" aria-label="${t.labels.navigation}">\n    <div class="${t.styles.headerContent}" data-vc-header="content">\n      <#Month />\n      <#Year />\n    </div>\n  </div>\n  <div class="${t.styles.wrapper}" data-vc="wrapper">\n    <div class="${t.styles.content}" data-vc="content">\n      <#Months />\n    </div>\n  </div>\n`,xi=t=>`\n  <div class="${t.styles.controls}" data-vc="controls" role="toolbar" aria-label="${t.labels.navigation}">\n    <#ArrowPrev [month] />\n    <#ArrowNext [month] />\n  </div>\n  <div class="${t.styles.grid}" data-vc="grid">\n    <#Multiple>\n      <div class="${t.styles.column}" data-vc="column" role="region">\n        <div class="${t.styles.header}" data-vc="header">\n          <div class="${t.styles.headerContent}" data-vc-header="content">\n            <#Month />\n            <#Year />\n          </div>\n        </div>\n        <div class="${t.styles.wrapper}" data-vc="wrapper">\n          <#WeekNumbers />\n          <div class="${t.styles.content}" data-vc="content">\n            <#Week />\n            <#Dates />\n          </div>\n        </div>\n      </div>\n    <#/Multiple>\n    <#DateRangeTooltip />\n  </div>\n  <#ControlTime />\n`,Ti=t=>`\n  <div class="${t.styles.header}" data-vc="header" role="toolbar" aria-label="${t.labels.navigation}">\n    <#ArrowPrev [year] />\n    <div class="${t.styles.headerContent}" data-vc-header="content">\n      <#Month />\n      <#Year />\n    </div>\n    <#ArrowNext [year] />\n  </div>\n  <div class="${t.styles.wrapper}" data-vc="wrapper">\n    <div class="${t.styles.content}" data-vc="content">\n      <#Years />\n    </div>\n  </div>\n`,Ei={ArrowNext:(t,e)=>`<button type="button" class="${t.styles.arrowNext}" data-vc-arrow="next" aria-label="${t.labels.arrowNext[e]}"></button>`,ArrowPrev:(t,e)=>`<button type="button" class="${t.styles.arrowPrev}" data-vc-arrow="prev" aria-label="${t.labels.arrowPrev[e]}"></button>`,ControlTime:t=>t.selectionTimeMode?`<div class="${t.styles.time}" data-vc="time" role="group" aria-label="${t.labels.selectingTime}"></div>`:"",Dates:t=>`<div class="${t.styles.dates}" data-vc="dates" role="grid" aria-live="assertive" aria-label="${t.labels.dates}" ${"multiple"===t.type?"aria-multiselectable":""}></div>`,DateRangeTooltip:t=>t.onCreateDateRangeTooltip?`<div class="${t.styles.dateRangeTooltip}" data-vc-date-range-tooltip="hidden"></div>`:"",Month:t=>`<button type="button" class="${t.styles.month}" data-vc="month"></button>`,Months:t=>`<div class="${t.styles.months}" data-vc="months" role="grid" aria-live="assertive" aria-label="${t.labels.months}"></div>`,Week:t=>`<div class="${t.styles.week}" data-vc="week" role="row" aria-label="${t.labels.week}"></div>`,WeekNumbers:t=>t.enableWeekNumbers?`<div class="${t.styles.weekNumbers}" data-vc-week="numbers" role="row" aria-label="${t.labels.weekNumber}"></div>`:"",Year:t=>`<button type="button" class="${t.styles.year}" data-vc="year"></button>`,Years:t=>`<div class="${t.styles.years}" data-vc="years" role="grid" aria-live="assertive" aria-label="${t.labels.years}"></div>`},Mi=(t,e)=>e.replace(/[\n\t]/g,"").replace(/<#(?!\/?Multiple)(.*?)>/g,((e,n)=>{const i=(n.match(/\[(.*?)\]/)||[])[1],o=(t=>Ei[t])(n.replace(/[/\s\n\t]|\[(.*?)\]/g,"")),a=o?o(t,null!=i?i:null):"";return t.sanitizerHTML(a)})).replace(/[\n\t]/g,""),Di=(t,e)=>{const n={default:bi,month:wi,year:Ti,multiple:xi};if(Object.keys(n).forEach((e=>{const i=e;t.layouts[i].length||(t.layouts[i]=n[i](t))})),t.context.mainElement.className=t.styles.calendar,t.context.mainElement.dataset.vc="calendar",t.context.mainElement.dataset.vcType=t.context.currentType,t.context.mainElement.role="application",t.context.mainElement.tabIndex=0,t.context.mainElement.ariaLabel=t.labels.application,"multiple"!==t.context.currentType){if("multiple"===t.type&&e){const n=t.context.mainElement.querySelector('[data-vc="controls"]'),i=t.context.mainElement.querySelector('[data-vc="grid"]'),o=e.closest('[data-vc="column"]');return n&&t.context.mainElement.removeChild(n),i&&(i.dataset.vcGrid="hidden"),o&&(o.dataset.vcColumn=t.context.currentType),void(o&&(o.innerHTML=t.sanitizerHTML(Mi(t,t.layouts[t.context.currentType]))))}t.context.mainElement.innerHTML=t.sanitizerHTML(Mi(t,t.layouts[t.context.currentType]))}else t.context.mainElement.innerHTML=t.sanitizerHTML(((t,e)=>e.replace(new RegExp("<#Multiple>(.*?)<#\\/Multiple>","gs"),((e,n)=>{const i=Array(t.context.displayMonthsCount).fill(n).join("");return t.sanitizerHTML(i)})).replace(/[\n\t]/g,""))(t,Mi(t,t.layouts[t.context.currentType])))},Si=(t,e,n,i)=>{t.style.visibility=n?"hidden":"",e.style.visibility=i?"hidden":""},_i=t=>{if("month"===t.context.currentType)return;const e=t.context.mainElement.querySelector('[data-vc-arrow="prev"]'),n=t.context.mainElement.querySelector('[data-vc-arrow="next"]');e&&n&&{default:()=>((t,e,n)=>{const i=ui(hi(new Date(t.context.selectedYear,t.context.selectedMonth,1))),o=new Date(i.getTime()),a=new Date(i.getTime());o.setMonth(o.getMonth()-t.monthsToSwitch),a.setMonth(a.getMonth()+t.monthsToSwitch);const r=ui(t.context.dateMin),s=ui(t.context.dateMax);t.selectionYearsMode||(r.setFullYear(i.getFullYear()),s.setFullYear(i.getFullYear()));const l=!t.selectionMonthsMode||o.getFullYear()<r.getFullYear()||o.getFullYear()===r.getFullYear()&&o.getMonth()<r.getMonth(),c=!t.selectionMonthsMode||a.getFullYear()>s.getFullYear()||a.getFullYear()===s.getFullYear()&&a.getMonth()>s.getMonth()-(t.context.displayMonthsCount-1);Si(e,n,l,c)})(t,e,n),year:()=>((t,e,n)=>{const i=ui(t.context.dateMin),o=ui(t.context.dateMax),a=!!(i.getFullYear()&&t.context.displayYear-7<=i.getFullYear()),r=!!(o.getFullYear()&&t.context.displayYear+7>=o.getFullYear());Si(e,n,a,r)})(t,e,n)}["multiple"===t.context.currentType?"default":t.context.currentType]()},ki=t=>{const e=t.context.mainElement.querySelectorAll('[data-vc="month"]'),n=t.context.mainElement.querySelectorAll('[data-vc="year"]'),i=new Date(t.context.selectedYear,t.context.selectedMonth,1);[e,n].forEach((e=>null==e?void 0:e.forEach(((e,n)=>((t,e,n,i,o)=>{const a=new Date(i.setFullYear(t.context.selectedYear,t.context.selectedMonth+n)).getFullYear(),r=new Date(i.setMonth(t.context.selectedMonth+n)).getMonth(),s=t.context.locale.months.long[r],l=e.closest('[data-vc="column"]');l&&(l.ariaLabel=`${s} ${a}`);const c={month:{id:r,label:s},year:{id:a,label:a}};e.innerText=String(c[o].label),e.dataset[`vc${o.charAt(0).toUpperCase()+o.slice(1)}`]=String(c[o].id),e.ariaLabel=`${t.labels[o]} ${c[o].label}`;const d={month:t.selectionMonthsMode,year:t.selectionYearsMode},u=!1===d[o]||"only-arrows"===d[o];u&&(e.tabIndex=-1),e.disabled=u})(t,e,n,i,e.dataset.vc)))))},Ai=(t,e,n,i,o)=>{var a;const r={month:{selected:"data-vc-months-month-selected",aria:"aria-selected",value:"vcMonthsMonth",selectedProperty:"selectedMonth"},year:{selected:"data-vc-years-year-selected",aria:"aria-selected",value:"vcYearsYear",selectedProperty:"selectedYear"}};o&&(null==(a=t.context.mainElement.querySelectorAll({month:"[data-vc-months-month]",year:"[data-vc-years-year]"}[n]))||a.forEach((t=>{t.removeAttribute(r[n].selected),t.removeAttribute(r[n].aria)})),ri(t,r[n].selectedProperty,Number(e.dataset[r[n].value])),ki(t),"year"===n&&_i(t)),i&&(e.setAttribute(r[n].selected,""),e.setAttribute(r[n].aria,"true"))},Oi=(t,e)=>{var n;if("multiple"!==t.type)return{currentValue:null,columnID:0};const i=t.context.mainElement.querySelectorAll('[data-vc="column"]'),o=Array.from(i).findIndex((t=>t.closest(`[data-vc-column="${e}"]`)));return{currentValue:o>=0?Number(null==(n=i[o].querySelector(`[data-vc="${e}"]`))?void 0:n.getAttribute(`data-vc-${e}`)):null,columnID:Math.max(o,0)}},Ci=(t,e,n,i,o,a,r)=>{const s=e.cloneNode(!1);return s.className=t.styles.monthsMonth,s.innerText=i,s.ariaLabel=o,s.role="gridcell",s.dataset.vcMonthsMonth=`${r}`,a&&(s.ariaDisabled="true"),a&&(s.tabIndex=-1),s.disabled=a,Ai(t,s,"month",n===r,!1),s},Li=(t,e)=>{var n,i;const o=null==(n=null==e?void 0:e.closest('[data-vc="header"]'))?void 0:n.querySelector('[data-vc="year"]'),a=o?Number(o.dataset.vcYear):t.context.selectedYear,r=(null==e?void 0:e.dataset.vcMonth)?Number(e.dataset.vcMonth):t.context.selectedMonth;ri(t,"currentType","month"),Di(t,e),ki(t);const s=t.context.mainElement.querySelector('[data-vc="months"]');if(!t.selectionMonthsMode||!s)return;const l=t.monthsToSwitch>1?t.context.locale.months.long.map(((e,n)=>r-t.monthsToSwitch*n)).concat(t.context.locale.months.long.map(((e,n)=>r+t.monthsToSwitch*n))).filter((t=>t>=0&&t<=12)):Array.from(Array(12).keys()),c=document.createElement("button");c.type="button";for(let e=0;e<12;e++){const n=ui(t.context.dateMin),i=ui(t.context.dateMax),o=t.context.displayMonthsCount-1,{columnID:d}=Oi(t,"month"),u=a<=n.getFullYear()&&e<n.getMonth()+d||a>=i.getFullYear()&&e>i.getMonth()-o+d||a>i.getFullYear()||e!==r&&!l.includes(e),h=Ci(t,c,r,t.context.locale.months.short[e],t.context.locale.months.long[e],u,e);s.appendChild(h),t.onCreateMonthEls&&t.onCreateMonthEls(t,h)}null==(i=t.context.mainElement.querySelector("[data-vc-months-month]:not([disabled])"))||i.focus()},Ii=(t,e,n,i,o)=>`\n  <label class="${e}" data-vc-time-input="${t}">\n    <input type="text" name="${t}" maxlength="2" aria-label="${n[`input${t.charAt(0).toUpperCase()+t.slice(1)}`]}" value="${i}" ${o?"disabled":""}>\n  </label>\n`,Ni=(t,e,n,i,o,a,r)=>`\n  <label class="${e}" data-vc-time-range="${t}">\n    <input type="range" name="${t}" min="${i}" max="${o}" step="${a}" aria-label="${n[`range${t.charAt(0).toUpperCase()+t.slice(1)}`]}" value="${r}">\n  </label>\n`,Pi=(t,e,n,i)=>{({hour:()=>ri(t,"selectedHours",n),minute:()=>ri(t,"selectedMinutes",n)})[i](),ri(t,"selectedTime",`${t.context.selectedHours}:${t.context.selectedMinutes}${t.context.selectedKeeping?` ${t.context.selectedKeeping}`:""}`),t.onChangeTime&&t.onChangeTime(t,e,!1),t.inputMode&&t.context.inputElement&&t.context.mainElement&&t.onChangeToInput&&t.onChangeToInput(t,e)},qi=(t,e)=>{var n;return(null==(n={0:{AM:"00",PM:"12"},1:{AM:"01",PM:"13"},2:{AM:"02",PM:"14"},3:{AM:"03",PM:"15"},4:{AM:"04",PM:"16"},5:{AM:"05",PM:"17"},6:{AM:"06",PM:"18"},7:{AM:"07",PM:"19"},8:{AM:"08",PM:"20"},9:{AM:"09",PM:"21"},10:{AM:"10",PM:"22"},11:{AM:"11",PM:"23"},12:{AM:"00",PM:"12"}}[Number(t)])?void 0:n[e])||String(t)},ji=t=>({0:"12",13:"01",14:"02",15:"03",16:"04",17:"05",18:"06",19:"07",20:"08",21:"09",22:"10",23:"11"}[Number(t)]||String(t)),Fi=(t,e,n,i)=>{t.value=n,e.value=i},Hi=(t,e,n,i,o,a,r)=>{const s={hour:(s,l,c)=>{t.selectionTimeMode&&{12:()=>{if(!t.context.selectedKeeping)return;const d=Number(qi(l,t.context.selectedKeeping));if(!(d<=a&&d>=r))return Fi(n,e,t.context.selectedHours,t.context.selectedHours),void(t.onChangeTime&&t.onChangeTime(t,c,!0));Fi(n,e,ji(l),qi(l,t.context.selectedKeeping)),s>12&&((t,e,n)=>{e&&n&&(ri(t,"selectedKeeping",n),e.innerText=n)})(t,i,"PM"),Pi(t,c,ji(l),o)},24:()=>{if(!(s<=a&&s>=r))return Fi(n,e,t.context.selectedHours,t.context.selectedHours),void(t.onChangeTime&&t.onChangeTime(t,c,!0));Fi(n,e,l,l),Pi(t,c,l,o)}}[t.selectionTimeMode]()},minute:(i,s,l)=>{if(!(i<=a&&i>=r))return n.value=t.context.selectedMinutes,void(t.onChangeTime&&t.onChangeTime(t,l,!0));n.value=s,e.value=s,Pi(t,l,s,o)}},l=t=>{const e=Number(n.value),i=n.value.padStart(2,"0");s[o]&&s[o](e,i,t)};return n.addEventListener("change",l),()=>{n.removeEventListener("change",l)}},$i=(t,e,n,i,o)=>{const a=a=>{const r=Number(e.value),s=e.value.padStart(2,"0"),l="hour"===o,c=24===t.selectionTimeMode,d=r>0&&r<12;l&&!c&&((t,e,n)=>{e&&(ri(t,"selectedKeeping",n),e.innerText=n)})(t,i,0===r||d?"AM":"PM"),((t,e,n,i,o)=>{e.value=o,Pi(t,n,o,i)})(t,n,a,o,!l||c||d?s:ji(e.value))};return e.addEventListener("input",a),()=>{e.removeEventListener("input",a)}},Yi=t=>t.setAttribute("data-vc-input-focus",""),Wi=t=>t.removeAttribute("data-vc-input-focus"),Ri=t=>{const e=t.selectedWeekends?[...t.selectedWeekends]:[],n=[...t.context.locale.weekdays.long].reduce(((n,i,o)=>[...n,{id:o,titleShort:t.context.locale.weekdays.short[o],titleLong:i,isWeekend:e.includes(o)}]),[]),i=[...n.slice(t.firstWeekday),...n.slice(0,t.firstWeekday)];t.context.mainElement.querySelectorAll('[data-vc="week"]').forEach((e=>{const n=t.onClickWeekDay?document.createElement("button"):document.createElement("b");t.onClickWeekDay&&(n.type="button"),i.forEach((i=>{const o=n.cloneNode(!0);o.innerText=i.titleShort,o.className=t.styles.weekDay,o.role="columnheader",o.ariaLabel=i.titleLong,o.dataset.vcWeekDay=String(i.id),i.isWeekend&&(o.dataset.vcWeekDayOff=""),e.appendChild(o)}))}))},Bi=(t,e,n,i,o)=>{const a=e.cloneNode(!1);return a.className=t.styles.yearsYear,a.innerText=String(o),a.ariaLabel=String(o),a.role="gridcell",a.dataset.vcYearsYear=`${o}`,i&&(a.ariaDisabled="true"),i&&(a.tabIndex=-1),a.disabled=i,Ai(t,a,"year",n===o,!1),a},Vi=(t,e)=>{var n;const i=(null==e?void 0:e.dataset.vcYear)?Number(e.dataset.vcYear):t.context.selectedYear;ri(t,"currentType","year"),Di(t,e),ki(t),_i(t);const o=t.context.mainElement.querySelector('[data-vc="years"]');if(!t.selectionYearsMode||!o)return;const a="multiple"!==t.type||t.context.selectedYear===i?0:1,r=document.createElement("button");r.type="button";for(let e=t.context.displayYear-7;e<t.context.displayYear+8;e++){const n=e<ui(t.context.dateMin).getFullYear()+a||e>ui(t.context.dateMax).getFullYear(),s=Bi(t,r,i,n,e);o.appendChild(s),t.onCreateYearEls&&t.onCreateYearEls(t,s)}null==(n=t.context.mainElement.querySelector("[data-vc-years-year]:not([disabled])"))||n.focus()},zi={value:!1,set:()=>zi.value=!0,check:()=>zi.value},Ki=(t,e)=>t.dataset.vcTheme=e,Ui=(t,e)=>{if(Ki(t.context.mainElement,e.matches?"dark":"light"),"system"!==t.selectedTheme||zi.check())return;const n=t=>{const e=document.querySelectorAll('[data-vc="calendar"]');null==e||e.forEach((e=>Ki(e,t.matches?"dark":"light")))};e.addEventListener?e.addEventListener("change",n):e.addListener(n),zi.set()},Gi=t=>t.charAt(0).toUpperCase()+t.slice(1).replace(/\./,""),Xi=t=>{const e={default:()=>{Ri(t),yi(t)},multiple:()=>{Ri(t),yi(t)},month:()=>Li(t),year:()=>Vi(t)};(t=>{"not all"!==window.matchMedia("(prefers-color-scheme)").media?"system"===t.selectedTheme?((t,e)=>{const n=t.themeAttrDetect.length?document.querySelector(t.themeAttrDetect):null,i=t.themeAttrDetect.replace(/^.*\[(.+)\]/g,((t,e)=>e));if(!n||"system"===n.getAttribute(i))return void Ui(t,e);const o=n.getAttribute(i);o?(Ki(t.context.mainElement,o),((t,e,n)=>{new MutationObserver((t=>{for(let i=0;i<t.length;i++)if(t[i].attributeName===e){n();break}})).observe(t,{attributes:!0})})(n,i,(()=>{const e=n.getAttribute(i);e&&Ki(t.context.mainElement,e)}))):Ui(t,e)})(t,window.matchMedia("(prefers-color-scheme: dark)")):Ki(t.context.mainElement,t.selectedTheme):Ki(t.context.mainElement,"light")})(t),(t=>{var e,n,i,o,a,r,s,l;if(!(t.context.locale.weekdays.short[6]&&t.context.locale.weekdays.long[6]&&t.context.locale.months.short[11]&&t.context.locale.months.long[11]))if("string"==typeof t.locale){if("string"==typeof t.locale&&!t.locale.length)throw new Error(oi);Array.from({length:7},((e,n)=>((t,e,n)=>{const i=new Date(`1978-01-0${e+1}T00:00:00.000Z`),o=i.toLocaleString(n,{weekday:"short",timeZone:"UTC"}),a=i.toLocaleString(n,{weekday:"long",timeZone:"UTC"});t.context.locale.weekdays.short.push(Gi(o)),t.context.locale.weekdays.long.push(Gi(a))})(t,n,t.locale))),Array.from({length:12},((e,n)=>((t,e,n)=>{const i=new Date(`1978-${String(e+1).padStart(2,"0")}-01T00:00:00.000Z`),o=i.toLocaleString(n,{month:"short",timeZone:"UTC"}),a=i.toLocaleString(n,{month:"long",timeZone:"UTC"});t.context.locale.months.short.push(Gi(o)),t.context.locale.months.long.push(Gi(a))})(t,n,t.locale)))}else{if(!((null==(n=null==(e=t.locale)?void 0:e.weekdays)?void 0:n.short[6])&&(null==(o=null==(i=t.locale)?void 0:i.weekdays)?void 0:o.long[6])&&(null==(r=null==(a=t.locale)?void 0:a.months)?void 0:r.short[11])&&(null==(l=null==(s=t.locale)?void 0:s.months)?void 0:l.long[11])))throw new Error(oi);ri(t,"locale",ei({},t.locale))}})(t),Di(t),ki(t),_i(t),(t=>{const e=t.context.mainElement.querySelector('[data-vc="time"]');if(!t.selectionTimeMode||!e)return;const[n,i]=[t.timeMinHour,t.timeMaxHour],[o,a]=[t.timeMinMinute,t.timeMaxMinute],r=t.context.selectedKeeping?qi(t.context.selectedHours,t.context.selectedKeeping):t.context.selectedHours,s="range"===t.timeControls;var l;e.innerHTML=t.sanitizerHTML(`\n    <div class="${t.styles.timeContent}" data-vc-time="content">\n      ${Ii("hour",t.styles.timeHour,t.labels,t.context.selectedHours,s)}\n      ${Ii("minute",t.styles.timeMinute,t.labels,t.context.selectedMinutes,s)}\n      ${12===t.selectionTimeMode?(l=t.context.selectedKeeping,`<button type="button" class="${t.styles.timeKeeping}" aria-label="${t.labels.btnKeeping} ${l}" data-vc-time="keeping" ${s?"disabled":""}>${l}</button>`):""}\n    </div>\n    <div class="${t.styles.timeRanges}" data-vc-time="ranges">\n      ${Ni("hour",t.styles.timeRange,t.labels,n,i,t.timeStepHour,r)}\n      ${Ni("minute",t.styles.timeRange,t.labels,o,a,t.timeStepMinute,t.context.selectedMinutes)}\n    </div>\n  `),((t,e)=>{const n=e.querySelector('[data-vc-time-range="hour"] input[name="hour"]'),i=e.querySelector('[data-vc-time-range="minute"] input[name="minute"]'),o=e.querySelector('[data-vc-time-input="hour"] input[name="hour"]'),a=e.querySelector('[data-vc-time-input="minute"] input[name="minute"]'),r=e.querySelector('[data-vc-time="keeping"]');if(!(n&&i&&o&&a))return;const s=t=>{t.target===n&&Yi(o),t.target===i&&Yi(a)},l=t=>{t.target===n&&Wi(o),t.target===i&&Wi(a)};e.addEventListener("mouseover",s),e.addEventListener("mouseout",l),Hi(t,n,o,r,"hour",t.timeMaxHour,t.timeMinHour),Hi(t,i,a,r,"minute",t.timeMaxMinute,t.timeMinMinute),$i(t,n,o,r,"hour"),$i(t,i,a,r,"minute"),r&&((t,e,n,i,o)=>{e.addEventListener("click",(a=>{const r="AM"===t.context.selectedKeeping?"PM":"AM",s=qi(t.context.selectedHours,r);Number(s)<=i&&Number(s)>=o?(ri(t,"selectedKeeping",r),n.value=s,Pi(t,a,t.context.selectedHours,"hour"),e.ariaLabel=`${t.labels.btnKeeping} ${t.context.selectedKeeping}`,e.innerText=t.context.selectedKeeping):t.onChangeTime&&t.onChangeTime(t,a,!0)}))})(t,r,n,t.timeMaxHour,t.timeMinHour)})(t,e)})(t),e[t.context.currentType]()},Zi=t=>{const e=e=>{var n;const i=e.target;if(!["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.key)||"button"!==i.localName)return;const o=Array.from(t.context.mainElement.querySelectorAll('[data-vc="calendar"] button')),a=o.indexOf(i);if(-1===a)return;const r=(s=o[a]).hasAttribute("data-vc-date-btn")?7:s.hasAttribute("data-vc-months-month")?4:s.hasAttribute("data-vc-years-year")?5:1;var s;const l=(0,{ArrowUp:()=>Math.max(0,a-r),ArrowDown:()=>Math.min(o.length-1,a+r),ArrowLeft:()=>Math.max(0,a-1),ArrowRight:()=>Math.min(o.length-1,a+1)}[e.key])();null==(n=o[l])||n.focus()};return t.context.mainElement.addEventListener("keydown",e),()=>t.context.mainElement.removeEventListener("keydown",e)},Ji=(t,e)=>{const n=ui(hi(new Date(t.context.selectedYear,t.context.selectedMonth,1)));({prev:()=>n.setMonth(n.getMonth()-t.monthsToSwitch),next:()=>n.setMonth(n.getMonth()+t.monthsToSwitch)})[e](),ri(t,"selectedMonth",n.getMonth()),ri(t,"selectedYear",n.getFullYear()),ki(t),_i(t),yi(t)},Qi=t=>void 0===t.enableDateToggle||("function"==typeof t.enableDateToggle?t.enableDateToggle(t):t.enableDateToggle),to=(t,e,n)=>{const i=e.dataset.vcDate,o=e.closest("[data-vc-date][data-vc-date-selected]"),a=Qi(t);if(o&&!a)return;const r=o?t.context.selectedDates.filter((t=>t!==i)):n?[...t.context.selectedDates,i]:[i];ri(t,"selectedDates",r)},eo=(t,e,n)=>{if(!e)return;if(!n)return e.dataset.vcDateRangeTooltip="hidden",void(e.textContent="");const i=t.context.mainElement.getBoundingClientRect(),o=n.getBoundingClientRect();e.style.left=o.left-i.left+o.width/2+"px",e.style.top=o.bottom-i.top-o.height+"px",e.dataset.vcDateRangeTooltip="visible",e.innerHTML=t.sanitizerHTML(t.onCreateDateRangeTooltip(t,n,e,o,i))},no={self:null,lastDateEl:null,isHovering:!1,rangeMin:void 0,rangeMax:void 0,tooltipEl:null,timeoutId:null},io=(t,e,n)=>{var i,o,a;if(!(null==(o=null==(i=no.self)?void 0:i.context)?void 0:o.selectedDates[0]))return;const r=hi(t);(null==(a=no.self.context.disableDates)?void 0:a.includes(r))||(no.self.context.mainElement.querySelectorAll(`[data-vc-date="${r}"]`).forEach((t=>t.dataset.vcDateHover="")),e.forEach((t=>t.dataset.vcDateHover="first")),n.forEach((t=>{"first"===t.dataset.vcDateHover?t.dataset.vcDateHover="first-and-last":t.dataset.vcDateHover="last"})))},oo=()=>{var t,e;(null==(e=null==(t=no.self)?void 0:t.context)?void 0:e.mainElement)&&no.self.context.mainElement.querySelectorAll("[data-vc-date-hover]").forEach((t=>t.removeAttribute("data-vc-date-hover")))},ao=t=>e=>{no.isHovering||(no.isHovering=!0,requestAnimationFrame((()=>{t(e),no.isHovering=!1})))},ro=ao((t=>{var e,n;if(!t.target||!(null==(n=null==(e=no.self)?void 0:e.context)?void 0:n.selectedDates[0]))return;if(!t.target.closest('[data-vc="dates"]'))return no.lastDateEl=null,eo(no.self,no.tooltipEl,null),void oo();const i=t.target.closest("[data-vc-date]");if(!i||no.lastDateEl===i)return;no.lastDateEl=i,eo(no.self,no.tooltipEl,i),oo();const o=i.dataset.vcDate,a=ui(no.self.context.selectedDates[0]),r=ui(o),s=no.self.context.mainElement.querySelectorAll(`[data-vc-date="${no.self.context.selectedDates[0]}"]`),l=no.self.context.mainElement.querySelectorAll(`[data-vc-date="${o}"]`),[c,d]=a<r?[s,l]:[l,s],[u,h]=a<r?[a,r]:[r,a];for(let t=new Date(u);t<=h;t.setDate(t.getDate()+1))io(t,c,d)})),so=ao((t=>{const e=t.target.closest("[data-vc-date-selected]");if(!e&&no.lastDateEl)return no.lastDateEl=null,void eo(no.self,no.tooltipEl,null);e&&no.lastDateEl!==e&&(no.lastDateEl=e,eo(no.self,no.tooltipEl,e))})),lo=t=>{no.self&&"Escape"===t.key&&(no.lastDateEl=null,ri(no.self,"selectedDates",[]),no.self.context.mainElement.removeEventListener("mousemove",ro),no.self.context.mainElement.removeEventListener("keydown",lo),eo(no.self,no.tooltipEl,null),oo())},co=()=>{null!==no.timeoutId&&clearTimeout(no.timeoutId),no.timeoutId=setTimeout((()=>{no.lastDateEl=null,eo(no.self,no.tooltipEl,null),oo()}),50)},uo=(t,e)=>{no.self=t,no.lastDateEl=e,oo(),t.disableDatesGaps&&(no.rangeMin=no.rangeMin?no.rangeMin:t.context.displayDateMin,no.rangeMax=no.rangeMax?no.rangeMax:t.context.displayDateMax),t.onCreateDateRangeTooltip&&(no.tooltipEl=t.context.mainElement.querySelector("[data-vc-date-range-tooltip]"));const n=null==e?void 0:e.dataset.vcDate;if(n){const e=1===t.context.selectedDates.length&&t.context.selectedDates[0].includes(n),i=e&&!Qi(t)?[n,n]:e&&Qi(t)?[]:t.context.selectedDates.length>1?[n]:[...t.context.selectedDates,n];ri(t,"selectedDates",i),t.context.selectedDates.length>1&&t.context.selectedDates.sort(((t,e)=>+new Date(t)-+new Date(e)))}({set:()=>(t.disableDatesGaps&&(()=>{var t,e,n,i;if(!(null==(n=null==(e=null==(t=no.self)?void 0:t.context)?void 0:e.selectedDates)?void 0:n[0])||!(null==(i=no.self.context.disableDates)?void 0:i[0]))return;const o=ui(no.self.context.selectedDates[0]),[a,r]=no.self.context.disableDates.map((t=>ui(t))).reduce((([t,e],n)=>[o>=n?n:t,o<n&&null===e?n:e]),[null,null]);a&&ri(no.self,"displayDateMin",hi(new Date(a.setDate(a.getDate()+1)))),r&&ri(no.self,"displayDateMax",hi(new Date(r.setDate(r.getDate()-1)))),no.self.disableDatesPast&&!no.self.disableAllDates&&ui(no.self.context.displayDateMin)<ui(no.self.context.dateToday)&&ri(no.self,"displayDateMin",no.self.context.dateToday)})(),eo(no.self,no.tooltipEl,e),no.self.context.mainElement.removeEventListener("mousemove",so),no.self.context.mainElement.removeEventListener("mouseleave",co),no.self.context.mainElement.removeEventListener("keydown",lo),no.self.context.mainElement.addEventListener("mousemove",ro),no.self.context.mainElement.addEventListener("mouseleave",co),no.self.context.mainElement.addEventListener("keydown",lo),()=>{no.self.context.mainElement.removeEventListener("mousemove",ro),no.self.context.mainElement.removeEventListener("mouseleave",co),no.self.context.mainElement.removeEventListener("keydown",lo)}),reset:()=>{const[n,i]=[t.context.selectedDates[0],t.context.selectedDates[t.context.selectedDates.length-1]],o=t.context.selectedDates[0]!==t.context.selectedDates[t.context.selectedDates.length-1],a=gi([`${n}:${i}`]).filter((e=>!t.context.disableDates.includes(e))),r=o?t.enableEdgeDatesOnly?[n,i]:a:[t.context.selectedDates[0],t.context.selectedDates[0]];if(ri(t,"selectedDates",r),t.disableDatesGaps&&(ri(t,"displayDateMin",no.rangeMin),ri(t,"displayDateMax",no.rangeMax)),no.self.context.mainElement.removeEventListener("mousemove",ro),no.self.context.mainElement.removeEventListener("mouseleave",co),no.self.context.mainElement.removeEventListener("keydown",lo),t.onCreateDateRangeTooltip)return t.context.selectedDates[0]||(no.self.context.mainElement.removeEventListener("mousemove",so),no.self.context.mainElement.removeEventListener("mouseleave",co),eo(no.self,no.tooltipEl,null)),t.context.selectedDates[0]&&(no.self.context.mainElement.addEventListener("mousemove",so),no.self.context.mainElement.addEventListener("mouseleave",co),eo(no.self,no.tooltipEl,e)),()=>{no.self.context.mainElement.removeEventListener("mousemove",so),no.self.context.mainElement.removeEventListener("mouseleave",co)}}})[1===t.context.selectedDates.length?"set":"reset"]()},ho=t=>{t.context.mainElement.querySelectorAll("[data-vc-date]").forEach((e=>{const n=e.querySelector("[data-vc-date-btn]"),i=e.dataset.vcDate,o=ui(i).getDay();fi(t,t.context.selectedYear,e,n,o,i,"current")}))},go=["month","year"],po=(t,e,n)=>{const{currentValue:i,columnID:o}=Oi(t,e);return"month"===t.context.currentType&&o>=0?n-o:"year"===t.context.currentType&&t.context.selectedYear!==i?n-1:n},fo=(t,e)=>{const n={month:t.selectionMonthsMode,year:t.selectionYearsMode};go.forEach((i=>{n[i]&&e.target&&((t,e,n)=>{var i;const o=e.target,a=o.closest(`[data-vc="${n}"]`),r={year:()=>Vi(t,o),month:()=>Li(t,o)};if(a&&t.onClickTitle&&t.onClickTitle(t,e),a&&t.context.currentType!==n)return r[n]();const s=o.closest(`[data-vc-${n}s-${n}]`);if(s)return((t,e,n,i)=>{var o;({year:()=>{if("multiple"===t.type)return((t,e)=>{const n=po(t,"year",Number(e.dataset.vcYearsYear)),i=ui(t.context.dateMin),o=ui(t.context.dateMax),a=t.context.displayMonthsCount-1,{columnID:r}=Oi(t,"year"),s=t.context.selectedMonth<i.getMonth()&&n<=i.getFullYear(),l=t.context.selectedMonth>o.getMonth()-a+r&&n>=o.getFullYear(),c=n<i.getFullYear(),d=n>o.getFullYear(),u=s||c?i.getFullYear():l||d?o.getFullYear():n,h=s||c?i.getMonth():l||d?o.getMonth()-a+r:t.context.selectedMonth;ri(t,"selectedYear",u),ri(t,"selectedMonth",h)})(t,i);ri(t,"selectedYear",Number(i.dataset.vcYearsYear))},month:()=>{if("multiple"===t.type)return((t,e)=>{const n=e.closest('[data-vc-column="month"]').querySelector('[data-vc="year"]'),i=po(t,"month",Number(e.dataset.vcMonthsMonth)),o=Number(n.dataset.vcYear),a=ui(t.context.dateMin),r=ui(t.context.dateMax),s=i<a.getMonth()&&o<=a.getFullYear(),l=i>r.getMonth()&&o>=r.getFullYear();ri(t,"selectedYear",o),ri(t,"selectedMonth",s?a.getMonth():l?r.getMonth():i)})(t,i);ri(t,"selectedMonth",Number(i.dataset.vcMonthsMonth))}})[n](),{year:()=>{var n;return null==(n=t.onClickYear)?void 0:n.call(t,t,e)},month:()=>{var n;return null==(n=t.onClickMonth)?void 0:n.call(t,t,e)}}[n](),t.context.currentType!==t.type?(ri(t,"currentType",t.type),Xi(t),null==(o=t.context.mainElement.querySelector(`[data-vc="${n}"]`))||o.focus()):Ai(t,i,n,!0,!0)})(t,e,n,s);const l=o.closest('[data-vc="grid"]'),c=o.closest('[data-vc="column"]');(t.context.currentType===n&&a||"multiple"===t.type&&t.context.currentType===n&&l&&!c)&&(ri(t,"currentType",t.type),Xi(t),null==(i=t.context.mainElement.querySelector(`[data-vc="${n}"]`))||i.focus())})(t,e,i)}))},mo=t=>{const e=e=>{((t,e)=>{const n=e.target.closest("[data-vc-arrow]");if(n){if(["default","multiple"].includes(t.context.currentType))Ji(t,n.dataset.vcArrow);else if("year"===t.context.currentType&&void 0!==t.context.displayYear){const i={prev:-15,next:15}[n.dataset.vcArrow];ri(t,"displayYear",t.context.displayYear+i),Vi(t,e.target)}t.onClickArrow&&t.onClickArrow(t,e)}})(t,e),((t,e)=>{if(!t.onClickWeekDay)return;const n=e.target.closest("[data-vc-week-day]"),i=e.target.closest('[data-vc="column"]'),o=i?i.querySelectorAll("[data-vc-date-week-day]"):t.context.mainElement.querySelectorAll("[data-vc-date-week-day]");if(!n||!o[0])return;const a=Number(n.dataset.vcWeekDay),r=Array.from(o).filter((t=>Number(t.dataset.vcDateWeekDay)===a));t.onClickWeekDay(t,a,r,e)})(t,e),((t,e)=>{if(!t.enableWeekNumbers||!t.onClickWeekNumber)return;const n=e.target.closest("[data-vc-week-number]"),i=t.context.mainElement.querySelectorAll("[data-vc-date-week-number]");if(!n||!i[0])return;const o=Number(n.innerText),a=Number(n.dataset.vcWeekYear),r=Array.from(i).filter((t=>Number(t.dataset.vcDateWeekNumber)===o));t.onClickWeekNumber(t,o,a,r,e)})(t,e),((t,e)=>{var n;const i=e.target,o=i.closest("[data-vc-date-btn]");if(!t.selectionDatesMode||!["single","multiple","multiple-ranged"].includes(t.selectionDatesMode)||!o)return;const a=o.closest("[data-vc-date]");({single:()=>to(t,a,!1),multiple:()=>to(t,a,!0),"multiple-ranged":()=>uo(t,a)})[t.selectionDatesMode](),null==(n=t.context.selectedDates)||n.sort(((t,e)=>+new Date(t)-+new Date(e))),t.onClickDate&&t.onClickDate(t,e),t.inputMode&&t.context.inputElement&&t.context.mainElement&&t.onChangeToInput&&t.onChangeToInput(t,e);const r=i.closest('[data-vc-date-month="prev"]'),s=i.closest('[data-vc-date-month="next"]');({prev:()=>t.enableMonthChangeOnDayClick?Ji(t,"prev"):ho(t),next:()=>t.enableMonthChangeOnDayClick?Ji(t,"next"):ho(t),current:()=>ho(t)})[r?"prev":s?"next":"current"]()})(t,e),fo(t,e)};return t.context.mainElement.addEventListener("click",e),()=>t.context.mainElement.removeEventListener("click",e)},vo=(t,e)=>"today"===t?(()=>{const t=new Date;return new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString().substring(0,10)})():t instanceof Date||"number"==typeof t||"string"==typeof t?gi([t])[0]:e,yo=(t,e,n)=>{ri(t,"selectedMonth",e),ri(t,"selectedYear",n),ri(t,"displayYear",n)},bo=t=>{ri(t,"currentType",t.type),(t=>{if("multiple"===t.type&&(t.displayMonthsCount<=1||t.displayMonthsCount>12))throw new Error(ai);if("multiple"!==t.type&&t.displayMonthsCount>1)throw new Error(ai);ri(t,"displayMonthsCount",t.displayMonthsCount?t.displayMonthsCount:"multiple"===t.type?2:1)})(t),(t=>{var e,n,i;const o=vo(t.dateMin,t.dateMin),a=vo(t.dateMax,t.dateMax),r=vo(t.displayDateMin,o),s=vo(t.displayDateMax,a);ri(t,"dateToday",vo(t.dateToday,t.dateToday)),ri(t,"displayDateMin",r?ui(o)>=ui(r)?o:r:o),ri(t,"displayDateMax",s?ui(a)<=ui(s)?a:s:a);const l=t.disableDatesPast&&!t.disableAllDates&&ui(r)<ui(t.context.dateToday);ri(t,"displayDateMin",l||t.disableAllDates?t.context.dateToday:r),ri(t,"displayDateMax",t.disableAllDates?t.context.dateToday:s),ri(t,"disableDates",t.disableDates[0]&&!t.disableAllDates?gi(t.disableDates):t.disableAllDates?[t.context.displayDateMin]:[]),t.context.disableDates.length>1&&t.context.disableDates.sort(((t,e)=>+new Date(t)-+new Date(e))),ri(t,"enableDates",t.enableDates[0]?gi(t.enableDates):[]),(null==(e=t.context.enableDates)?void 0:e[0])&&(null==(n=t.context.disableDates)?void 0:n[0])&&ri(t,"disableDates",t.context.disableDates.filter((e=>!t.context.enableDates.includes(e)))),t.context.enableDates.length>1&&t.context.enableDates.sort(((t,e)=>+new Date(t)-+new Date(e))),(null==(i=t.context.enableDates)?void 0:i[0])&&t.disableAllDates&&(ri(t,"displayDateMin",t.context.enableDates[0]),ri(t,"displayDateMax",t.context.enableDates[t.context.enableDates.length-1])),ri(t,"dateMin",t.displayDisabledDates?o:t.context.displayDateMin),ri(t,"dateMax",t.displayDisabledDates?a:t.context.displayDateMax)})(t),(t=>{var e;if(t.enableJumpToSelectedDate&&(null==(e=t.selectedDates)?void 0:e[0])&&void 0===t.selectedMonth&&void 0===t.selectedYear){const e=ui(gi(t.selectedDates)[0]);return void yo(t,e.getMonth(),e.getFullYear())}const n=void 0!==t.selectedMonth&&Number(t.selectedMonth)>=0&&Number(t.selectedMonth)<12,i=void 0!==t.selectedYear&&Number(t.selectedYear)>=0&&Number(t.selectedYear)<=9999;yo(t,n?Number(t.selectedMonth):ui(t.context.dateToday).getMonth(),i?Number(t.selectedYear):ui(t.context.dateToday).getFullYear())})(t),(t=>{var e;ri(t,"selectedDates",(null==(e=t.selectedDates)?void 0:e[0])?gi(t.selectedDates):[])})(t),(t=>{var e,n,i;if(!t.selectionTimeMode)return;if(![12,24].includes(t.selectionTimeMode))throw new Error("The value of the time property can be: false, 12 or 24.");const o=12===t.selectionTimeMode,a=o?/^(0[1-9]|1[0-2]):([0-5][0-9]) ?(AM|PM)?$/i:/^([0-1]?[0-9]|2[0-3]):([0-5][0-9])$/;let[r,s,l]=null!=(i=null==(n=null==(e=t.selectedTime)?void 0:e.match(a))?void 0:n.slice(1))?i:[];r?o&&!l&&(l="AM"):(r=o?ji(String(t.timeMinHour)):String(t.timeMinHour),s=String(t.timeMinMinute),l=o?Number(ji(String(t.timeMinHour)))>=12?"PM":"AM":null),ri(t,"selectedHours",r.padStart(2,"0")),ri(t,"selectedMinutes",s.padStart(2,"0")),ri(t,"selectedKeeping",l),ri(t,"selectedTime",`${t.context.selectedHours}:${t.context.selectedMinutes}${l?` ${l}`:""}`)})(t)},wo=(t,{year:e,month:n,dates:i,time:o,locale:a},r=!0)=>{var s;const l={year:t.selectedYear,month:t.selectedMonth,dates:t.selectedDates,time:t.selectedTime};t.selectedYear=e?l.year:t.context.selectedYear,t.selectedMonth=n?l.month:t.context.selectedMonth,t.selectedTime=o?l.time:t.context.selectedTime,t.selectedDates="only-first"===i&&(null==(s=t.context.selectedDates)?void 0:s[0])?[t.context.selectedDates[0]]:!0===i?l.dates:t.context.selectedDates,a&&ri(t,"locale",{months:{short:[],long:[]},weekdays:{short:[],long:[]}}),bo(t),r&&Xi(t),t.selectedYear=l.year,t.selectedMonth=l.month,t.selectedDates=l.dates,t.selectedTime=l.time,"multiple-ranged"===t.selectionDatesMode&&i&&uo(t,null)},xo=(t,e)=>{if(!t.context.isInit)throw new Error(ii);wo(t,ei(ei({},{year:!0,month:!0,dates:!0,time:!0,locale:!0}),e),!(t.inputMode&&!t.context.inputModeInit)),t.onUpdate&&t.onUpdate(t)},To=(t,e)=>{const n=Object.keys(e);for(let i=0;i<n.length;i++){const o=n[i];"object"!=typeof t[o]||"object"!=typeof e[o]||e[o]instanceof Date||Array.isArray(e[o])?void 0!==e[o]&&(t[o]=e[o]):To(t[o],e[o])}},Eo=(t,e,n)=>{if(!t)return;const i="auto"===n?function(t,e){const n="left";if(!e||!t)return n;const{canShow:i,parentPositions:o}=di(t,e),a=i.left&&i.right;return(a&&i.bottom?"center":a&&i.top?["top","center"]:Array.isArray(o)?["bottom"===o[0]?"top":"bottom",...o.slice(1)]:o)||n}(t,e):n,o={top:-e.offsetHeight,bottom:t.offsetHeight,left:0,center:t.offsetWidth/2-e.offsetWidth/2,right:t.offsetWidth-e.offsetWidth},a=Array.isArray(i)?i[0]:"bottom",r=Array.isArray(i)?i[1]:i;e.dataset.vcPosition=a;const{top:s,left:l}=li(t),c=s+o[a];let d=l+o[r];const{vw:u}=ci();if(d+e.clientWidth>u){const t=window.innerWidth-document.body.clientWidth;d=u-e.clientWidth-t}else d<0&&(d=0);Object.assign(e.style,{left:`${d}px`,top:`${c}px`})},Mo=t=>{if(t.context.isShowInInputMode)return;if(!t.context.currentType)return void t.context.mainElement.click();ri(t,"cleanupHandlers",[]),ri(t,"isShowInInputMode",!0),Eo(t.context.inputElement,t.context.mainElement,t.positionToInput),t.context.mainElement.removeAttribute("data-vc-calendar-hidden");const e=()=>{Eo(t.context.inputElement,t.context.mainElement,t.positionToInput)};window.addEventListener("resize",e),t.context.cleanupHandlers.push((()=>window.removeEventListener("resize",e)));const n=e=>{"Escape"===e.key&&si(t)};document.addEventListener("keydown",n),t.context.cleanupHandlers.push((()=>document.removeEventListener("keydown",n)));const i=e=>{e.target===t.context.inputElement||t.context.mainElement.contains(e.target)||si(t)};document.addEventListener("click",i,{capture:!0}),t.context.cleanupHandlers.push((()=>document.removeEventListener("click",i,{capture:!0}))),t.onShow&&t.onShow(t)},Do={application:"Calendar",navigation:"Calendar Navigation",arrowNext:{month:"Next month",year:"Next list of years"},arrowPrev:{month:"Previous month",year:"Previous list of years"},month:"Select month, current selected month:",months:"List of months",year:"Select year, current selected year:",years:"List of years",week:"Days of the week",weekNumber:"Numbers of weeks in a year",dates:"Dates in the current month",selectingTime:"Selecting a time ",inputHour:"Hours",inputMinute:"Minutes",rangeHour:"Slider for selecting hours",rangeMinute:"Slider for selecting minutes",btnKeeping:"Switch AM/PM, current position:"},So={calendar:"vc",controls:"vc-controls",grid:"vc-grid",column:"vc-column",header:"vc-header",headerContent:"vc-header__content",month:"vc-month",year:"vc-year",arrowPrev:"vc-arrow vc-arrow_prev",arrowNext:"vc-arrow vc-arrow_next",wrapper:"vc-wrapper",content:"vc-content",months:"vc-months",monthsMonth:"vc-months__month",years:"vc-years",yearsYear:"vc-years__year",week:"vc-week",weekDay:"vc-week__day",weekNumbers:"vc-week-numbers",weekNumbersTitle:"vc-week-numbers__title",weekNumbersContent:"vc-week-numbers__content",weekNumber:"vc-week-number",dates:"vc-dates",date:"vc-date",dateBtn:"vc-date__btn",datePopup:"vc-date__popup",dateRangeTooltip:"vc-date-range-tooltip",time:"vc-time",timeContent:"vc-time__content",timeHour:"vc-time__hour",timeMinute:"vc-time__minute",timeKeeping:"vc-time__keeping",timeRanges:"vc-time__ranges",timeRange:"vc-time__range"};class _o{constructor(){ni(this,"type","default"),ni(this,"inputMode",!1),ni(this,"positionToInput","left"),ni(this,"firstWeekday",1),ni(this,"monthsToSwitch",1),ni(this,"themeAttrDetect","html[data-theme]"),ni(this,"locale","en"),ni(this,"dateToday","today"),ni(this,"dateMin","1970-01-01"),ni(this,"dateMax","2470-12-31"),ni(this,"displayDateMin"),ni(this,"displayDateMax"),ni(this,"displayDatesOutside",!0),ni(this,"displayDisabledDates",!1),ni(this,"displayMonthsCount"),ni(this,"disableDates",[]),ni(this,"disableAllDates",!1),ni(this,"disableDatesPast",!1),ni(this,"disableDatesGaps",!1),ni(this,"disableWeekdays",[]),ni(this,"disableToday",!1),ni(this,"enableDates",[]),ni(this,"enableEdgeDatesOnly",!0),ni(this,"enableDateToggle",!0),ni(this,"enableWeekNumbers",!1),ni(this,"enableMonthChangeOnDayClick",!0),ni(this,"enableJumpToSelectedDate",!1),ni(this,"selectionDatesMode","single"),ni(this,"selectionMonthsMode",!0),ni(this,"selectionYearsMode",!0),ni(this,"selectionTimeMode",!1),ni(this,"selectedDates",[]),ni(this,"selectedMonth"),ni(this,"selectedYear"),ni(this,"selectedHolidays",[]),ni(this,"selectedWeekends",[0,6]),ni(this,"selectedTime"),ni(this,"selectedTheme","system"),ni(this,"timeMinHour",0),ni(this,"timeMaxHour",23),ni(this,"timeMinMinute",0),ni(this,"timeMaxMinute",59),ni(this,"timeControls","all"),ni(this,"timeStepHour",1),ni(this,"timeStepMinute",1),ni(this,"sanitizerHTML",(t=>t)),ni(this,"onClickDate"),ni(this,"onClickWeekDay"),ni(this,"onClickWeekNumber"),ni(this,"onClickTitle"),ni(this,"onClickMonth"),ni(this,"onClickYear"),ni(this,"onClickArrow"),ni(this,"onChangeTime"),ni(this,"onChangeToInput"),ni(this,"onCreateDateRangeTooltip"),ni(this,"onCreateDateEls"),ni(this,"onCreateMonthEls"),ni(this,"onCreateYearEls"),ni(this,"onInit"),ni(this,"onUpdate"),ni(this,"onDestroy"),ni(this,"onShow"),ni(this,"onHide"),ni(this,"popups",{}),ni(this,"labels",ei({},Do)),ni(this,"layouts",{default:"",multiple:"",month:"",year:""}),ni(this,"styles",ei({},So))}}const ko=class t extends _o{constructor(e,n){var i;super(),ni(this,"init",(()=>(t=>(ri(t,"originalElement",t.context.mainElement.cloneNode(!0)),ri(t,"isInit",!0),t.inputMode?(t=>{ri(t,"inputElement",t.context.mainElement);const e=()=>{t.context.inputModeInit?queueMicrotask((()=>Mo(t))):(t=>{const e=document.createElement("div");e.className=t.styles.calendar,e.dataset.vc="calendar",e.dataset.vcInput="",e.dataset.vcCalendarHidden="",ri(t,"inputModeInit",!0),ri(t,"isShowInInputMode",!1),ri(t,"mainElement",e),document.body.appendChild(t.context.mainElement),wo(t,{year:!0,month:!0,dates:!0,time:!0,locale:!0}),queueMicrotask((()=>Mo(t))),t.onInit&&t.onInit(t),Zi(t),mo(t)})(t)};return t.context.inputElement.addEventListener("click",e),t.context.inputElement.addEventListener("focus",e),()=>{t.context.inputElement.removeEventListener("click",e),t.context.inputElement.removeEventListener("focus",e)}})(t):(bo(t),Xi(t),t.onInit&&t.onInit(t),Zi(t),mo(t))))(this))),ni(this,"update",(t=>xo(this,t))),ni(this,"destroy",(()=>(t=>{var e,n,i,o,a;if(!t.context.isInit)throw new Error(ii);t.inputMode?(null==(e=t.context.mainElement.parentElement)||e.removeChild(t.context.mainElement),null==(i=null==(n=t.context.inputElement)?void 0:n.replaceWith)||i.call(n,t.context.originalElement),ri(t,"inputElement",void 0)):null==(a=(o=t.context.mainElement).replaceWith)||a.call(o,t.context.originalElement),ri(t,"mainElement",t.context.originalElement),t.onDestroy&&t.onDestroy(t)})(this))),ni(this,"show",(()=>Mo(this))),ni(this,"hide",(()=>si(this))),ni(this,"set",((t,e)=>((t,e,n)=>{To(t,e),t.context.isInit&&xo(t,n)})(this,t,e))),ni(this,"context"),this.context=(t=>Gn(t,Xn({locale:{months:{short:[],long:[]},weekdays:{short:[],long:[]}}})))(ei({},this.context)),ri(this,"mainElement","string"==typeof e?null!=(i=t.memoizedElements.get(e))?i:this.queryAndMemoize(e):e),n&&To(this,n)}queryAndMemoize(e){const n=document.querySelector(e);if(!n)throw new Error((t=>`${t} is not found, check the first argument passed to new Calendar.`)(e));return t.memoizedElements.set(e,n),n}};ni(ko,"memoizedElements",new Map);let Ao=ko;function Oo(t){var e=Array.from(t.querySelectorAll("[data-tabs-btn]")),n=Array.from(t.querySelectorAll("[data-tabs-item]"));if(e.length&&n.length&&e.length===n.length){var i=e.findIndex((function(t){return t.classList.contains("is-active")})),o=i>-1?i:0,a=function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.forEach((function(t){return t.classList.remove("is-active")})),n.forEach((function(t){return t.classList.remove("is-active")})),e[t].classList.add("is-active"),n[t].classList.add("is-active");var o=n[t].id;i&&o&&history.pushState(null,"","#".concat(o))},r=function(t){if(!t)return!1;var e=t.replace(/^#/,""),i=n.findIndex((function(t){return t.id===e}));return i>-1&&(a(i,!1),!0)};r(window.location.hash)||a(o,!1),e.forEach((function(t,e){t.addEventListener("click",(function(){return a(e,!0)}))})),window.addEventListener("popstate",(function(){return r(window.location.hash)})),window.addEventListener("hashchange",(function(){return r(window.location.hash)}))}else console.warn("Tabs: mismatch between buttons and items",t)}var Co="&#8203;";function Lo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Io(t){return function(t){if(Array.isArray(t))return Lo(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Lo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lo(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var No={isEnabled:function(){var t;return null===(t=window.TAGIFY_DEBUG)||void 0===t||t},log:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i;this.isEnabled()&&(i=console).log.apply(i,["[Tagify]:"].concat(Io(e)))},warn:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i;this.isEnabled()&&(i=console).warn.apply(i,["[Tagify]:"].concat(Io(e)))}},Po=function(t,e,n,i){return t=""+t,e=""+e,i&&(t=t.trim(),e=e.trim()),n?t==e:t.toLowerCase()==e.toLowerCase()},qo=function(t,e){return t&&Array.isArray(t)&&t.map((function(t){return jo(t,e)}))};function jo(t,e){var n,i={};for(n in t)e.indexOf(n)<0&&(i[n]=t[n]);return i}function Fo(t){return(new DOMParser).parseFromString(t.trim(),"text/html").body.firstElementChild}function Ho(t,e){for(e=e||"previous";t=t[e+"Sibling"];)if(3==t.nodeType)return t}function $o(t){return"string"==typeof t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/`|'/g,"&#039;"):t}function Yo(t){var e=Object.prototype.toString.call(t).split(" ")[1].slice(0,-1);return t===Object(t)&&"Array"!=e&&"Function"!=e&&"RegExp"!=e&&"HTMLUnknownElement"!=e}function Wo(t,e,n){var i,o;function a(t,e){for(var n in e)if(e.hasOwnProperty(n)){if(Yo(e[n])){Yo(t[n])?a(t[n],e[n]):t[n]=Object.assign({},e[n]);continue}if(Array.isArray(e[n])){t[n]=Object.assign([],e[n]);continue}t[n]=e[n]}}return i=t,(null!=(o=Object)&&"undefined"!=typeof Symbol&&o[Symbol.hasInstance]?o[Symbol.hasInstance](i):i instanceof o)||(t={}),a(t,e),n&&a(t,n),t}function Ro(){var t=[],e={},n=!0,i=!1,o=void 0;try{for(var a,r=arguments[Symbol.iterator]();!(n=(a=r.next()).done);n=!0){var s=a.value,l=!0,c=!1,d=void 0;try{for(var u,h=s[Symbol.iterator]();!(l=(u=h.next()).done);l=!0){var g=u.value;Yo(g)?e[g.value]||(t.push(g),e[g.value]=1):t.includes(g)||t.push(g)}}catch(t){c=!0,d=t}finally{try{l||null==h.return||h.return()}finally{if(c)throw d}}}}catch(t){i=!0,o=t}finally{try{n||null==r.return||r.return()}finally{if(i)throw o}}return t}function Bo(t){return String.prototype.normalize?"string"==typeof t?t.normalize("NFD").replace(/[\u0300-\u036f]/g,""):void 0:t}var Vo=function(){return/(?=.*chrome)(?=.*android)/i.test(navigator.userAgent)};function zo(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(t){return(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)}))}function Ko(t){var e,n=Go.call(this,t),i=null==t||null===(e=t.classList)||void 0===e?void 0:e.contains(this.settings.classNames.tag);return n&&i}function Uo(t){return Go.call(this,t)&&(null==t?void 0:t.closest(this.settings.classNames.tagSelector))}function Go(t){var e;return(null==t||null===(e=t.closest)||void 0===e?void 0:e.call(t,this.settings.classNames.namespaceSelector))===this.DOM.scope}function Xo(t,e){var n=window.getSelection();return e=e||n.getRangeAt(0),"string"==typeof t&&(t=document.createTextNode(t)),e&&(e.deleteContents(),e.insertNode(t)),t}function Zo(t,e,n){return t?(e&&(t.__tagifyTagData=n?e:Wo({},t.__tagifyTagData||{},e)),t.__tagifyTagData):(No.warn("tag element doesn't exist",{tagElm:t,data:e}),e)}function Jo(t){if(t&&t.parentNode){var e=t,n=window.getSelection(),i=n.getRangeAt(0);n.rangeCount&&(i.setStartAfter(e),i.collapse(!0),n.removeAllRanges(),n.addRange(i))}}function Qo(t,e){t.forEach((function(t){if(Zo(t.previousSibling)||!t.previousSibling){var n=document.createTextNode("​");t.before(n),e&&Jo(n)}}))}var ta={delimiters:",",pattern:null,tagTextProp:"value",maxTags:1/0,callbacks:{},addTagOnBlur:!0,addTagOn:["blur","tab","enter"],onChangeAfterBlur:!0,duplicates:!1,whitelist:[],blacklist:[],enforceWhitelist:!1,userInput:!0,focusable:!0,focusInputOnRemove:!0,keepInvalidTags:!1,createInvalidTags:!0,mixTagsAllowedAfter:/,|\.|\:|\s/,mixTagsInterpolator:["[[","]]"],backspace:!0,skipInvalid:!1,pasteAsTags:!0,editTags:{clicks:2,keepInvalid:!0},transformTag:function(){},trim:!0,a11y:{focusableTags:!1},mixMode:{insertAfterTag:" "},autoComplete:{enabled:!0,rightKey:!1,tabKey:!1},classNames:{namespace:"tagify",mixMode:"tagify--mix",selectMode:"tagify--select",input:"tagify__input",focus:"tagify--focus",tagNoAnimation:"tagify--noAnim",tagInvalid:"tagify--invalid",tagNotAllowed:"tagify--notAllowed",scopeLoading:"tagify--loading",hasMaxTags:"tagify--hasMaxTags",hasNoTags:"tagify--noTags",empty:"tagify--empty",inputInvalid:"tagify__input--invalid",dropdown:"tagify__dropdown",dropdownWrapper:"tagify__dropdown__wrapper",dropdownHeader:"tagify__dropdown__header",dropdownFooter:"tagify__dropdown__footer",dropdownItem:"tagify__dropdown__item",dropdownItemActive:"tagify__dropdown__item--active",dropdownItemHidden:"tagify__dropdown__item--hidden",dropdownItemSelected:"tagify__dropdown__item--selected",dropdownInital:"tagify__dropdown--initial",tag:"tagify__tag",tagText:"tagify__tag-text",tagX:"tagify__tag__removeBtn",tagLoading:"tagify__tag--loading",tagEditing:"tagify__tag--editable",tagFlash:"tagify__tag--flash",tagHide:"tagify__tag--hide"},dropdown:{classname:"",enabled:2,maxItems:10,searchKeys:["value","searchBy"],fuzzySearch:!0,caseSensitive:!1,accentedSearch:!0,includeSelectedTags:!1,escapeHTML:!0,highlightFirst:!0,closeOnSelect:!0,clearOnSelect:!0,position:"all",appendTarget:null},hooks:{beforeRemoveTag:function(){return Promise.resolve()},beforePaste:function(){return Promise.resolve()},suggestionClick:function(){return Promise.resolve()},beforeKeyDown:function(){return Promise.resolve()}}};function ea(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function na(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),i.forEach((function(e){ea(t,e,n[e])}))}return t}function ia(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e.push.apply(e,n)}return e}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t}function oa(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function aa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ra(){for(var t in this.dropdown={},this._dropdown)this.dropdown[t]="function"==typeof this._dropdown[t]?this._dropdown[t].bind(this):this._dropdown[t];this.dropdown.refs(),this.DOM.dropdown.__tagify=this}var sa,la,ca=(sa=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),i.forEach((function(e){aa(t,e,n[e])}))}return t}({},{events:{binding:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.dropdown.events.callbacks,n=this.listeners.dropdown=this.listeners.dropdown||{position:this.dropdown.position.bind(this,null),onKeyDown:e.onKeyDown.bind(this),onMouseOver:e.onMouseOver.bind(this),onMouseLeave:e.onMouseLeave.bind(this),onClick:e.onClick.bind(this),onScroll:e.onScroll.bind(this)},i=t?"addEventListener":"removeEventListener";"manual"!=this.settings.dropdown.position&&(document[i]("scroll",n.position,!0),window[i]("resize",n.position),window[i]("keydown",n.onKeyDown)),this.DOM.dropdown[i]("mouseover",n.onMouseOver),this.DOM.dropdown[i]("mouseleave",n.onMouseLeave),this.DOM.dropdown[i]("mousedown",n.onClick),this.DOM.dropdown.content[i]("scroll",n.onScroll)},callbacks:{onKeyDown:function(t){var e=this;if(this.state.hasFocus&&!this.state.composing){var n=this.settings,i=n.dropdown.includeSelectedTags,o=this.DOM.dropdown.querySelector(n.classNames.dropdownItemActiveSelector),a=this.dropdown.getSuggestionDataByNode(o),r="mix"==n.mode,s="select"==n.mode;n.hooks.beforeKeyDown(t,{tagify:this}).then((function(l){switch(t.key){case"ArrowDown":case"ArrowUp":case"Down":case"Up":t.preventDefault();var c=e.dropdown.getAllSuggestionsRefs(),d="ArrowUp"==t.key||"Up"==t.key;o&&(o=e.dropdown.getNextOrPrevOption(o,!d)),o&&o.matches(n.classNames.dropdownItemSelector)||(o=c[d?c.length-1:0]),e.dropdown.highlightOption(o,!0);break;case"PageUp":case"PageDown":var u;t.preventDefault();var h=e.dropdown.getAllSuggestionsRefs(),g=Math.floor(e.DOM.dropdown.content.clientHeight/(null===(u=h[0])||void 0===u?void 0:u.offsetHeight))||1,p="PageUp"===t.key;if(o){var f=h.indexOf(o),m=p?Math.max(0,f-g):Math.min(h.length-1,f+g);o=h[m]}else o=h[0];e.dropdown.highlightOption(o,!0);break;case"Home":case"End":t.preventDefault();var v=e.dropdown.getAllSuggestionsRefs();o=v["Home"===t.key?0:v.length-1],e.dropdown.highlightOption(o,!0);break;case"Escape":case"Esc":e.dropdown.hide();break;case"ArrowRight":if(e.state.actions.ArrowLeft||n.autoComplete.rightKey)return;case"Tab":var y=!n.autoComplete.rightKey||!n.autoComplete.tabKey;if(!r&&!s&&o&&y&&!e.state.editing&&a){t.preventDefault();var b=e.dropdown.getMappedValue(a);return e.state.autoCompleteData=a,e.input.autocomplete.set.call(e,b),!1}return!0;case"Enter":t.preventDefault(),e.state.actions.selectOption=!0,setTimeout((function(){return e.state.actions.selectOption=!1}),100),n.hooks.suggestionClick(t,{tagify:e,tagData:a,suggestionElm:o}).then((function(){if(o){var n=i?o:e.dropdown.getNextOrPrevOption(o,!d);e.dropdown.selectOption(o,t,(function(){if(n){var t=n.getAttribute("value");n=e.dropdown.getSuggestionNodeByValue(t),e.dropdown.highlightOption(n)}}))}else e.dropdown.hide(),r||e.addTags(e.state.inputText.trim(),!0)})).catch((function(t){return No.warn(t)}));break;case"Backspace":if(r||e.state.editing.scope)return;var w=e.input.raw.call(e);""!=w&&8203!=w.charCodeAt(0)||(!0===n.backspace?e.removeTags():"edit"==n.backspace&&setTimeout(e.editTag.bind(e),0))}}))}},onMouseOver:function(t){var e=t.target.closest(this.settings.classNames.dropdownItemSelector);this.dropdown.highlightOption(e)},onMouseLeave:function(t){this.dropdown.highlightOption()},onClick:function(t){var e=this;if(0==t.button&&t.target!=this.DOM.dropdown&&t.target!=this.DOM.dropdown.content){var n=t.target.closest(this.settings.classNames.dropdownItemSelector),i=this.dropdown.getSuggestionDataByNode(n);this.state.actions.selectOption=!0,setTimeout((function(){return e.state.actions.selectOption=!1}),100),this.settings.hooks.suggestionClick(t,{tagify:this,tagData:i,suggestionElm:n}).then((function(){n?e.dropdown.selectOption(n,t):e.dropdown.hide()})).catch((function(t){return No.warn(t)}))}},onScroll:function(t){var e=t.target,n=e.scrollTop/(e.scrollHeight-e.parentNode.clientHeight)*100;this.trigger("dropdown:scroll",{percentage:Math.round(n)})}}},refilter:function(t){t=t||this.state.dropdown.query||"",this.suggestedListItems=this.dropdown.filterListItems(t),this.dropdown.fill(),this.suggestedListItems.length||this.dropdown.hide(),this.trigger("dropdown:updated",this.DOM.dropdown)},getSuggestionDataByNode:function(t){for(var e,n=t&&t.getAttribute("value"),i=this.suggestedListItems.length;i--;){if(Yo(e=this.suggestedListItems[i])&&e.value==n)return e;if(e==n)return{value:e}}},getSuggestionNodeByValue:function(t){return this.dropdown.getAllSuggestionsRefs().find((function(e){return e.getAttribute("value")===t}))},getNextOrPrevOption:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.dropdown.getAllSuggestionsRefs(),i=n.findIndex((function(e){return e===t}));return e?n[i+1]:n[i-1]},highlightOption:function(t,e){var n,i=this.settings.classNames.dropdownItemActive;if(this.state.ddItemElm&&(this.state.ddItemElm.classList.remove(i),this.state.ddItemElm.removeAttribute("aria-selected")),!t)return this.state.ddItemData=null,this.state.ddItemElm=null,void this.input.autocomplete.suggest.call(this);n=this.dropdown.getSuggestionDataByNode(t),this.state.ddItemData=n,this.state.ddItemElm=t,t.classList.add(i),t.setAttribute("aria-selected",!0),e&&(t.parentNode.scrollTop=t.clientHeight+t.offsetTop-t.parentNode.clientHeight),this.settings.autoComplete&&(this.input.autocomplete.suggest.call(this,n),this.dropdown.position())},selectOption:function(t,e,n){var i=this,o=this.settings,a=o.dropdown.includeSelectedTags,r=o.dropdown,s=r.clearOnSelect,l=r.closeOnSelect;if(!t)return this.addTags(this.state.inputText,!0),void(l&&this.dropdown.hide());e=e||{};var c=t.getAttribute("value"),d="noMatch"==c,u="mix"==o.mode,h=this.suggestedListItems.find((function(t){var e;return(null!==(e=t.value)&&void 0!==e?e:t)==c}));if(this.trigger("dropdown:select",{data:h,elm:t,event:e}),h||d){if(this.state.editing){var g=this.normalizeTags([h])[0];h=o.transformTag.call(this,g)||g,this.onEditTagDone(null,Wo({__isValid:!0},h))}else this[u?"addMixTags":"addTags"]([h||this.input.raw.call(this)],s);(u||this.DOM.input.parentNode)&&(setTimeout((function(){i.DOM.input.focus(),i.toggleFocusClass(!0)})),l&&setTimeout(this.dropdown.hide.bind(this)),a?n&&n():(t.addEventListener("transitionend",(function(){i.dropdown.fillHeaderFooter(),setTimeout((function(){t.remove(),i.dropdown.refilter(),n&&n()}),100)}),{once:!0}),t.classList.add(this.settings.classNames.dropdownItemHidden)))}else l&&setTimeout(this.dropdown.hide.bind(this))},selectAll:function(t){this.suggestedListItems.length=0,this.dropdown.hide(),this.dropdown.filterListItems("");var e=this.dropdown.filterListItems("");return t||(e=this.state.dropdown.suggestions),this.addTags(e,!0),this},filterListItems:function(t,e){var n,i,o,a,r,s,l=function(){var t,l,c=void 0,d=void 0;t=p[b],i=(null!=(l=Object)&&"undefined"!=typeof Symbol&&l[Symbol.hasInstance]?l[Symbol.hasInstance](t):t instanceof l)?p[b]:{value:p[b]};var f,m=Object.keys(i).some((function(t){return y.includes(t)}))?y:["value"];u.fuzzySearch&&!e.exact?(a=m.reduce((function(t,e){return t+" "+(i[e]||"")}),"").toLowerCase().trim(),u.accentedSearch&&(a=Bo(a),s=Bo(s)),c=0==a.indexOf(s),d=a===s,f=a,o=s.toLowerCase().split(" ").every((function(t){return f.includes(t.toLowerCase())}))):(c=!0,o=m.some((function(t){var n=""+(i[t]||"");return u.accentedSearch&&(n=Bo(n),s=Bo(s)),u.caseSensitive||(n=n.toLowerCase()),d=n===s,e.exact?n===s:0==n.indexOf(s)}))),r=!u.includeSelectedTags&&n.isTagDuplicate(Yo(i)?i.value:i),o&&!r&&(d&&c?g.push(i):"startsWith"==u.sortby&&c?h.unshift(i):h.push(i))},c=this,d=this.settings,u=d.dropdown,h=(e=e||{},[]),g=[],p=d.whitelist,f=u.maxItems>=0?u.maxItems:1/0,m=u.includeSelectedTags,v="function"==typeof u.sortby,y=u.searchKeys,b=0;if(!(t="select"==d.mode&&this.value.length&&this.value[0][d.tagTextProp]==t?"":t)||!y.length){h=m?p:p.filter((function(t){return!c.isTagDuplicate(Yo(t)?t.value:t)}));var w=v?u.sortby(h,s):h.slice(0,f);return this.state.dropdown.suggestions=w,w}for(s=u.caseSensitive?""+t:(""+t).toLowerCase();b<p.length;b++)n=this,l();return this.state.dropdown.suggestions=g.concat(h),w=v?u.sortby(g.concat(h),s):g.concat(h).slice(0,f),this.state.dropdown.suggestions=w,w},getMappedValue:function(t){var e=this.settings.dropdown.mapValueTo;return e?"function"==typeof e?e(t):t[e]||t.value:t.value},createListHTML:function(t){var e=this;return Wo([],t).map((function(t,n){"string"!=typeof t&&"number"!=typeof t||(t={value:t});var i=e.dropdown.getMappedValue(t);return i="string"==typeof i&&e.settings.dropdown.escapeHTML?$o(i):i,e.settings.templates.dropdownItem.apply(e,[ia(na({},t),{mappedValue:i}),e])})).join("")}}),la=null!=(la={refs:function(){this.DOM.dropdown=this.parseTemplate("dropdown",[this.settings]),this.DOM.dropdown.content=this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-wrapper']")},getHeaderRef:function(){return this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-header']")},getFooterRef:function(){return this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-footer']")},getAllSuggestionsRefs:function(){return function(t){return function(t){if(Array.isArray(t))return oa(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return oa(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oa(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.DOM.dropdown.content.querySelectorAll(this.settings.classNames.dropdownItemSelector))},show:function(t){var e,n,i,o=this,a=this.settings,r="mix"==a.mode&&!a.enforceWhitelist,s=!a.whitelist||!a.whitelist.length,l="manual"==a.dropdown.position;if(t=void 0===t?this.state.inputText:t,!(s&&!r&&!a.templates.dropdownItemNoMatch||!1===a.dropdown.enabled||this.state.isLoading||this.settings.readonly)){if(clearTimeout(this.dropdownHide__bindEventsTimeout),this.suggestedListItems=this.dropdown.filterListItems(t),t&&!this.suggestedListItems.length&&(this.trigger("dropdown:noMatch",t),a.templates.dropdownItemNoMatch&&(i=a.templates.dropdownItemNoMatch.call(this,{value:t}))),!i){if(this.suggestedListItems.length)t&&r&&!this.state.editing.scope&&!Po(this.suggestedListItems[0].value,t)&&this.suggestedListItems.unshift({value:t});else{if(!t||!r||this.state.editing.scope)return this.input.autocomplete.suggest.call(this),void this.dropdown.hide();this.suggestedListItems=[{value:t}]}n=""+(Yo(e=this.suggestedListItems[0])?e.value:e),a.autoComplete&&n&&0==n.indexOf(t)&&this.input.autocomplete.suggest.call(this,e)}this.dropdown.fill(i),a.dropdown.highlightFirst&&this.dropdown.highlightOption(this.DOM.dropdown.content.querySelector(a.classNames.dropdownItemSelector)),this.state.dropdown.visible||setTimeout(this.dropdown.events.binding.bind(this)),this.state.dropdown.visible=t||!0,this.state.dropdown.query=t,this.setStateSelection(),l||setTimeout((function(){o.dropdown.position(),o.dropdown.render()})),setTimeout((function(){o.trigger("dropdown:show",o.DOM.dropdown)}))}},hide:function(t){var e=this,n=this.DOM,i=n.scope,o=n.dropdown,a="manual"==this.settings.dropdown.position&&!t;if(o&&document.body.contains(o)&&!a)return window.removeEventListener("resize",this.dropdown.position),this.dropdown.events.binding.call(this,!1),i.setAttribute("aria-expanded",!1),o.parentNode.removeChild(o),setTimeout((function(){e.state.dropdown.visible=!1}),100),this.state.dropdown.query=this.state.ddItemData=this.state.ddItemElm=this.state.selection=null,this.state.tag&&this.state.tag.value.length&&(this.state.flaggedTags[this.state.tag.baseOffset]=this.state.tag),this.trigger("dropdown:hide",o),this},toggle:function(t){this.dropdown[this.state.dropdown.visible&&!t?"hide":"show"]()},getAppendTarget:function(){var t=this.settings.dropdown;return"function"==typeof t.appendTarget?t.appendTarget():t.appendTarget},render:function(){var t,e,n=this,i=((e=this.DOM.dropdown.cloneNode(!0)).style.cssText="position:fixed; top:-9999px; opacity:0",document.body.appendChild(e),t=e.clientHeight,e.parentNode.removeChild(e),t),o=this.settings,a=this.dropdown.getAppendTarget();return!1===o.dropdown.enabled||(this.DOM.scope.setAttribute("aria-expanded",!0),document.body.contains(this.DOM.dropdown)||(this.DOM.dropdown.classList.add(o.classNames.dropdownInital),this.dropdown.position(i),a.appendChild(this.DOM.dropdown),setTimeout((function(){return n.DOM.dropdown.classList.remove(o.classNames.dropdownInital)})))),this},fill:function(t){t="string"==typeof t?t:this.dropdown.createListHTML(t||this.suggestedListItems);var e,n=this.settings.templates.dropdownContent.call(this,t);this.DOM.dropdown.content.innerHTML=(e=n)?e.replace(/\>[\r\n ]+\</g,"><").split(/>\s+</).join("><").trim():""},fillHeaderFooter:function(){var t=this.dropdown.filterListItems(this.state.dropdown.query),e=this.parseTemplate("dropdownHeader",[t]),n=this.parseTemplate("dropdownFooter",[t]),i=this.dropdown.getHeaderRef(),o=this.dropdown.getFooterRef();e&&(null==i||i.parentNode.replaceChild(e,i)),n&&(null==o||o.parentNode.replaceChild(n,o))},position:function(t){var e=this.settings.dropdown,n=this.dropdown.getAppendTarget();if("manual"!=e.position&&n){var i,o,a,r,s,l,c,d,u,h,g=this.DOM.dropdown,p=e.RTL,f=n===document.body,m=n===this.DOM.scope,v=f?window.pageYOffset:n.scrollTop,y=document.fullscreenElement||document.webkitFullscreenElement||document.documentElement,b=y.clientHeight,w=Math.max(y.clientWidth||0,window.innerWidth||0),x=w>480?e.position:"all",T=this.DOM["input"==x?"input":"scope"];if(t=t||g.clientHeight,this.state.dropdown.visible){if("text"==x?(a=(i=function(){var t=document.getSelection();if(t.rangeCount){var e,n,i=t.getRangeAt(0),o=i.startContainer,a=i.startOffset;if(a>0)return(n=document.createRange()).setStart(o,a-1),n.setEnd(o,a),{left:(e=n.getBoundingClientRect()).right,top:e.top,bottom:e.bottom};if(o.getBoundingClientRect)return o.getBoundingClientRect()}return{left:-9999,top:-9999}}()).bottom,o=i.top,r=i.left,s="auto"):(l=function(t){var e=0,n=0;for(t=t.parentNode;t&&t!=y;)e+=t.offsetTop||0,n+=t.offsetLeft||0,t=t.parentNode;return{top:e,left:n}}(n),i=T.getBoundingClientRect(),o=m?-1:i.top-l.top,a=(m?i.height:i.bottom-l.top)-1,r=m?-1:i.left-l.left,s=i.width+"px"),!f){var E=function(){for(var t=0,n=e.appendTarget.parentNode;n;)t+=n.scrollTop||0,n=n.parentNode;return t}();o+=E,a+=E}var M;o=Math.floor(o),a=Math.ceil(a),d=w-r<120,u=((c=null!==(M=e.placeAbove)&&void 0!==M?M:b-i.bottom<t)?o:a)+v,h=r+(p&&i.width||0)+window.pageXOffset,h="text"==x&&d?"right: 0;":"left: ".concat(h,"px;"),g.style.cssText="".concat(h," top: ").concat(u,"px; min-width: ").concat(s,"; max-width: ").concat(s),g.setAttribute("placement",c?"top":"bottom"),g.setAttribute("position",x)}}}})?la:{},Object.getOwnPropertyDescriptors?Object.defineProperties(sa,Object.getOwnPropertyDescriptors(la)):function(t){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e.push.apply(e,n)}return e}(Object(la)).forEach((function(t){Object.defineProperty(sa,t,Object.getOwnPropertyDescriptor(la,t))})),sa),da="@yaireo/tagify/",ua={empty:"empty",exceed:"number of tags exceeded",pattern:"pattern mismatch",duplicate:"already exists",notAllowed:"not allowed"},ha={wrapper:function(t,e){return'<tags class="'.concat(e.classNames.namespace," ").concat(e.mode?"".concat(e.classNames[e.mode+"Mode"]):""," ").concat(t.className,'"\n                    ').concat(e.readonly?"readonly":"","\n                    ").concat(e.disabled?"disabled":"","\n                    ").concat(e.required?"required":"","\n                    ").concat("select"===e.mode?"spellcheck='false'":"",'\n                    tabIndex="-1">\n                    ').concat(this.settings.templates.input.call(this),"\n                ").concat(Co,"\n        </tags>")},input:function(){var t=this.settings,e=t.placeholder||Co;return"<span ".concat(!t.readonly&&t.userInput?"contenteditable":"",' data-can-editable tabIndex="0" data-placeholder="').concat(e,'" aria-placeholder="').concat(t.placeholder||"",'"\n                    class="').concat(t.classNames.input,'"\n                    role="textbox"\n                    autocapitalize="false"\n                    autocorrect="off"\n                    aria-autocomplete="both"\n                    aria-multiline="').concat("mix"==t.mode,'"></span>')},tag:function(t,e){var n=e.settings;return'<tag title="'.concat(t.title||t.value,"\"\n                    contenteditable='false'\n                    tabIndex=\"").concat(n.a11y.focusableTags?0:-1,'"\n                    class="').concat(n.classNames.tag," ").concat(t.class||"",'"\n                    ').concat(this.getAttributes(t),">\n            <x title='' tabIndex=\"").concat(n.a11y.focusableTags?0:-1,'" class="').concat(n.classNames.tagX,"\" role='button' aria-label='remove tag'></x>\n            <div>\n                <span ").concat("select"===n.mode&&n.userInput?"contenteditable='true'":"",' autocapitalize="false" autocorrect="off" spellcheck=\'false\' class="').concat(n.classNames.tagText,'">').concat(t[n.tagTextProp]||t.value,"</span>\n            </div>\n        </tag>")},dropdown:function(t){var e=t.dropdown,n="manual"==e.position;return'<div class="'.concat(n?"":t.classNames.dropdown," ").concat(e.classname,'" role="listbox" aria-labelledby="dropdown" dir="').concat(e.RTL?"rtl":"","\">\n                    <div data-selector='tagify-suggestions-wrapper' class=\"").concat(t.classNames.dropdownWrapper,'"></div>\n                </div>')},dropdownContent:function(t){var e=this.settings.templates,n=this.state.dropdown.suggestions;return"\n            ".concat(e.dropdownHeader.call(this,n),"\n            ").concat(t,"\n            ").concat(e.dropdownFooter.call(this,n),"\n        ")},dropdownItem:function(t){return"<div ".concat(this.getAttributes(t),"\n                    class='").concat(this.settings.classNames.dropdownItem," ").concat(this.isTagDuplicate(t.value)?this.settings.classNames.dropdownItemSelected:""," ").concat(t.class||"",'\'\n                    tabindex="0"\n                    role="option">').concat(t.mappedValue||t.value,"</div>")},dropdownHeader:function(t){return"<header data-selector='tagify-suggestions-header' class=\"".concat(this.settings.classNames.dropdownHeader,'"></header>')},dropdownFooter:function(t){var e=t.length-this.settings.dropdown.maxItems;return e>0?"<footer data-selector='tagify-suggestions-footer' class=\"".concat(this.settings.classNames.dropdownFooter,'">\n                ').concat(e," more items. Refine your search.\n            </footer>"):""},dropdownItemNoMatch:null};function ga(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function pa(t,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):t instanceof e}function fa(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function ma(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function va(t,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):t instanceof e}function ya(t){return function(t){if(Array.isArray(t))return fa(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return fa(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fa(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ba={customBinding:function(){var t=this;this.customEventsList.forEach((function(e){t.on(e,t.settings.callbacks[e])}))},binding:function(){var t,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.settings,i=this.events.callbacks,o=e?"addEventListener":"removeEventListener";if(!(this.state.mainEvents&&e||n.disabled||n.readonly)){for(var a in this.state.mainEvents=e,e&&!this.listeners.main&&(this.events.bindGlobal.call(this),this.settings.isJQueryPlugin&&jQuery(this.DOM.originalInput).on("tagify.removeAllTags",this.removeAllTags.bind(this))),t=this.listeners.main=this.listeners.main||{keydown:["input",i.onKeydown.bind(this)],click:["scope",i.onClickScope.bind(this)],dblclick:"select"!=n.mode&&["scope",i.onDoubleClickScope.bind(this)],paste:["input",i.onPaste.bind(this)],drop:["input",i.onDrop.bind(this)],compositionstart:["input",i.onCompositionStart.bind(this)],compositionend:["input",i.onCompositionEnd.bind(this)]})t[a]&&this.DOM[t[a][0]][o](a,t[a][1]);var r=this.listeners.main.inputMutationObserver||new MutationObserver(i.onInputDOMChange.bind(this));r.disconnect(),"mix"==n.mode&&r.observe(this.DOM.input,{childList:!0}),this.events.bindOriginaInputListener.call(this)}},bindOriginaInputListener:function(t){var e=(t||0)+500;this.listeners.main&&(clearInterval(this.listeners.main.originalInputValueObserverInterval),this.listeners.main.originalInputValueObserverInterval=setInterval(this.events.callbacks.observeOriginalInputValue.bind(this),e))},bindGlobal:function(t){var e,n=this.events.callbacks,i=t?"removeEventListener":"addEventListener";if(this.listeners&&(t||!this.listeners.global)){this.listeners.global=this.listeners.global||[{type:this.isIE?"keydown":"input",target:this.DOM.input,cb:n[this.isIE?"onInputIE":"onInput"].bind(this)},{type:"keydown",target:window,cb:n.onWindowKeyDown.bind(this)},{type:"focusin",target:this.DOM.scope,cb:n.onFocusBlur.bind(this)},{type:"focusout",target:this.DOM.scope,cb:n.onFocusBlur.bind(this)},{type:"click",target:document,cb:n.onClickAnywhere.bind(this),useCapture:!0}];var o=!0,a=!1,r=void 0;try{for(var s,l=this.listeners.global[Symbol.iterator]();!(o=(s=l.next()).done);o=!0)(e=s.value).target[i](e.type,e.cb,!!e.useCapture)}catch(t){a=!0,r=t}finally{try{o||null==l.return||l.return()}finally{if(a)throw r}}}},unbindGlobal:function(){this.events.bindGlobal.call(this,!0)},callbacks:{onFocusBlur:function(t){var e,n,i=this.settings,o=Uo.call(this,t.relatedTarget),a=Ko.call(this,t.target),r=t.target.classList.contains(i.classNames.tagX),s="focusin"==t.type,l="focusout"==t.type;r&&"mix"!=i.mode&&i.focusInputOnRemove&&this.DOM.input.focus(),o&&s&&!a&&!r&&this.toggleFocusClass(this.state.hasFocus=+new Date);var c=t.target?this.trim(this.DOM.input.textContent):"",d=null===(n=this.value)||void 0===n||null===(e=n[0])||void 0===e?void 0:e[i.tagTextProp],u=i.dropdown.enabled>=0,h={relatedTarget:t.relatedTarget},g=this.state.actions.selectOption&&(u||!i.dropdown.closeOnSelect),p=this.state.actions.addNew&&u;if(l){if(t.relatedTarget===this.DOM.scope)return this.dropdown.hide(),void this.DOM.input.focus();this.postUpdate(),i.onChangeAfterBlur&&this.triggerChangeEvent()}if(!(g||p||r))if(this.state.hasFocus=!(!s&&!o)&&+new Date,this.toggleFocusClass(this.state.hasFocus),"mix"!=i.mode){if(s){if(!i.focusable)return;var f=0===i.dropdown.enabled&&!this.state.dropdown.visible,m=this.DOM.scope.querySelector(this.settings.classNames.tagTextSelector);return this.trigger("focus",h),void(f&&!a&&(this.dropdown.show(this.value.length?"":void 0),"select"===i.mode&&this.setRangeAtStartEnd(!1,m)))}if(l){if(this.trigger("blur",h),this.loading(!1),"select"==i.mode){if(this.value.length){var v=this.getTagElms()[0];c=this.trim(v.textContent)}d===c&&(c="")}c&&!this.state.actions.selectOption&&i.addTagOnBlur&&i.addTagOn.includes("blur")&&this.addTags(c,!0)}o||(this.DOM.input.removeAttribute("style"),this.dropdown.hide())}else s?this.trigger("focus",h):l&&(this.trigger("blur",h),this.loading(!1),this.dropdown.hide(),this.state.dropdown.visible=void 0,this.setStateSelection())},onCompositionStart:function(t){this.state.composing=!0},onCompositionEnd:function(t){this.state.composing=!1},onWindowKeyDown:function(t){var e,n=this.settings,i=document.activeElement,o=Uo.call(this,i)&&this.DOM.scope.contains(i),a=i===this.DOM.input,r=o&&i.hasAttribute("readonly"),s=this.DOM.scope.querySelector(this.settings.classNames.tagTextSelector),l=this.state.dropdown.visible;if(("Tab"===t.key&&l||this.state.hasFocus||o&&!r)&&!a){e=i.nextElementSibling;var c=t.target.classList.contains(n.classNames.tagX);switch(t.key){case"Backspace":n.readonly||this.state.editing||(this.removeTags(i),(e||this.DOM.input).focus());break;case"Enter":if(c)return void this.removeTags(t.target.parentNode);n.a11y.focusableTags&&Ko.call(this,i)&&setTimeout(this.editTag.bind(this),0,i);break;case"ArrowDown":this.state.dropdown.visible||"mix"==n.mode||this.dropdown.show();break;case"Tab":null==s||s.focus()}}},onKeydown:function(t){var e=this,n=this.settings;if(!this.state.composing&&n.userInput){"select"==n.mode&&n.enforceWhitelist&&this.value.length&&"Tab"!=t.key&&t.preventDefault();var i=this.trim(t.target.textContent);this.trigger("keydown",{event:t}),n.hooks.beforeKeyDown(t,{tagify:this}).then((function(o){if("mix"==n.mode){switch(t.key){case"Left":case"ArrowLeft":e.state.actions.ArrowLeft=!0;break;case"Delete":case"Backspace":if(e.state.editing)return;var a=document.getSelection(),r="Delete"==t.key&&a.anchorOffset==(a.anchorNode.length||0),s=a.anchorNode.previousSibling,l=1==a.anchorNode.nodeType||!a.anchorOffset&&s&&1==s.nodeType&&a.anchorNode.previousSibling;!function(t){var e=document.createElement("div");t.replace(/\&#?[0-9a-z]+;/gi,(function(t){return e.innerHTML=t,e.innerText}))}(e.DOM.input.innerHTML);var c,d,u,h=e.getTagElms(),g=1===a.anchorNode.length&&a.anchorNode.nodeValue==String.fromCharCode(8203);if("edit"==n.backspace&&l)return c=1==a.anchorNode.nodeType?null:a.anchorNode.previousElementSibling,setTimeout(e.editTag.bind(e),0,c),void t.preventDefault();if(Vo()&&va(l,Element))return u=Ho(l),l.hasAttribute("readonly")||l.remove(),e.DOM.input.focus(),void setTimeout((function(){Jo(u),e.DOM.input.click()}));if("BR"==a.anchorNode.nodeName)return;if((r||l)&&1==a.anchorNode.nodeType?d=0==a.anchorOffset?r?h[0]:null:h[Math.min(h.length,a.anchorOffset)-1]:r?d=a.anchorNode.nextElementSibling:va(l,Element)&&(d=l),3==a.anchorNode.nodeType&&!a.anchorNode.nodeValue&&a.anchorNode.previousElementSibling&&t.preventDefault(),(l||r)&&!n.backspace)return void t.preventDefault();if("Range"!=a.type&&!a.anchorOffset&&a.anchorNode==e.DOM.input&&"Delete"!=t.key)return void t.preventDefault();if("Range"!=a.type&&d&&d.hasAttribute("readonly"))return void Jo(Ho(d));"Delete"==t.key&&g&&Zo(a.anchorNode.nextSibling)&&e.removeTags(a.anchorNode.nextSibling)}return!0}var p="manual"==n.dropdown.position;switch(t.key){case"Backspace":"select"==n.mode&&n.enforceWhitelist&&e.value.length?e.removeTags():e.state.dropdown.visible&&"manual"!=n.dropdown.position||""!=t.target.textContent&&8203!=i.charCodeAt(0)||(!0===n.backspace?e.removeTags():"edit"==n.backspace&&setTimeout(e.editTag.bind(e),0));break;case"Esc":case"Escape":if(e.state.dropdown.visible)return;t.target.blur();break;case"Down":case"ArrowDown":e.state.dropdown.visible||e.dropdown.show();break;case"ArrowRight":var f=e.state.inputSuggestion||e.state.ddItemData;if(f&&n.autoComplete.rightKey)return void e.addTags([f],!0);break;case"Tab":return!0;case"Enter":if(e.state.dropdown.visible&&!p)return;t.preventDefault();var m=e.state.autoCompleteData||i;setTimeout((function(){e.state.dropdown.visible&&!p||e.state.actions.selectOption||!n.addTagOn.includes(t.key.toLowerCase())||(e.addTags([m],!0),e.state.autoCompleteData=null)}))}})).catch((function(t){return t}))}},onInput:function(t){this.postUpdate();var e=this.settings;if("mix"==e.mode)return this.events.callbacks.onMixTagsInput.call(this,t);var n=this.input.normalize.call(this,void 0,{trim:!1}),i=n.length>=e.dropdown.enabled,o={value:n,inputElm:this.DOM.input},a=this.validateTag({value:n});"select"==e.mode&&this.toggleScopeValidation(a),o.isValid=a,this.state.inputText!=n&&(this.input.set.call(this,n,!1),-1!=n.search(e.delimiters)?this.addTags(n)&&this.input.set.call(this):e.dropdown.enabled>=0&&this.dropdown[i?"show":"hide"](n),this.trigger("input",o))},onMixTagsInput:function(t){var e,n,i,o,a,r,s,l,c=this,d=this.settings,u=this.value.length,h=this.getTagElms(),g=document.createDocumentFragment(),p=window.getSelection().getRangeAt(0),f=[].map.call(h,(function(t){return Zo(t).value}));if("deleteContentBackward"==t.inputType&&Vo()&&this.events.callbacks.onKeydown.call(this,{target:t.target,key:"Backspace"}),Qo(this.getTagElms()),this.value.slice().forEach((function(t){t.readonly&&!f.includes(t.value)&&g.appendChild(c.createTagElem(t))})),g.childNodes.length&&(p.insertNode(g),this.setRangeAtStartEnd(!1,g.lastChild)),h.length!=u)return this.value=[].map.call(this.getTagElms(),(function(t){return Zo(t)})),void this.update({withoutChangeEvent:!0});if(this.hasMaxTags())return!0;if(window.getSelection&&(r=window.getSelection()).rangeCount>0&&3==r.anchorNode.nodeType){if((p=r.getRangeAt(0).cloneRange()).collapse(!0),p.setStart(r.focusNode,0),i=(e=p.toString().slice(0,p.endOffset)).split(d.pattern).length-1,(n=e.match(d.pattern))&&(o=e.slice(e.lastIndexOf(n[n.length-1]))),o){if(this.state.actions.ArrowLeft=!1,this.state.tag={prefix:o.match(d.pattern)[0],value:o.replace(d.pattern,"")},this.state.tag.baseOffset=r.baseOffset-this.state.tag.value.length,l=this.state.tag.value.match(d.delimiters))return this.state.tag.value=this.state.tag.value.replace(d.delimiters,""),this.state.tag.delimiters=l[0],this.addTags(this.state.tag.value,d.dropdown.clearOnSelect),void this.dropdown.hide();a=this.state.tag.value.length>=d.dropdown.enabled;try{s=(s=this.state.flaggedTags[this.state.tag.baseOffset]).prefix==this.state.tag.prefix&&s.value[0]==this.state.tag.value[0],this.state.flaggedTags[this.state.tag.baseOffset]&&!this.state.tag.value&&delete this.state.flaggedTags[this.state.tag.baseOffset]}catch(t){}(s||i<this.state.mixMode.matchedPatternCount)&&(a=!1)}else this.state.flaggedTags={};this.state.mixMode.matchedPatternCount=i}setTimeout((function(){c.update({withoutChangeEvent:!0}),c.trigger("input",Wo({},c.state.tag,{textContent:c.DOM.input.textContent})),c.state.tag&&c.dropdown[a?"show":"hide"](c.state.tag.value)}),10)},onInputIE:function(t){var e=this;setTimeout((function(){e.events.callbacks.onInput.call(e,t)}))},observeOriginalInputValue:function(){this.DOM.originalInput.parentNode||this.destroy(),this.DOM.originalInput.value!=this.DOM.originalInput.tagifyValue&&this.loadOriginalValues()},onClickAnywhere:function(t){if(t.target!=this.DOM.scope&&!this.DOM.scope.contains(t.target)){this.toggleFocusClass(!1),this.state.hasFocus=!1;var e=t.target.closest(this.settings.classNames.dropdownSelector);(null==e?void 0:e.__tagify)!=this&&this.dropdown.hide()}},onClickScope:function(t){var e=this.settings,n=t.target.closest("."+e.classNames.tag);t.target,this.DOM.scope;var i=+new Date-this.state.hasFocus;if(!t.target.classList.contains(e.classNames.tagX))return n&&!this.state.editing?(this.trigger("click",{tag:n,index:this.getNodeIndex(n),data:Zo(n),event:t}),void(1!==e.editTags&&1!==e.editTags.clicks&&"select"!=e.mode||this.events.callbacks.onDoubleClickScope.call(this,t))):void(t.target==this.DOM.input&&("mix"==e.mode&&this.fixFirefoxLastTagNoCaret(),i>500||!e.focusable)?this.state.dropdown.visible?this.dropdown.hide():0===e.dropdown.enabled&&"mix"!=e.mode&&this.dropdown.show(this.value.length?"":void 0):"select"!=e.mode||0!==e.dropdown.enabled||this.state.dropdown.visible||(this.events.callbacks.onDoubleClickScope.call(this,function(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e.push.apply(e,n)}return e}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t}(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),i.forEach((function(e){ma(t,e,n[e])}))}return t}({},t),{target:this.getTagElms()[0]})),!e.userInput&&this.dropdown.show()));this.removeTags(t.target.parentNode)},onPaste:function(t){var e=this;t.preventDefault();var n,i,o,a=this.settings;if(!a.userInput)return!1;a.readonly||(i=t.clipboardData||window.clipboardData,o=i.getData("Text"),a.hooks.beforePaste(t,{tagify:this,pastedText:o,clipboardData:i}).then((function(a){void 0===a&&(a=o),a&&(e.injectAtCaret(a,window.getSelection().getRangeAt(0)),"mix"==e.settings.mode?e.events.callbacks.onMixTagsInput.call(e,t):e.settings.pasteAsTags?n=e.addTags(e.state.inputText+a,!0):(e.state.inputText=a,e.dropdown.show(a))),e.trigger("paste",{event:t,pastedText:o,clipboardData:i,tagsElems:n})})).catch((function(t){return t})))},onDrop:function(t){t.preventDefault()},onEditTagInput:function(t,e){var n,i=t.closest("."+this.settings.classNames.tag),o=this.getNodeIndex(i),a=Zo(i),r=this.input.normalize.call(this,t),s=(ma(n={},this.settings.tagTextProp,r),ma(n,"__tagId",a.__tagId),n),l=this.validateTag(s);this.editTagChangeDetected(Wo(a,s))||!0!==t.originalIsValid||(l=!0),i.classList.toggle(this.settings.classNames.tagInvalid,!0!==l),a.__isValid=l,i.title=!0===l?a.title||a.value:l,r.length>=this.settings.dropdown.enabled&&(this.state.editing&&(this.state.editing.value=r),this.dropdown.show(r)),this.trigger("edit:input",{tag:i,index:o,data:Wo({},this.value[o],{newValue:r}),event:e})},onEditTagPaste:function(t,e){var n=(e.clipboardData||window.clipboardData).getData("Text");e.preventDefault();var i=Xo(n);this.setRangeAtStartEnd(!1,i)},onEditTagClick:function(t,e){this.events.callbacks.onClickScope.call(this,e)},onEditTagFocus:function(t){this.state.editing={scope:t,input:t.querySelector("[contenteditable]")}},onEditTagBlur:function(t,e){var n=Ko.call(this,e.relatedTarget);if("select"==this.settings.mode&&n&&e.relatedTarget.contains(e.target))this.dropdown.hide();else if(this.state.editing&&(this.state.hasFocus||this.toggleFocusClass(),this.DOM.scope.contains(document.activeElement)||this.trigger("blur",{}),this.DOM.scope.contains(t))){var i,o,a,r=this.settings,s=t.closest("."+r.classNames.tag),l=Zo(s),c=this.input.normalize.call(this,t),d=(ma(i={},r.tagTextProp,c),ma(i,"__tagId",l.__tagId),i),u=l.__originalData,h=this.editTagChangeDetected(Wo(l,d)),g=this.validateTag(d);if(c)if(h){var p;if(o=this.hasMaxTags(),a=Wo({},u,(ma(p={},r.tagTextProp,this.trim(c)),ma(p,"__isValid",g),p)),r.transformTag.call(this,a,u),!0!==(g=(!o||!0===u.__isValid)&&this.validateTag(a))){if(this.trigger("invalid",{data:a,tag:s,message:g}),r.editTags.keepInvalid)return;r.keepInvalidTags?a.__isValid=g:a=u}else r.keepInvalidTags&&(delete a.title,delete a["aria-invalid"],delete a.class);this.onEditTagDone(s,a)}else this.onEditTagDone(s,u);else this.onEditTagDone(s)}},onEditTagkeydown:function(t,e){if(!this.state.composing)switch(this.trigger("edit:keydown",{event:t}),t.key){case"Esc":case"Escape":this.state.editing=!1,e.__tagifyTagData.__originalData.value?e.parentNode.replaceChild(e.__tagifyTagData.__originalHTML,e):e.remove();break;case"Enter":case"Tab":t.preventDefault(),setTimeout((function(){return t.target.blur()}),0)}},onDoubleClickScope:function(t){var e=t.target.closest("."+this.settings.classNames.tag);if(e){var n,i,o=Zo(e),a=this.settings;!1!==(null==o?void 0:o.editable)&&(n=e.classList.contains(this.settings.classNames.tagEditing),i=e.hasAttribute("readonly"),a.readonly||n||i||!this.settings.editTags||!a.userInput||(this.events.callbacks.onEditTagFocus.call(this,e),this.editTag(e)),this.toggleFocusClass(!0),"select"!=a.mode&&this.trigger("dblclick",{tag:e,index:this.getNodeIndex(e),data:Zo(e)}))}},onInputDOMChange:function(t){var e=this;t.forEach((function(t){t.addedNodes.forEach((function(t){if("<div><br></div>"==t.outerHTML)t.replaceWith(document.createElement("br"));else if(1==t.nodeType&&t.querySelector(e.settings.classNames.tagSelector)){var n,i=document.createTextNode("");3==t.childNodes[0].nodeType&&"BR"!=t.previousSibling.nodeName&&(i=document.createTextNode("\n")),(n=t).replaceWith.apply(n,ya([i].concat(ya(ya(t.childNodes).slice(0,-1))))),Jo(i)}else if(Ko.call(e,t)){var o;if(3!=(null===(o=t.previousSibling)||void 0===o?void 0:o.nodeType)||t.previousSibling.textContent||t.previousSibling.remove(),t.previousSibling&&"BR"==t.previousSibling.nodeName){t.previousSibling.replaceWith("\n​");for(var a=t.nextSibling,r="";a;)r+=a.textContent,a=a.nextSibling;r.trim()&&Jo(t.previousSibling)}else t.previousSibling&&!Zo(t.previousSibling)||t.before("​")}})),t.removedNodes.forEach((function(t){t&&"BR"==t.nodeName&&Ko.call(e,n)&&(e.removeTags(n),e.fixFirefoxLastTagNoCaret())}))}));var n=this.DOM.input.lastChild;n&&""==n.nodeValue&&n.remove(),n&&"BR"==n.nodeName||this.DOM.input.appendChild(document.createElement("br"))}}};function wa(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function xa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ta(t,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):t instanceof e}function Ea(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),i.forEach((function(e){xa(t,e,n[e])}))}return t}function Ma(t){return function(t){if(Array.isArray(t))return wa(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return wa(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wa(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Da(t,e){if(!t){No.warn("input element not found",t);var n=new Proxy(this,{get:function(){return function(){return n}}});return n}if(t.__tagify)return No.warn("input element is already Tagified - Same instance is returned.",t),t.__tagify;var i;Wo(this,function(t){var e=document.createTextNode(""),n={};function i(t,n,i){i&&n.split(/\s+/g).forEach((function(n){return e[t+"EventListener"].call(e,n,i)}))}return{removeAllCustomListeners:function(){Object.entries(n).forEach((function(t){var e=function(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,i,o=[],a=!0,r=!1;try{for(e=e.call(t);!(a=(n=e.next()).done)&&(o.push(n.value),2!==o.length);a=!0);}catch(t){r=!0,i=t}finally{try{a||null==e.return||e.return()}finally{if(r)throw i}}return o}}(t)||function(t){if(t){if("string"==typeof t)return ga(t,2);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?ga(t,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t),n=e[0];e[1].forEach((function(t){return i("remove",n,t)}))})),n={}},off:function(t,e){return t&&(e?i("remove",t,e):t.split(/\s+/g).forEach((function(t){var e;null===(e=n[t])||void 0===e||e.forEach((function(e){return i("remove",t,e)})),delete n[t]}))),this},on:function(t,e){return e&&"function"==typeof e&&(t.split(/\s+/g).forEach((function(t){Array.isArray(n[t])?n[t].push(e):n[t]=[e]})),i("add",t,e)),this},trigger:function(n,i,o){var a;if(o=o||{cloneData:!0},n)if(t.settings.isJQueryPlugin)"remove"==n&&(n="removeTag"),jQuery(t.DOM.originalInput).triggerHandler(n,[i]);else{try{var r="object"==typeof i?i:{value:i};if((r=o.cloneData?Wo({},r):r).tagify=this,i.event&&(r.event=this.cloneEvent(i.event)),pa(i,Object))for(var s in i)pa(i[s],HTMLElement)&&(r[s]=i[s]);a=new CustomEvent(n,{detail:r})}catch(t){No.warn(t)}e.dispatchEvent(a)}}}}(this)),this.isFirefox=/firefox|fxios/i.test(navigator.userAgent)&&!/seamonkey/i.test(navigator.userAgent),this.isIE=window.document.documentMode,e=e||{},this.getPersistedData=(i=e.id,function(t){var e;if(i){var n,o="/"+t;if(1===(null===(e=localStorage)||void 0===e?void 0:e.getItem(da+i+"/v")))try{n=JSON.parse(localStorage[da+i+o])}catch(t){}return n}}),this.setPersistedData=function(t){var e;return t?(null===(e=localStorage)||void 0===e||e.setItem(da+t+"/v",1),function(e,n){var i,o="/"+n,a=JSON.stringify(e);e&&n&&(null===(i=localStorage)||void 0===i||i.setItem(da+t+o,a),dispatchEvent(new Event("storage")))}):function(){}}(e.id),this.clearPersistedData=function(t){return function(e){var n=da+"/"+t+"/";if(e)localStorage.removeItem(n+e);else for(var i in localStorage)i.includes(n)&&localStorage.removeItem(i)}}(e.id),this.applySettings(t,e),this.state={inputText:"",editing:!1,composing:!1,actions:{},mixMode:{},dropdown:{},flaggedTags:{}},this.value=[],this.listeners={},this.DOM={},this.build(t),ra.call(this),this.getCSSVars(),this.loadOriginalValues(),this.events.customBinding.call(this),this.events.binding.call(this),t.autofocus&&this.DOM.input.focus(),t.__tagify=this}function Sa(){document.querySelectorAll("[data-expandable]").forEach((function(t){var e=t.querySelector("[data-expandable-content]"),n=t.querySelector("[data-expandable-show]"),i=t.querySelector("[data-expandable-hide]");e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth?t.classList.add("is-overflow"):t.classList.contains("is-active")||t.classList.remove("is-overflow"),n.addEventListener("click",(function(){t.classList.add("is-active")})),i.addEventListener("click",(function(){t.classList.remove("is-active")}))}))}Da.prototype={_dropdown:ca,placeCaretAfterNode:Jo,getSetTagData:Zo,helpers:{sameStr:Po,removeCollectionProp:qo,omit:jo,isObject:Yo,parseHTML:Fo,escapeHTML:$o,extend:Wo,concatWithoutDups:Ro,getUID:zo,isNodeTag:Ko},customEventsList:["change","add","remove","invalid","input","paste","click","keydown","focus","blur","edit:input","edit:beforeUpdate","edit:updated","edit:start","edit:keydown","dropdown:show","dropdown:hide","dropdown:select","dropdown:updated","dropdown:noMatch","dropdown:scroll"],dataProps:["__isValid","__removed","__originalData","__originalHTML","__tagId"],trim:function(t){return this.settings.trim&&t&&"string"==typeof t?t.trim():t},parseHTML:Fo,templates:ha,parseTemplate:function(t,e){return Fo((t=this.settings.templates[t]||t).apply(this,e))},set whitelist(t){var e=t&&Array.isArray(t);this.settings.whitelist=e?t:[],this.setPersistedData(e?t:[],"whitelist")},get whitelist(){return this.settings.whitelist},set userInput(t){this.settings.userInput=!!t,this.setContentEditable(!!t)},get userInput(){return this.settings.userInput},generateClassSelectors:function(t){var e=function(e){var n=e;Object.defineProperty(t,n+"Selector",{get:function(){return"."+this[n].split(" ")[0]}})};for(var n in t)e(n)},applySettings:function(t,e){var n,i;ta.templates=this.templates;var o=Wo({},ta,"mix"==e.mode?{dropdown:{position:"text"}}:{}),a=this.settings=Wo({},o,e);if(a.disabled=t.hasAttribute("disabled"),a.readonly=a.readonly||t.hasAttribute("readonly"),a.placeholder=$o(t.getAttribute("placeholder")||a.placeholder||""),a.required=t.hasAttribute("required"),this.generateClassSelectors(a.classNames),this.isIE&&(a.autoComplete=!1),["whitelist","blacklist"].forEach((function(e){var n=t.getAttribute("data-"+e);n&&Ta(n=n.split(a.delimiters),Array)&&(a[e]=n)})),"autoComplete"in e&&!Yo(e.autoComplete)&&(a.autoComplete=ta.autoComplete,a.autoComplete.enabled=e.autoComplete),"mix"==a.mode&&(a.pattern=a.pattern||/@/,a.autoComplete.rightKey=!0,a.delimiters=e.delimiters||null,a.tagTextProp&&!a.dropdown.searchKeys.includes(a.tagTextProp)&&a.dropdown.searchKeys.push(a.tagTextProp)),t.pattern)try{a.pattern=new RegExp(t.pattern)}catch(t){}if(a.delimiters){a._delimiters=a.delimiters;try{a.delimiters=new RegExp(this.settings.delimiters,"g")}catch(t){}}(a.disabled||a.readonly)&&(a.userInput=!1),this.TEXTS=Ea({},ua,a.texts||{}),"select"==a.mode&&(a.dropdown.includeSelectedTags=!0),("select"!=a.mode||(null===(n=e.dropdown)||void 0===n?void 0:n.enabled))&&a.userInput||(a.dropdown.enabled=0),a.disabled&&(a.dropdown.enabled=!1),a.dropdown.appendTarget=(null===(i=e.dropdown)||void 0===i?void 0:i.appendTarget)||document.body,void 0===a.dropdown.includeSelectedTags&&(a.dropdown.includeSelectedTags=a.duplicates);var r=this.getPersistedData("whitelist");Array.isArray(r)&&(this.whitelist=Array.isArray(a.whitelist)?Ro(a.whitelist,r):r)},getAttributes:function(t){var e,n=this.getCustomAttributes(t),i="";for(e in n)i+=" "+e+(void 0!==t[e]?'="'.concat(n[e],'"'):"");return i},getCustomAttributes:function(t){if(!Yo(t))return"";var e,n={};for(e in t)"__"!=e.slice(0,2)&&"class"!=e&&t.hasOwnProperty(e)&&void 0!==t[e]&&(n[e]=$o(t[e]));return n},setStateSelection:function(){var t=window.getSelection(),e={anchorOffset:t.anchorOffset,anchorNode:t.anchorNode,range:t.getRangeAt&&t.rangeCount&&t.getRangeAt(0)};return this.state.selection=e,e},getCSSVars:function(){var t,e,n=getComputedStyle(this.DOM.scope,null);this.CSSVars={tagHideTransition:(t=function(t){if(!t)return{};var e=(t=t.trim().split(" ")[0]).split(/\d+/g).filter((function(t){return t})).pop().trim();return{value:+t.split(e).filter((function(t){return t}))[0].trim(),unit:e}}(n.getPropertyValue("--tag-hide-transition")),e=t.value,"s"==t.unit?1e3*e:e)}},build:function(t){var e=this.DOM,n=t.closest("label");this.settings.mixMode.integrated?(e.originalInput=null,e.scope=t,e.input=t):(e.originalInput=t,e.originalInput_tabIndex=t.tabIndex,e.scope=this.parseTemplate("wrapper",[t,this.settings]),e.input=e.scope.querySelector(this.settings.classNames.inputSelector),t.parentNode.insertBefore(e.scope,t),t.tabIndex=-1),n&&n.setAttribute("for","")},destroy:function(){var t;this.events.unbindGlobal.call(this),null===(t=this.DOM.scope.parentNode)||void 0===t||t.removeChild(this.DOM.scope),this.DOM.originalInput.tabIndex=this.DOM.originalInput_tabIndex,delete this.DOM.originalInput.__tagify,this.dropdown.hide(!0),this.removeAllCustomListeners(),clearTimeout(this.dropdownHide__bindEventsTimeout),clearInterval(this.listeners.main.originalInputValueObserverInterval)},loadOriginalValues:function(t){var e,n=this.settings;if(this.state.blockChangeEvent=!0,void 0===t){var i=this.getPersistedData("value");t=i&&!this.DOM.originalInput.value?i:n.mixMode.integrated?this.DOM.input.textContent:this.DOM.originalInput.value}if(this.removeAllTags(),t)if("mix"==n.mode)this.parseMixTags(t),(e=this.DOM.input.lastChild)&&"BR"==e.tagName||this.DOM.input.insertAdjacentHTML("beforeend","<br>");else{try{Ta(JSON.parse(t),Array)&&(t=JSON.parse(t))}catch(t){}this.addTags(t,!0).forEach((function(t){return t&&t.classList.add(n.classNames.tagNoAnimation)}))}else this.postUpdate();this.state.lastOriginalValueReported=n.mixMode.integrated?"":this.DOM.originalInput.value},cloneEvent:function(t){var e={};for(var n in t)"path"!=n&&(e[n]=t[n]);return e},loading:function(t){return this.state.isLoading=t,this.DOM.scope.classList[t?"add":"remove"](this.settings.classNames.scopeLoading),this},tagLoading:function(t,e){return t&&t.classList[e?"add":"remove"](this.settings.classNames.tagLoading),this},toggleClass:function(t,e){"string"==typeof t&&this.DOM.scope.classList.toggle(t,e)},toggleScopeValidation:function(t){var e=!0===t||void 0===t;!this.settings.required&&t&&t===this.TEXTS.empty&&(e=!0),this.toggleClass(this.settings.classNames.tagInvalid,!e),this.DOM.scope.title=e?"":t},toggleFocusClass:function(t){this.toggleClass(this.settings.classNames.focus,!!t)},setPlaceholder:function(t){var e=this;["data","aria"].forEach((function(n){return e.DOM.input.setAttribute("".concat(n,"-placeholder"),t)}))},triggerChangeEvent:function(){if(!this.settings.mixMode.integrated){var t=this.DOM.originalInput,e=this.state.lastOriginalValueReported!==t.value,n=new CustomEvent("change",{bubbles:!0});e&&(this.state.lastOriginalValueReported=t.value,n.simulated=!0,t._valueTracker&&t._valueTracker.setValue(Math.random()),t.dispatchEvent(n),this.trigger("change",this.state.lastOriginalValueReported),t.value=this.state.lastOriginalValueReported)}},events:ba,fixFirefoxLastTagNoCaret:function(){},setRangeAtStartEnd:function(t,e){if(e){t="number"==typeof t?t:!!t,e=e.lastChild||e;var n=document.getSelection();if(Ta(n.focusNode,Element)&&!this.DOM.input.contains(n.focusNode))return!0;try{n.rangeCount>=1&&["Start","End"].forEach((function(i){return n.getRangeAt(0)["set"+i](e,t||e.length)}))}catch(t){console.warn(t)}}},insertAfterTag:function(t,e){if(e=e||this.settings.mixMode.insertAfterTag,t&&t.parentNode&&e)return e="string"==typeof e?document.createTextNode(e):e,t.parentNode.insertBefore(e,t.nextSibling),e},editTagChangeDetected:function(t){var e=t.__originalData;for(var n in e)if(!this.dataProps.includes(n)&&t[n]!=e[n])return!0;return!1},getTagTextNode:function(t){return t.querySelector(this.settings.classNames.tagTextSelector)},setTagTextNode:function(t,e){this.getTagTextNode(t).innerHTML=$o(e)},editTag:function(t,e){var n=this;t=t||this.getLastTag(),e=e||{};var i=this.settings,o=this.getTagTextNode(t),a=this.getNodeIndex(t),r=Zo(t),s=this.events.callbacks,l=!0,c="select"==i.mode;if(!c&&this.dropdown.hide(),o){if(!Ta(r,Object)||!("editable"in r)||r.editable)return r=Zo(t,{__originalData:Wo({},r),__originalHTML:t.cloneNode(!0)}),Zo(r.__originalHTML,r.__originalData),o.setAttribute("contenteditable",!0),t.classList.add(i.classNames.tagEditing),this.events.callbacks.onEditTagFocus.call(this,t),o.addEventListener("click",s.onEditTagClick.bind(this,t)),o.addEventListener("blur",s.onEditTagBlur.bind(this,this.getTagTextNode(t))),o.addEventListener("input",s.onEditTagInput.bind(this,o)),o.addEventListener("paste",s.onEditTagPaste.bind(this,o)),o.addEventListener("keydown",(function(e){return s.onEditTagkeydown.call(n,e,t)})),o.addEventListener("compositionstart",s.onCompositionStart.bind(this)),o.addEventListener("compositionend",s.onCompositionEnd.bind(this)),e.skipValidation||(l=this.editTagToggleValidity(t)),o.originalIsValid=l,this.trigger("edit:start",{tag:t,index:a,data:r,isValid:l}),o.focus(),!c&&this.setRangeAtStartEnd(!1,o),0===i.dropdown.enabled&&!c&&this.dropdown.show(),this.state.hasFocus=!0,this}else No.warn("Cannot find element in Tag template: .",i.classNames.tagTextSelector)},editTagToggleValidity:function(t,e){var n;if(e=e||Zo(t))return(n=!("__isValid"in e)||!0===e.__isValid)||this.removeTagsFromValue(t),this.update(),t.classList.toggle(this.settings.classNames.tagNotAllowed,!n),e.__isValid=n,e.__isValid;No.warn("tag has no data: ",t,e)},onEditTagDone:function(t,e){t=t||this.state.editing.scope,e=e||{};var n,i,o=this.settings,a={tag:t,index:this.getNodeIndex(t),previousData:Zo(t),data:e};this.trigger("edit:beforeUpdate",a,{cloneData:!1}),this.state.editing=!1,delete e.__originalData,delete e.__originalHTML,t&&t.parentNode&&((void 0!==(i=e[o.tagTextProp])?null===(n=(i+="").trim)||void 0===n?void 0:n.call(i):o.tagTextProp in e?void 0:e.value)?(t=this.replaceTag(t,e),this.editTagToggleValidity(t,e),o.a11y.focusableTags?t.focus():"select"!=o.mode&&Jo(t)):this.removeTags(t)),this.trigger("edit:updated",a),o.dropdown.closeOnSelect&&this.dropdown.hide(),this.settings.keepInvalidTags&&this.reCheckInvalidTags()},replaceTag:function(t,e){e&&""!==e.value&&void 0!==e.value||(e=t.__tagifyTagData),e.__isValid&&1!=e.__isValid&&Wo(e,this.getInvalidTagAttrs(e,e.__isValid));var n=this.createTagElem(e);return t.parentNode.replaceChild(n,t),this.updateValueByDOMTags(),n},updateValueByDOMTags:function(){var t=this;this.value.length=0;var e=this.settings.classNames,n=[e.tagNotAllowed.split(" ")[0],e.tagHide];[].forEach.call(this.getTagElms(),(function(e){Ma(e.classList).some((function(t){return n.includes(t)}))||t.value.push(Zo(e))})),this.update(),this.dropdown.refilter()},injectAtCaret:function(t,e){var n;if(e=e||(null===(n=this.state.selection)||void 0===n?void 0:n.range),"string"==typeof t&&(t=document.createTextNode(t)),!e&&t)return this.appendMixTags(t),this;var i=Xo(t,e);return this.setRangeAtStartEnd(!1,i),this.updateValueByDOMTags(),this.update(),this},input:{set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.settings,i=n.dropdown.closeOnSelect;this.state.inputText=t,e&&(this.DOM.input.innerHTML=$o(""+t),t&&this.toggleClass(n.classNames.empty,!this.DOM.input.innerHTML)),!t&&i&&this.dropdown.hide.bind(this),this.input.autocomplete.suggest.call(this),this.input.validate.call(this)},raw:function(){return this.DOM.input.textContent},validate:function(){var t=!this.state.inputText||!0===this.validateTag({value:this.state.inputText});return this.DOM.input.classList.toggle(this.settings.classNames.inputInvalid,!t),t},normalize:function(t,e){var n=t||this.DOM.input,i=[];n.childNodes.forEach((function(t){return 3==t.nodeType&&i.push(t.nodeValue)})),i=i.join("\n");try{i=i.replace(/(?:\r\n|\r|\n)/g,this.settings.delimiters.source.charAt(0))}catch(t){}return i=i.replace(/\s/g," "),(null==e?void 0:e.trim)?this.trim(i):i},autocomplete:{suggest:function(t){if(this.settings.autoComplete.enabled){"object"!=typeof(t=t||{value:""})&&(t={value:t});var e=this.dropdown.getMappedValue(t);if("number"!=typeof e){var n=this.state.inputText.toLowerCase(),i=e.substr(0,this.state.inputText.length).toLowerCase(),o=e.substring(this.state.inputText.length);e&&this.state.inputText&&i==n?(this.DOM.input.setAttribute("data-suggest",o),this.state.inputSuggestion=t):(this.DOM.input.removeAttribute("data-suggest"),delete this.state.inputSuggestion)}}},set:function(t){var e=this.DOM.input.getAttribute("data-suggest"),n=t||(e?this.state.inputText+e:null);return!!n&&("mix"==this.settings.mode?this.replaceTextWithNode(document.createTextNode(this.state.tag.prefix+n)):(this.input.set.call(this,n),this.setRangeAtStartEnd(!1,this.DOM.input)),this.input.autocomplete.suggest.call(this),this.dropdown.hide(),!0)}}},getTagIdx:function(t){return this.value.findIndex((function(e){return e.__tagId==(t||{}).__tagId}))},getNodeIndex:function(t){var e=0;if(t)for(;t=t.previousElementSibling;)e++;return e},getTagElms:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i="."+Ma(this.settings.classNames.tag.split(" ")).concat(Ma(e)).join(".");return[].slice.call(this.DOM.scope.querySelectorAll(i))},getLastTag:function(){var t=this.settings.classNames,e=this.DOM.scope.querySelectorAll("".concat(t.tagSelector,":not(.").concat(t.tagHide,"):not([readonly])"));return e[e.length-1]},isTagDuplicate:function(t,e,n){var i=0,o=!0,a=!1,r=void 0;try{for(var s,l=this.value[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value;Po(this.trim(""+t),c.value,e)&&n!=c.__tagId&&i++}}catch(t){a=!0,r=t}finally{try{o||null==l.return||l.return()}finally{if(a)throw r}}return i},getTagIndexByValue:function(t){var e=this,n=[],i=this.settings.dropdown.caseSensitive;return this.getTagElms().forEach((function(o,a){o.__tagifyTagData&&Po(e.trim(o.__tagifyTagData.value),t,i)&&n.push(a)})),n},getTagElmByValue:function(t){var e=this.getTagIndexByValue(t)[0];return this.getTagElms()[e]},flashTag:function(t){var e=this;t&&(t.classList.add(this.settings.classNames.tagFlash),setTimeout((function(){t.classList.remove(e.settings.classNames.tagFlash)}),100))},isTagBlacklisted:function(t){return t=this.trim(t.toLowerCase()),this.settings.blacklist.filter((function(e){return(""+e).toLowerCase()==t})).length},isTagWhitelisted:function(t){return!!this.getWhitelistItem(t)},getWhitelistItem:function(t,e,n){e=e||"value";var i,o=this.settings;return(n=n||o.whitelist).some((function(n){var a="object"==typeof n?n[e]||n.value:n;if(Po(a,t,o.dropdown.caseSensitive,o.trim))return i="object"==typeof n?n:{value:n},!0})),i||"value"!=e||"value"==o.tagTextProp||(i=this.getWhitelistItem(t,o.tagTextProp,n)),i},validateTag:function(t){var e=this.settings,n="value"in t?"value":e.tagTextProp,i=this.trim(t[n]+"");return(t[n]+"").trim()?"mix"!=e.mode&&e.pattern&&Ta(e.pattern,RegExp)&&!e.pattern.test(i)?this.TEXTS.pattern:!e.duplicates&&this.isTagDuplicate(i,e.dropdown.caseSensitive,t.__tagId)?this.TEXTS.duplicate:this.isTagBlacklisted(i)||e.enforceWhitelist&&!this.isTagWhitelisted(i)?this.TEXTS.notAllowed:!e.validate||e.validate(t):this.TEXTS.empty},getInvalidTagAttrs:function(t,e){return{"aria-invalid":!0,class:"".concat(t.class||""," ").concat(this.settings.classNames.tagNotAllowed).trim(),title:e}},hasMaxTags:function(){return this.value.length>=this.settings.maxTags&&this.TEXTS.exceed},setReadonly:function(t,e){var n=this.settings;this.DOM.scope.contains(document.activeElement)&&document.activeElement.blur(),n[e||"readonly"]=t,this.DOM.scope[(t?"set":"remove")+"Attribute"](e||"readonly",!0),this.settings.userInput=!0,this.setContentEditable(!t)},setContentEditable:function(t){this.DOM.scope.querySelectorAll("[data-can-editable]").forEach((function(e){e.contentEditable=t,e.tabIndex=t?0:-1}))},setDisabled:function(t){this.setReadonly(t,"disabled")},normalizeTags:function(t){var e=this,n=this.settings,i=n.whitelist,o=n.delimiters,a=n.mode,r=n.tagTextProp,s=[],l=!!i&&Ta(i[0],Object),c=Array.isArray(t),d=c&&t[0].value,u=function(t){return(t+"").split(o).reduce((function(t,n){var i,o=e.trim(n);return o&&t.push((xa(i={},r,o),xa(i,"value",o),i)),t}),[])};if("number"==typeof t&&(t=t.toString()),"string"==typeof t){if(!t.trim())return[];t=u(t)}else c&&(t=t.reduce((function(t,n){if(Yo(n)){var i=Wo({},n);r in i||(r="value"),i[r]=e.trim(i[r]),(i[r]||0===i[r])&&t.push(i)}else if(null!=n&&""!==n&&void 0!==n){var o;(o=t).push.apply(o,Ma(u(n)))}return t}),[]));return l&&!d&&(t.forEach((function(t){var n=s.map((function(t){return t.value})),i=e.dropdown.filterListItems.call(e,t[r],{exact:!0});e.settings.duplicates||(i=i.filter((function(t){return!n.includes(t.value)})));var o=i.length>1?e.getWhitelistItem(t[r],r,i):i[0];o&&Ta(o,Object)?s.push(o):"mix"!=a&&(null==t.value&&(t.value=t[r]),s.push(t))})),s.length&&(t=s)),t},parseMixTags:function(t){var e=this,n=this.settings,i=n.mixTagsInterpolator,o=n.duplicates,a=n.transformTag,r=n.enforceWhitelist,s=n.maxTags,l=n.tagTextProp,c=[];t=t.split(i[0]).map((function(t,n){var d,u,h,g=t.split(i[1]),p=g[0],f=c.length==s;try{if(p==+p)throw Error;u=JSON.parse(p)}catch(t){u=e.normalizeTags(p)[0]||{value:p}}if(a.call(e,u),f||!(g.length>1)||r&&!e.isTagWhitelisted(u.value)||!o&&e.isTagDuplicate(u.value)){if(t)return n?i[0]+t:t}else u[d=u[l]?l:"value"]=e.trim(u[d]),h=e.createTagElem(u),c.push(u),h.classList.add(e.settings.classNames.tagNoAnimation),g[0]=h.outerHTML,e.value.push(u);return g.join("")})).join(""),this.DOM.input.innerHTML=t,this.DOM.input.appendChild(document.createTextNode("")),this.DOM.input.normalize();var d=this.getTagElms();return d.forEach((function(t,e){return Zo(t,c[e])})),this.update({withoutChangeEvent:!0}),Qo(d,this.state.hasFocus),t},replaceTextWithNode:function(t,e){if(this.state.tag||e){e=e||this.state.tag.prefix+this.state.tag.value;var n,i,o=this.state.selection||window.getSelection(),a=o.anchorNode,r=this.state.tag.delimiters?this.state.tag.delimiters.length:0;return a.splitText(o.anchorOffset-r),-1==(n=a.nodeValue.lastIndexOf(e))||(i=a.splitText(n),t&&a.parentNode.replaceChild(t,i)),!0}},prepareNewTagNode:function(t,e){e=e||{};var n=this.settings,i=[],o={},a=Object.assign({},t,{value:t.value+""});if(t=Object.assign({},a),n.transformTag.call(this,t),t.__isValid=this.hasMaxTags()||this.validateTag(t),!0!==t.__isValid){if(e.skipInvalid)return;if(Wo(o,this.getInvalidTagAttrs(t,t.__isValid),{__preInvalidData:a}),t.__isValid==this.TEXTS.duplicate&&this.flashTag(this.getTagElmByValue(t.value)),!n.createInvalidTags)return void i.push(t.value)}return"readonly"in t&&(t.readonly?o["aria-readonly"]=!0:delete t.readonly),{tagElm:this.createTagElem(t,o),tagData:t,aggregatedInvalidInput:i}},postProcessNewTagNode:function(t,e){var n=this,i=this.settings,o=e.__isValid;o&&!0===o?this.value.push(e):(this.trigger("invalid",{data:e,index:this.value.length,tag:t,message:o}),i.keepInvalidTags||setTimeout((function(){return n.removeTags(t,!0)}),1e3)),this.dropdown.position()},selectTag:function(t,e){var n=this;if(!this.settings.enforceWhitelist||this.isTagWhitelisted(e.value)){this.state.actions.selectOption&&setTimeout((function(){return n.setRangeAtStartEnd(!1,n.DOM.input)}));var i=this.getLastTag();return i?this.replaceTag(i,e):this.appendTag(t),this.value[0]=e,this.update(),this.trigger("add",{tag:t,data:e}),[t]}},addEmptyTag:function(t){var e=Wo({value:""},t||{}),n=this.createTagElem(e);Zo(n,e),this.appendTag(n),this.editTag(n,{skipValidation:!0}),this.toggleFocusClass(!0)},addTags:function(t,e,n){var i=this,o=[],a=this.settings,r=[],s=document.createDocumentFragment(),l=[];if(!t||0==t.length)return o;switch(t=this.normalizeTags(t),a.mode){case"mix":return this.addMixTags(t);case"select":e=!1,this.removeAllTags()}return this.DOM.input.removeAttribute("style"),t.forEach((function(t){var e=i.prepareNewTagNode(t,{skipInvalid:n||a.skipInvalid});if(e){var c=e.tagElm;if(t=e.tagData,r=e.aggregatedInvalidInput,o.push(c),"select"==a.mode)return i.selectTag(c,t);s.appendChild(c),i.postProcessNewTagNode(c,t),l.push({tagElm:c,tagData:t})}})),this.appendTag(s),l.forEach((function(t){var e=t.tagElm,n=t.tagData;return i.trigger("add",{tag:e,index:i.getTagIdx(n),data:n})})),this.update(),t.length&&e&&(this.input.set.call(this,a.createInvalidTags?"":r.join(a._delimiters)),this.setRangeAtStartEnd(!1,this.DOM.input)),this.dropdown.refilter(),o},addMixTags:function(t){var e=this;if((t=this.normalizeTags(t))[0].prefix||this.state.tag)return this.prefixedTextToTag(t[0]);var n=document.createDocumentFragment();return t.forEach((function(t){var i=e.prepareNewTagNode(t);n.appendChild(i.tagElm),e.insertAfterTag(i.tagElm),e.postProcessNewTagNode(i.tagElm,i.tagData)})),this.appendMixTags(n),n.children},appendMixTags:function(t){var e=!!this.state.selection;e?this.injectAtCaret(t):(this.DOM.input.focus(),(e=this.setStateSelection()).range.setStart(this.DOM.input,e.range.endOffset),e.range.setEnd(this.DOM.input,e.range.endOffset),this.DOM.input.appendChild(t),this.updateValueByDOMTags(),this.update())},prefixedTextToTag:function(t){var e,n,i,o=this,a=this.settings,r=null===(e=this.state.tag)||void 0===e?void 0:e.delimiters;if(t.prefix=t.prefix||this.state.tag?this.state.tag.prefix:(a.pattern.source||a.pattern)[0],i=this.prepareNewTagNode(t),n=i.tagElm,this.replaceTextWithNode(n)||this.DOM.input.appendChild(n),setTimeout((function(){return n.classList.add(o.settings.classNames.tagNoAnimation)}),300),this.update(),!r){var s=this.insertAfterTag(n)||n;setTimeout(Jo,0,s)}return this.state.tag=null,this.postProcessNewTagNode(n,i.tagData),n},appendTag:function(t){var e=this.DOM,n=e.input;e.scope.insertBefore(t,n)},createTagElem:function(t,e){t.__tagId=zo();var n,i=Wo({},t,Ea({value:$o(t.value+"")},e));return function(t){for(var e,n=document.createNodeIterator(t,NodeFilter.SHOW_TEXT,null,!1);e=n.nextNode();)e.textContent.trim()||e.parentNode.removeChild(e)}(n=this.parseTemplate("tag",[i,this])),Zo(n,t),n},reCheckInvalidTags:function(){var t=this,e=this.settings;this.getTagElms(e.classNames.tagNotAllowed).forEach((function(n,i){var o=Zo(n),a=t.hasMaxTags(),r=t.validateTag(o),s=!0===r&&!a;if("select"==e.mode&&t.toggleScopeValidation(r),s)return o=o.__preInvalidData?o.__preInvalidData:{value:o.value},t.replaceTag(n,o);n.title=a||r}))},removeTags:function(t,e,n){var i,o=this,a=this.settings;if(t=t&&Ta(t,HTMLElement)?[t]:Ta(t,Array)?t:t?[t]:[this.getLastTag()].filter((function(t){return t})),i=t.reduce((function(t,e){e&&"string"==typeof e&&(e=o.getTagElmByValue(e));var n=Zo(e);return e&&n&&!n.readonly&&t.push({node:e,idx:o.getTagIdx(n),data:Zo(e,{__removed:!0})}),t}),[]),n="number"==typeof n?n:this.CSSVars.tagHideTransition,"select"==a.mode&&(n=0,this.input.set.call(this)),1==i.length&&"select"!=a.mode&&i[0].node.classList.contains(a.classNames.tagNotAllowed)&&(e=!0),i.length)return a.hooks.beforeRemoveTag(i,{tagify:this}).then((function(){var t=function(t){t.node.parentNode&&(t.node.parentNode.removeChild(t.node),e?a.keepInvalidTags&&this.trigger("remove",{tag:t.node,index:t.idx}):(this.trigger("remove",{tag:t.node,index:t.idx,data:t.data}),this.dropdown.refilter(),this.dropdown.position(),this.DOM.input.normalize(),a.keepInvalidTags&&this.reCheckInvalidTags()))};n&&n>10&&1==i.length?function(e){e.node.style.width=parseFloat(window.getComputedStyle(e.node).width)+"px",document.body.clientTop,e.node.classList.add(a.classNames.tagHide),setTimeout(t.bind(this),n,e)}.call(o,i[0]):i.forEach(t.bind(o)),e||(o.removeTagsFromValue(i.map((function(t){return t.node}))),o.update(),"select"==a.mode&&a.userInput&&o.setContentEditable(!0))})).catch((function(t){}))},removeTagsFromDOM:function(){this.getTagElms().forEach((function(t){return t.remove()}))},removeTagsFromValue:function(t){var e=this;(t=Array.isArray(t)?t:[t]).forEach((function(t){var n=Zo(t),i=e.getTagIdx(n);i>-1&&e.value.splice(i,1)}))},removeAllTags:function(t){var e=this;t=t||{},this.value=[],"mix"==this.settings.mode?this.DOM.input.innerHTML="":this.removeTagsFromDOM(),this.dropdown.refilter(),this.dropdown.position(),this.state.dropdown.visible&&setTimeout((function(){e.DOM.input.focus()})),"select"==this.settings.mode&&(this.input.set.call(this),this.settings.userInput&&this.setContentEditable(!0)),this.update(t)},postUpdate:function(){this.state.blockChangeEvent=!1;var t,e,n=this.settings,i=n.classNames,o="mix"==n.mode?n.mixMode.integrated?this.DOM.input.textContent:this.DOM.originalInput.value.trim():this.value.length+this.input.raw.call(this).length;this.toggleClass(i.hasMaxTags,this.value.length>=n.maxTags),this.toggleClass(i.hasNoTags,!this.value.length),this.toggleClass(i.empty,!o),"select"==n.mode&&this.toggleScopeValidation(null===(e=this.value)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.__isValid)},setOriginalInputValue:function(t){var e=this.DOM.originalInput;this.settings.mixMode.integrated||(e.value=t,e.tagifyValue=e.value,this.setPersistedData(t,"value"))},update:function(t){clearTimeout(this.debouncedUpdateTimeout),this.debouncedUpdateTimeout=setTimeout(function(){var e=this.getInputValue();this.setOriginalInputValue(e),this.settings.onChangeAfterBlur&&(t||{}).withoutChangeEvent||this.state.blockChangeEvent||this.triggerChangeEvent(),this.postUpdate()}.bind(this),100),this.events.bindOriginaInputListener.call(this,100)},getInputValue:function(){var t=this.getCleanValue();return"mix"==this.settings.mode?this.getMixedTagsAsString(t):t.length?this.settings.originalInputValueFormat?this.settings.originalInputValueFormat(t):JSON.stringify(t):""},getCleanValue:function(t){return qo(t||this.value,this.dataProps)},getMixedTagsAsString:function(){var t="",e=this,n=this.settings,i=n.originalInputValueFormat||JSON.stringify,o=n.mixTagsInterpolator;return function n(a){a.childNodes.forEach((function(a){if(1==a.nodeType){var r=Zo(a);if("BR"==a.tagName&&(t+="\r\n"),r&&Ko.call(e,a)){if(r.__removed)return;t+=o[0]+i(jo(r,e.dataProps))+o[1]}else a.getAttribute("style")||["B","I","U"].includes(a.tagName)?t+=a.textContent:"DIV"!=a.tagName&&"P"!=a.tagName||(t+="\r\n",n(a))}else t+=a.textContent}))}(this.DOM.input),t}},Da.prototype.removeTag=Da.prototype.removeTags,e()(),document.addEventListener("DOMContentLoaded",(function(){var t,e,n,i;i=[{source:document.querySelector(".filter__groups"),desktopContainer:document.querySelector(".filter"),mobileSelector:"#modal-filter .filter-modal__groups",clone:!1},{source:document.getElementById("filter-price"),mobileSelector:"#modal-price .filter-modal__groups",clone:!0},{source:document.getElementById("filter-color"),mobileSelector:"#modal-color .filter-modal__groups",clone:!0},{source:document.getElementById("filter-categories"),mobileSelector:"#modal-categories .filter-modal__groups",clone:!0},{source:document.getElementById("filter-delivery"),mobileSelector:"#modal-delivery .filter-modal__groups",clone:!0},{source:document.getElementById("filter-country"),mobileSelector:"#modal-country .filter-modal__groups",clone:!0},{source:document.getElementById("filter-eco"),mobileSelector:"#modal-eco .filter-modal__groups",clone:!0},{source:document.getElementById("filter-discounts"),mobileSelector:"#modal-discounts .filter-modal__groups",clone:!0}],document.querySelector(".filter")&&o().register(a.media.max.lg,{match:function(){i.forEach((function(t){return function(t){if(t.source){var e=document.querySelector(t.mobileSelector);if(e)if(t.clone){var n=t.source.cloneNode(!0);e.insertAdjacentElement("afterbegin",n),t.mobileClone=n}else e.insertAdjacentElement("afterbegin",t.source)}}(t)}))},unmatch:function(){i.forEach((function(t){return function(t){if(t.source)if(t.clone)t.mobileClone&&t.mobileClone.parentNode&&(t.mobileClone.parentNode.removeChild(t.mobileClone),t.mobileClone=null);else{var e=t.desktopContainer||document.querySelector(".filter");if(!e)return;e.insertAdjacentElement("afterbegin",t.source)}}(t)}))}}),V(),zn(),S.init(R),document.addEventListener("click",(function(t){var e=t.target.closest(".categories-list__show-more");e&&e.closest(".categories-list").classList.add("show-all");var n=t.target.closest(".categories-list__show-less");n&&n.closest(".categories-list").classList.remove("show-all");var i=t.target.closest(".address-input__clear");if(i){var o=i.closest(".address-input");o.querySelector(".address-input__control").value="",o.classList.remove("has-value","is-floating")}t.target.closest(".filter-tag__icon-wrap")&&t.stopPropagation()}),!0),function(){var t=document.querySelector(".search-header");if(t){var e=t.querySelector(".search-header__control"),n=t.querySelector(".search-header__clear"),i=function(){""!==e.value.trim()?t.classList.add("has-value"):t.classList.remove("has-value")};e.addEventListener("input",i),n.addEventListener("click",(function(){e.value="",t.classList.remove("has-value")})),i()}}(),Kn(),(t=document.getElementById("datepicker"))&&new Ao(t,{inputMode:!0,positionToInput:"auto",selectionDatesMode:"multiple-ranged",layouts:{default:'\n        <div class="vc-year-wrap">\n            <#Year />\n        </div>\n        <div class="vc-header" data-vc="header" role="toolbar" aria-label="Calendar Navigation">\n            <#ArrowPrev [month] />\n            <div class="vc-header__content" data-vc-header="content">\n                <#Month />\n            </div>\n            <#ArrowNext [month] />\n        </div>\n        <div class="vc-wrapper" data-vc="wrapper">\n            <#WeekNumbers />\n            <div class="vc-content" data-vc="content">\n                <#Week />\n                <#Dates />\n                <#DateRangeTooltip />\n            </div>\n        </div>\n        <#ControlTime />',year:'\n        <div class="vc-year-wrap">\n            <#Year />\n        </div>\n        <div class="vc-header" data-vc="header" role="toolbar" aria-label="Calendar Navigation">\n            <#ArrowPrev [year] />\n            <div class="vc-header__content" data-vc-header="content">\n                <#Month />\n            </div>\n            <#ArrowNext [year] />\n        </div>\n        <div class="vc-wrapper" data-vc="wrapper">\n            <div class="vc-content" data-vc="content">\n                <#Years />\n            </div>\n        </div>',month:'\n        <div class="vc-year-wrap">\n            <#Year />\n        </div>\n        <div class="vc-header" data-vc="header" role="toolbar" aria-label="Calendar Navigation">\n            <div class="vc-header__content" data-vc-header="content">\n                <#Month />\n            </div>\n        </div>\n        <div class="vc-wrapper" data-vc="wrapper">\n            <div class="vc-content" data-vc="content">\n                <#Months />\n            </div>\n        </div>'},onChangeToInput:function(t){if(t.context.inputElement){var e=t.context.selectedDates;2===e.length?t.context.inputElement.value=e.join(" - "):1===e.length?t.context.inputElement.value=e[0]:t.context.inputElement.value=""}}}).init(),document.querySelectorAll("[data-tabs]").forEach(Oo),function(){if(Y){var t=document.getElementById("selectAllCartProducts"),e=document.querySelector(".checkout"),n=null==e?void 0:e.querySelector(".checkout__btn");o(),i(),Y.addEventListener("change",(function(t){t.target.matches(".product-cart__checkbox .checkbox__input")&&o()})),t.addEventListener("change",(function(t){var e;e=t.target.checked,Y.querySelectorAll(".product-cart__checkbox .checkbox__input").forEach((function(t){t.checked=e})),i()})),Y.querySelectorAll(".quantity").forEach(a),Y.addEventListener("click",(function(t){var e=t.target.closest(".quantity__btn");if(e){t.preventDefault();var n=e.closest(".quantity"),i=n.querySelector(".quantity__control"),o=parseInt(i.value,10)||1;e.classList.contains("quantity__btn--minus")?o=Math.max(1,o-1):e.classList.contains("quantity__btn--plus")&&o++,i.value=o,a(n),n.dispatchEvent(new CustomEvent("quantityChange",{detail:{value:o}}))}})),Y.addEventListener("blur",(function(t){if(t.target.matches(".quantity__control")){var e=t.target,n=parseInt(e.value,10);(isNaN(n)||n<1)&&(n=1),e.value=n;var i=e.closest(".quantity");a(i),i.dispatchEvent(new CustomEvent("quantityChange",{detail:{value:n}}))}}),!0),Y.addEventListener("input",(function(t){t.target.matches(".quantity__control")&&(t.target.value=t.target.value.replace(/\D/g,""))}))}function i(){var t=null!==Y.querySelector(".product-cart__checkbox .checkbox__input:checked");e&&n&&(t?(e.classList.remove("checkout--disabled"),n.disabled=!1):(e.classList.add("checkout--disabled"),n.disabled=!0))}function o(){var e=Y.querySelectorAll(".product-cart__checkbox .checkbox__input");t.checked=Array.from(e).every((function(t){return t.checked})),i()}function a(t){var e=t.querySelector(".quantity__control");t.querySelector(".quantity__btn--minus").disabled=parseInt(e.value,10)<=1}}(),function(){function t(t,e){var n=e.settings;return'<tag title="'.concat(t.title||t.value,"\"\n                            contenteditable='false'\n                            tabIndex=\"").concat(n.a11y.focusableTags?0:-1,'"\n                            class="').concat(n.classNames.tag," ").concat(t.class||"",'"\n                            ').concat(this.getAttributes(t),">\n                    <x title='' tabIndex=\"").concat(n.a11y.focusableTags?0:-1,'" class="').concat(n.classNames.tagX,'" role=\'button\' aria-label=\'remove tag\'><svg aria-hidden="true"><use href="images/icons/sprite.svg#close"></use></svg></x>\n                    <div>\n                        <span ').concat("select"===n.mode&&n.userInput?"contenteditable='true'":"",' autocapitalize="false" autocorrect="off" spellcheck=\'false\' class="').concat(n.classNames.tagText,'">').concat(t[n.tagTextProp]||t.value,"</span>\n                    </div>\n                </tag>")}var e=document.querySelector(".custom-select-searchable");e&&new Da(e,{whitelist:["Oslo","Gamle Oslo"],mode:"select",classNames:{dropdown:"tagify__dropdown tagify__dropdown--custom-select-searchable"},templates:{tag:t}});var n=document.querySelector(".address-input__control");n&&new Da(n,{whitelist:["Oslo","Akershus"],mode:"select",classNames:{dropdown:"tagify__dropdown tagify__dropdown--header"},templates:{tag:t}})}(),Sa(),window.addEventListener("resize",(e=Sa,function(){var t=this,i=arguments;clearTimeout(n),n=setTimeout((function(){return e.apply(t,i)}),300)}))}))}()}();